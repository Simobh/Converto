var XD=Object.defineProperty,eb=Object.defineProperties;var tb=Object.getOwnPropertyDescriptors;var Ky=Object.getOwnPropertySymbols,nb=Object.getPrototypeOf,rb=Object.prototype.hasOwnProperty,ib=Object.prototype.propertyIsEnumerable,sb=Reflect.get;var Qy=(t,e,n)=>e in t?XD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M=(t,e)=>{for(var n in e||={})rb.call(e,n)&&Qy(t,n,e[n]);if(Ky)for(var n of Ky(e))ib.call(e,n)&&Qy(t,n,e[n]);return t},ve=(t,e)=>eb(t,tb(e));var Mn=(t,e,n)=>sb(nb(t),n,e);var b=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(d){i(d)}},o=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});var Yy=null;var Zl=1,Jy=Symbol("SIGNAL");function se(t){let e=Yy;return Yy=t,e}var Zy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ob(t){if(!(td(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zl)){if(!t.producerMustRecompute(t)&&!Xl(t)){t.dirty=!1,t.lastCleanEpoch=Zl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zl}}function Xy(t){return t&&(t.nextProducerIndex=0),se(t)}function e_(t,e){if(se(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(td(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ed(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Xl(t){Ma(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ob(n),r!==n.version))return!0}return!1}function t_(t){if(Ma(t),td(t))for(let e=0;e<t.producerNode.length;e++)ed(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ed(t,e){if(ab(t),Ma(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ed(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ma(i),i.producerIndexOfThis[r]=e}}function td(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ma(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ab(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function cb(){throw new Error}var ub=cb;function n_(t){ub=t}function $(t){return typeof t=="function"}function ri(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ka=ri(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var we=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if($(r))try{r()}catch(s){e=s instanceof ka?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{r_(s)}catch(o){e=e??[],o instanceof ka?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ka(e)}}add(e){var n;if(e&&e!==this)if(this.closed)r_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hr(n,e)}remove(e){let{_finalizers:n}=this;n&&hr(n,e),e instanceof t&&e._removeParent(this)}};we.EMPTY=(()=>{let t=new we;return t.closed=!0,t})();var nd=we.EMPTY;function Oa(t){return t instanceof we||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function r_(t){$(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ii={setTimeout(t,e,...n){let{delegate:r}=ii;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ii;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function La(t){ii.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function Os(){}var i_=rd("C",void 0,void 0);function s_(t){return rd("E",void 0,t)}function o_(t){return rd("N",t,void 0)}function rd(t,e,n){return{kind:t,value:e,error:n}}var fr=null;function si(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!fr;if(e&&(fr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=fr;if(fr=null,n)throw r}}else t()}function a_(t){St.useDeprecatedSynchronousErrorHandling&&fr&&(fr.errorThrown=!0,fr.error=t)}var pr=class extends we{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Oa(e)&&e.add(this)):this.destination=hb}static create(e,n,r){return new oi(e,n,r)}next(e){this.isStopped?sd(o_(e),this):this._next(e)}error(e){this.isStopped?sd(s_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sd(i_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lb=Function.prototype.bind;function id(t,e){return lb.call(t,e)}var od=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Fa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Fa(r)}else Fa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Fa(n)}}},oi=class extends pr{constructor(e,n,r){super();let i;if($(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&id(e.next,s),error:e.error&&id(e.error,s),complete:e.complete&&id(e.complete,s)}):i=e}this.destination=new od(i)}};function Fa(t){St.useDeprecatedSynchronousErrorHandling?a_(t):La(t)}function db(t){throw t}function sd(t,e){let{onStoppedNotification:n}=St;n&&ii.setTimeout(()=>n(t,e))}var hb={closed:!0,next:Os,error:db,complete:Os};var ai=typeof Symbol=="function"&&Symbol.observable||"@@observable";function at(t){return t}function ad(...t){return cd(t)}function cd(t){return t.length===0?at:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=pb(n)?n:new oi(n,r,i);return si(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=c_(r),new r((i,s)=>{let o=new oi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ai](){return this}pipe(...n){return cd(n)(this)}toPromise(n){return n=c_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function c_(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function fb(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function pb(t){return t&&t instanceof pr||fb(t)&&Oa(t)}function ud(t){return $(t?.lift)}function Q(t){return e=>{if(ud(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,n,r,i){return new ld(t,e,n,r,i)}var ld=class extends pr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ci(){return Q((t,e)=>{let n=null;t._refCount++;let r=Y(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ui=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ud(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new we;let n=this.getSubject();e.add(this.source.subscribe(Y(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=we.EMPTY)}return e}refCount(){return ci()(this)}};var u_=ri(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Va(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new u_}next(n){si(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){si(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){si(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?nd:(this.currentObservers=null,s.push(n),new we(()=>{this.currentObservers=null,hr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new Va(e,n),t})(),Va=class extends Ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:nd}};var Me=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var dd={now(){return(dd.delegate||Date).now()},delegate:void 0};var Ua=class extends we{constructor(e,n){super()}schedule(e,n=0){return this}};var Ls={setInterval(t,e,...n){let{delegate:r}=Ls;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ls;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var li=class extends Ua{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ls.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ls.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var di=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};di.now=dd.now;var hi=class extends di{constructor(e,n=di.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var hd=new hi(li);var ja=class extends li{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ba=class extends hi{};var fd=new Ba(ja);var ct=new ie(t=>t.complete());function l_(t){return t&&$(t.schedule)}function d_(t){return t[t.length-1]}function h_(t){return $(d_(t))?t.pop():void 0}function kn(t){return l_(d_(t))?t.pop():void 0}function pd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function p_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function f_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gr(t){return this instanceof gr?(this.v=t,this):new gr(t)}function g_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(S){return function(A){return Promise.resolve(A).then(S,p)}}function c(S,A){r[S]&&(i[S]=function(x){return new Promise(function(k,q){s.push([S,x,k,q])>1||u(S,x)})},A&&(i[S]=A(i[S])))}function u(S,A){try{d(r[S](A))}catch(x){w(s[0][3],x)}}function d(S){S.value instanceof gr?Promise.resolve(S.value.v).then(f,p):w(s[0][2],S)}function f(S){u("next",S)}function p(S){u("throw",S)}function w(S,A){S(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function m_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof f_=="function"?f_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}var $a=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ha(t){return $(t?.then)}function qa(t){return $(t[ai])}function za(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function Wa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ga=gb();function Ka(t){return $(t?.[Ga])}function Qa(t){return g_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield gr(n.read());if(i)return yield gr(void 0);yield yield gr(r)}}finally{n.releaseLock()}})}function Ya(t){return $(t?.getReader)}function Se(t){if(t instanceof ie)return t;if(t!=null){if(qa(t))return mb(t);if($a(t))return yb(t);if(Ha(t))return _b(t);if(za(t))return y_(t);if(Ka(t))return vb(t);if(Ya(t))return wb(t)}throw Wa(t)}function mb(t){return new ie(e=>{let n=t[ai]();if($(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yb(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _b(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,La)})}function vb(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function y_(t){return new ie(e=>{Ib(t,e).catch(n=>e.error(n))})}function wb(t){return y_(Qa(t))}function Ib(t,e){var n,r,i,s;return p_(this,void 0,void 0,function*(){try{for(n=m_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Xe(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function On(t,e=0){return Q((n,r)=>{n.subscribe(Y(r,i=>Xe(r,t,()=>r.next(i),e),()=>Xe(r,t,()=>r.complete(),e),i=>Xe(r,t,()=>r.error(i),e)))})}function Ln(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function __(t,e){return Se(t).pipe(Ln(e),On(e))}function v_(t,e){return Se(t).pipe(Ln(e),On(e))}function w_(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function I_(t,e){return new ie(n=>{let r;return Xe(n,e,()=>{r=t[Ga](),Xe(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>$(r?.return)&&r.return()})}function Ja(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{Xe(n,e,()=>{let r=t[Symbol.asyncIterator]();Xe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function E_(t,e){return Ja(Qa(t),e)}function T_(t,e){if(t!=null){if(qa(t))return __(t,e);if($a(t))return w_(t,e);if(Ha(t))return v_(t,e);if(za(t))return Ja(t,e);if(Ka(t))return I_(t,e);if(Ya(t))return E_(t,e)}throw Wa(t)}function Ie(t,e){return e?T_(t,e):Se(t)}function U(...t){let e=kn(t);return Ie(t,e)}function fi(t,e){let n=$(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function gd(t){return!!t&&(t instanceof ie||$(t.lift)&&$(t.subscribe))}var ln=ri(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return Q((n,r)=>{let i=0;n.subscribe(Y(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:Eb}=Array;function Tb(t,e){return Eb(e)?t(...e):t(e)}function C_(t){return J(e=>Tb(t,e))}var{isArray:Cb}=Array,{getPrototypeOf:Db,prototype:bb,keys:Sb}=Object;function D_(t){if(t.length===1){let e=t[0];if(Cb(e))return{args:e,keys:null};if(Ab(e)){let n=Sb(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Ab(t){return t&&typeof t=="object"&&Db(t)===bb}function b_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Fs(...t){let e=kn(t),n=h_(t),{args:r,keys:i}=D_(t);if(r.length===0)return Ie([],e);let s=new ie(Rb(r,e,i?o=>b_(i,o):at));return n?s.pipe(C_(n)):s}function Rb(t,e,n=at){return r=>{S_(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)S_(e,()=>{let d=Ie(t[u],e),f=!1;d.subscribe(Y(r,p=>{s[u]=p,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function S_(t,e,n){t?Xe(n,t,e):e()}function A_(t,e,n,r,i,s,o,c){let u=[],d=0,f=0,p=!1,w=()=>{p&&!u.length&&!d&&e.complete()},S=x=>d<r?A(x):u.push(x),A=x=>{s&&e.next(x),d++;let k=!1;Se(n(x,f++)).subscribe(Y(e,q=>{i?.(q),s?S(q):e.next(q)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;u.length&&d<r;){let q=u.shift();o?Xe(e,o,()=>A(q)):A(q)}w()}catch(q){e.error(q)}}))};return t.subscribe(Y(e,S,()=>{p=!0,w()})),()=>{c?.()}}function Ee(t,e,n=1/0){return $(e)?Ee((r,i)=>J((s,o)=>e(r,s,i,o))(Se(t(r,i))),n):(typeof e=="number"&&(n=e),Q((r,i)=>A_(r,i,t,n)))}function pi(t=1/0){return Ee(at,t)}function R_(){return pi(1)}function gi(...t){return R_()(Ie(t,kn(t)))}function Za(t){return new ie(e=>{Se(t()).subscribe(e)})}function yt(t,e){return Q((n,r)=>{let i=0;n.subscribe(Y(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Fn(t){return Q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Y(n,void 0,void 0,o=>{s=Se(t(o,Fn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function N_(t,e,n,r,i){return(s,o)=>{let c=n,u=e,d=0;s.subscribe(Y(o,f=>{let p=d++;u=c?t(u,f,p):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function mr(t,e){return $(e)?Ee(t,e,1):Ee(t,1)}function Vn(t){return Q((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function dn(t){return t<=0?()=>ct:Q((e,n)=>{let r=0;e.subscribe(Y(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function md(t){return J(()=>t)}function Xa(t=Nb){return Q((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Nb(){return new ln}function Vs(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Bt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yt((i,s)=>t(i,s,r)):at,dn(1),n?Vn(e):Xa(()=>new ln))}function mi(t){return t<=0?()=>ct:Q((e,n)=>{let r=[];e.subscribe(Y(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yt((i,s)=>t(i,s,r)):at,mi(1),n?Vn(e):Xa(()=>new ln))}function _d(t,e){return Q(N_(t,e,arguments.length>=2,!0))}function vd(...t){let e=kn(t);return Q((n,r)=>{(e?gi(t,n,e):gi(t,n)).subscribe(r)})}function _t(t,e){return Q((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(Y(r,u=>{i?.unsubscribe();let d=0,f=s++;Se(t(u,f)).subscribe(i=Y(r,p=>r.next(e?e(u,p,f,d++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function wd(t){return Q((e,n)=>{Se(t).subscribe(Y(n,()=>n.complete(),Os)),!n.closed&&e.subscribe(n)})}function De(t,e,n){let r=$(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(Y(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):at}var fv="https://g.co/ng/security#xss",F=class extends Error{constructor(e,n){super(gh(e,n)),this.code=e}};function gh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Xs(t){return{toString:t}.toString()}var ec="__parameters__";function Pb(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pv(t,e,n){return Xs(()=>{let r=Pb(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,d,f){let p=u.hasOwnProperty(ec)?u[ec]:Object.defineProperty(u,ec,{value:[]})[ec];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ut=globalThis;function le(t){for(let e in t)if(t[e]===le)return e;throw Error("Could not find renamed property on target object.")}function lt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function P_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var xb=le({__forward_ref__:le});function gv(t){return t.__forward_ref__=gv,t.toString=function(){return lt(this())},t}function wt(t){return mv(t)?t():t}function mv(t){return typeof t=="function"&&t.hasOwnProperty(xb)&&t.__forward_ref__===gv}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rc(t){return x_(t,_v)||x_(t,vv)}function yv(t){return Rc(t)!==null}function x_(t,e){return t.hasOwnProperty(e)?t[e]:null}function Mb(t){let e=t&&(t[_v]||t[vv]);return e||null}function M_(t){return t&&(t.hasOwnProperty(k_)||t.hasOwnProperty(kb))?t[k_]:null}var _v=le({\u0275prov:le}),k_=le({\u0275inj:le}),vv=le({ngInjectableDef:le}),kb=le({ngInjectorDef:le}),O=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wv(t){return t&&!!t.\u0275providers}var Ob=le({\u0275cmp:le}),Lb=le({\u0275dir:le}),Fb=le({\u0275pipe:le}),Vb=le({\u0275mod:le}),ac=le({\u0275fac:le}),Us=le({__NG_ELEMENT_ID__:le}),O_=le({__NG_ENV_ID__:le});function mh(t){return typeof t=="string"?t:t==null?"":String(t)}function Ub(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():mh(t)}function jb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new F(-200,t)}function yh(t,e){throw new F(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),Pd;function Iv(){return Pd}function vt(t){let e=Pd;return Pd=t,e}function Ev(t,e,n){let r=Rc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;yh(t,"Injector")}var Bb={},Bs=Bb,xd="__NG_DI_FLAG__",cc="ngTempTokenPath",$b="ngTokenPath",Hb=/\n/gm,qb="\u0275",L_="__source",Ii;function zb(){return Ii}function Un(t){let e=Ii;return Ii=t,e}function Wb(t,e=z.Default){if(Ii===void 0)throw new F(-203,!1);return Ii===null?Ev(t,void 0,e):Ii.get(t,e&z.Optional?null:void 0,e)}function V(t,e=z.Default){return(Iv()||Wb)(wt(t),e)}function P(t,e=z.Default){return V(t,Nc(e))}function Nc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Md(t){let e=[];for(let n=0;n<t.length;n++){let r=wt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){let c=r[o],u=Gb(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(V(i,s))}else e.push(V(r))}return e}function Tv(t,e){return t[xd]=e,t.prototype[xd]=e,t}function Gb(t){return t[xd]}function Kb(t,e,n,r){let i=t[cc];throw e[L_]&&i.unshift(e[L_]),t.message=Qb(`
`+t.message,i,n,r),t[$b]=i,t[cc]=null,t}function Qb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==qb?t.slice(2):t;let i=lt(e);if(Array.isArray(e))i=e.map(lt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):lt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Hb,`
  `)}`}var Ce=Tv(pv("Optional"),8);var Cv=Tv(pv("SkipSelf"),4);function Ci(t,e){let n=t.hasOwnProperty(ac);return n?t[ac]:null}function _h(t,e){t.forEach(n=>Array.isArray(n)?_h(n,e):e(n))}function Dv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function uc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var $s={},$t=[],Di=new O(""),bv=new O("",-1),Sv=new O(""),lc=class{get(e,n=Bs){if(n===Bs){let r=new Error(`NullInjectorError: No provider for ${lt(e)}!`);throw r.name="NullInjectorError",r}return n}},Av=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Av||{}),qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(qt||{}),$n=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}($n||{});function Yb(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function kd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];Zb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Jb(t){return t===3||t===4||t===6}function Zb(t){return t.charCodeAt(0)===64}function vh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?F_(t,n,i,null,e[++r]):F_(t,n,i,null,null))}}return t}function F_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Rv="ng-template";function Xb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Yb(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(wh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function wh(t){return t.type===4&&t.value!==Rv}function eS(t,e,n){let r=t.type===4&&!n?Rv:t.value;return e===r}function tS(t,e,n){let r=4,i=t.attrs,s=i!==null?iS(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!At(r)&&!At(u))return!1;if(o&&At(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!eS(t,u,n)||u===""&&e.length===1){if(At(r))return!1;o=!0}}else if(r&8){if(i===null||!Xb(t,i,u,n)){if(At(r))return!1;o=!0}}else{let d=e[++c],f=nS(u,i,wh(t),n);if(f===-1){if(At(r))return!1;o=!0;continue}if(d!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&d!==p){if(At(r))return!1;o=!0}}}}return At(r)||o}function At(t){return(t&1)===0}function nS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return sS(e,t)}function rS(t,e,n=!1){for(let r=0;r<e.length;r++)if(tS(t,e[r],n))return!0;return!1}function iS(t){for(let e=0;e<t.length;e++){let n=t[e];if(Jb(n))return e}return t.length}function sS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function V_(t,e){return t?":not("+e.trim()+")":e}function oS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!At(o)&&(e+=V_(s,i),i=""),r=o,s=s||!At(r);n++}return i!==""&&(e+=V_(s,i)),e}function aS(t){return t.map(oS).join(",")}function cS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!At(i))break;i=s}r++}return{attrs:e,classes:n}}function Pc(t){return Xs(()=>{let e=kv(t),n=ve(M({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Av.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||qt.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""});Ov(n);let r=t.dependencies;return n.directiveDefs=j_(r,!1),n.pipeDefs=j_(r,!0),n.id=dS(n),n})}function uS(t){return Hn(t)||Nv(t)}function lS(t){return t!==null}function Mt(t){return Xs(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function U_(t,e){if(t==null)return $s;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=$n.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==$n.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Ih(t){return Xs(()=>{let e=kv(t);return Ov(e),e})}function Hn(t){return t[Ob]||null}function Nv(t){return t[Lb]||null}function Pv(t){return t[Fb]||null}function xv(t){let e=Hn(t)||Nv(t)||Pv(t);return e!==null?e.standalone:!1}function Mv(t,e){let n=t[Vb]||null;if(!n&&e===!0)throw new Error(`Type ${lt(t)} does not have '\u0275mod' property.`);return n}function kv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$s,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:U_(t.inputs,e),outputs:U_(t.outputs),debugInfo:null}}function Ov(t){t.features?.forEach(e=>e(t))}function j_(t,e){if(!t)return null;let n=e?Pv:uS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(lS)}function dS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Wt(t){return{\u0275providers:t}}function hS(...t){return{\u0275providers:Lv(!0,t),\u0275fromNgModule:!0}}function Lv(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return _h(e,o=>{let c=o;Od(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Fv(i,s),n}function Fv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Eh(i,s=>{e(s,r)})}}function Od(t,e,n,r){if(t=wt(t),!t)return!1;let i=null,s=M_(t),o=!s&&Hn(t);if(!s&&!o){let u=t.ngModule;if(s=M_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)Od(d,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let d;try{_h(s.imports,f=>{Od(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Fv(d,e)}if(!c){let d=Ci(i)||(()=>new i);e({provide:i,useFactory:d,deps:$t},i),e({provide:Sv,useValue:i,multi:!0},i),e({provide:Di,useValue:()=>V(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let d=t;Eh(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Eh(t,e){for(let n of t)wv(n)&&(n=n.\u0275providers),Array.isArray(n)?Eh(n,e):e(n)}var fS=le({provide:String,useValue:le});function Vv(t){return t!==null&&typeof t=="object"&&fS in t}function pS(t){return!!(t&&t.useExisting)}function gS(t){return!!(t&&t.useFactory)}function Ld(t){return typeof t=="function"}var xc=new O(""),nc={},mS={},Id;function Th(){return Id===void 0&&(Id=new lc),Id}var et=class{},Hs=class extends et{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vd(e,o=>this.processProvider(o)),this.records.set(bv,yi(void 0,this)),i.has("environment")&&this.records.set(et,yi(void 0,this));let s=this.records.get(xc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Sv,$t,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Un(this),r=vt(void 0),i;try{return e()}finally{Un(n),vt(r)}}get(e,n=Bs,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(O_))return e[O_](this);r=Nc(r);let i,s=Un(this),o=vt(void 0);try{if(!(r&z.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=ES(e)&&Rc(e);d&&this.injectableDefInScope(d)?u=yi(Fd(e),nc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&z.Self?Th():this.parent;return n=r&z.Optional&&n===Bs?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[cc]=c[cc]||[]).unshift(lt(e)),s)throw c;return Kb(c,e,"R3InjectorError",this.source)}else throw c}finally{vt(o),Un(s)}}resolveInjectorInitializers(){let e=se(null),n=Un(this),r=vt(void 0),i;try{let s=this.get(Di,$t,z.Self);for(let o of s)o()}finally{Un(n),vt(r),se(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){e=wt(e);let n=Ld(e)?e:wt(e&&e.provide),r=_S(e);if(!Ld(e)&&e.multi===!0){let i=this.records.get(n);i||(i=yi(void 0,nc,!0),i.factory=()=>Md(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=se(null);try{return n.value===nc&&(n.value=mS,n.value=n.factory()),typeof n.value=="object"&&n.value&&IS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=wt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Fd(t){let e=Rc(t),n=e!==null?e.factory:Ci(t);if(n!==null)return n;if(t instanceof O)throw new F(204,!1);if(t instanceof Function)return yS(t);throw new F(204,!1)}function yS(t){if(t.length>0)throw new F(204,!1);let n=Mb(t);return n!==null?()=>n.factory(t):()=>new t}function _S(t){if(Vv(t))return yi(void 0,t.useValue);{let e=vS(t);return yi(e,nc)}}function vS(t,e,n){let r;if(Ld(t)){let i=wt(t);return Ci(i)||Fd(i)}else if(Vv(t))r=()=>wt(t.useValue);else if(gS(t))r=()=>t.useFactory(...Md(t.deps||[]));else if(pS(t))r=()=>V(wt(t.useExisting));else{let i=wt(t&&(t.useClass||t.provide));if(wS(t))r=()=>new i(...Md(t.deps));else return Ci(i)||Fd(i)}return r}function yi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wS(t){return!!t.deps}function IS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ES(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function Vd(t,e){for(let n of t)Array.isArray(n)?Vd(n,e):n&&wv(n)?Vd(n.\u0275providers,e):e(n)}function pn(t,e){t instanceof Hs&&t.assertNotDestroyed();let n,r=Un(t),i=vt(void 0);try{return e()}finally{Un(r),vt(i)}}function Uv(){return Iv()!==void 0||zb()!=null}function TS(t){if(!Uv())throw new F(-203,!1)}function CS(t){let e=ut.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function DS(t){return typeof t=="function"}var gn=0,W=1,j=2,$e=3,Rt=4,kt=5,qs=6,B_=7,It=8,bi=9,Nt=10,dt=11,zs=12,$_=13,eo=14,Pt=15,Mc=16,_i=17,Si=18,kc=19,jv=20,Bn=21,Ed=22,_r=23,hn=25,Bv=1;var vr=7,dc=8,hc=9,Ye=10,Ch=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ch||{});function Ei(t){return Array.isArray(t)&&typeof t[Bv]=="object"}function mn(t){return Array.isArray(t)&&t[Bv]===!0}function $v(t){return(t.flags&4)!==0}function Oc(t){return t.componentOffset>-1}function Hv(t){return(t.flags&1)===1}function to(t){return!!t.template}function bS(t){return(t[j]&512)!==0}var Ud=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function qv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Lc(){return zv}function zv(t){return t.type.prototype.ngOnChanges&&(t.setInput=AS),SS}Lc.ngInherit=!0;function SS(){let t=Gv(this),e=t?.current;if(e){let n=t.previous;if(n===$s)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function AS(t,e,n,r,i){let s=this.declaredInputs[r],o=Gv(t)||RS(t,{previous:$s,current:null}),c=o.current||(o.current={}),u=o.previous,d=u[s];c[s]=new Ud(d&&d.currentValue,n,u===$s),qv(t,e,i,n)}var Wv="__ngSimpleChanges__";function Gv(t){return t[Wv]||null}function RS(t,e){return t[Wv]=e}var H_=null;var jn=function(t,e,n){H_?.(t,e,n)},Kv="svg",NS="math",PS=!1;function xS(){return PS}function fn(t){for(;Array.isArray(t);)t=t[gn];return t}function MS(t,e){return fn(e[t])}function Gt(t,e){return fn(e[t.index])}function Dh(t,e){return t.data[e]}function Pi(t,e){let n=e[t];return Ei(n)?n:n[gn]}function bh(t){return(t[j]&128)===128}function kS(t){return mn(t[$e])}function fc(t,e){return e==null?null:t[e]}function Qv(t){t[_i]=0}function OS(t){t[j]&1024||(t[j]|=1024,bh(t)&&Ws(t))}function Sh(t){return!!(t[j]&9216||t[_r]?.dirty)}function jd(t){t[Nt].changeDetectionScheduler?.notify(1),Sh(t)?Ws(t):t[j]&64&&(xS()?(t[j]|=1024,Ws(t)):t[Nt].changeDetectionScheduler?.notify())}function Ws(t){t[Nt].changeDetectionScheduler?.notify();let e=Gs(t);for(;e!==null&&!(e[j]&8192||(e[j]|=8192,!bh(e)));)e=Gs(e)}function Yv(t,e){if((t[j]&256)===256)throw new F(911,!1);t[Bn]===null&&(t[Bn]=[]),t[Bn].push(e)}function LS(t,e){if(t[Bn]===null)return;let n=t[Bn].indexOf(e);n!==-1&&t[Bn].splice(n,1)}function Gs(t){let e=t[$e];return mn(e)?e[$e]:e}var te={lFrame:iw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function FS(){return te.lFrame.elementDepthCount}function VS(){te.lFrame.elementDepthCount++}function US(){te.lFrame.elementDepthCount--}function Jv(){return te.bindingsEnabled}function jS(){return te.skipHydrationRootTNode!==null}function BS(t){return te.skipHydrationRootTNode===t}function $S(){te.skipHydrationRootTNode=null}function Te(){return te.lFrame.lView}function xi(){return te.lFrame.tView}function Wn(){let t=Zv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Zv(){return te.lFrame.currentTNode}function HS(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function no(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function Xv(){return te.lFrame.isParent}function qS(){te.lFrame.isParent=!1}function ew(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function zS(t){return te.lFrame.bindingIndex=t}function Ah(){return te.lFrame.bindingIndex++}function WS(){return te.lFrame.inI18n}function GS(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bd(e)}function KS(){return te.lFrame.currentDirectiveIndex}function Bd(t){te.lFrame.currentDirectiveIndex=t}function tw(t){te.lFrame.currentQueryIndex=t}function QS(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[kt]:null}function nw(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=QS(s),i===null||(s=s[eo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=rw();return r.currentTNode=e,r.lView=t,!0}function Rh(t){let e=rw(),n=t[W];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function rw(){let t=te.lFrame,e=t===null?null:t.child;return e===null?iw(t):e}function iw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function sw(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ow=sw;function Nh(){let t=sw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fc(){return te.lFrame.selectedIndex}function wr(t){te.lFrame.selectedIndex=t}function YS(){let t=te.lFrame;return Dh(t.tView,t.selectedIndex)}function Mi(){te.lFrame.currentNamespace=Kv}function ro(){JS()}function JS(){te.lFrame.currentNamespace=null}function ZS(){return te.lFrame.currentNamespace}var aw=!0;function Ph(){return aw}function xh(t){aw=t}function XS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=zv(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Mh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function rc(t,e,n){cw(t,e,3,n)}function ic(t,e,n,r){(t[j]&3)===n&&cw(t,e,n,r)}function Td(t,e){let n=t[j];(n&3)===e&&(n&=16383,n+=1,t[j]=n)}function cw(t,e,n,r){let i=r!==void 0?t[_i]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[_i]+=65536),(c<s||s==-1)&&(eA(t,n,e,u),t[_i]=(t[_i]&4294901760)+u+2),u++}function q_(t,e){jn(4,t,e);let n=se(null);try{e.call(t)}finally{se(n),jn(5,t,e)}}function eA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[j]>>14<t[_i]>>16&&(t[j]&3)===e&&(t[j]+=16384,q_(c,s)):q_(c,s)}var Ti=-1,Ks=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function tA(t){return t instanceof Ks}function nA(t){return(t.flags&8)!==0}function rA(t){return(t.flags&16)!==0}function uw(t){return t!==Ti}function pc(t){return t&32767}function iA(t){return t>>16}function gc(t,e){let n=iA(t),r=e;for(;n>0;)r=r[eo],n--;return r}var $d=!0;function z_(t){let e=$d;return $d=t,e}var sA=256,lw=sA-1,dw=5,oA=0,Ht={};function aA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Us)&&(r=n[Us]),r==null&&(r=n[Us]=oA++);let i=r&lw,s=1<<i;e.data[t+(i>>dw)]|=s}function hw(t,e){let n=fw(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,Cd(r.data,t),Cd(e,null),Cd(r.blueprint,null));let i=kh(t,e),s=t.injectorIndex;if(uw(i)){let o=pc(i),c=gc(i,e),u=c[W].data;for(let d=0;d<8;d++)e[s+d]=c[o+d]|u[o+d]}return e[s+8]=i,s}function Cd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function kh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=_w(i),r===null)return Ti;if(n++,i=i[eo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ti}function cA(t,e,n){aA(t,e,n)}function pw(t,e,n){if(n&z.Optional||t!==void 0)return t;yh(e,"NodeInjector")}function gw(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[bi],s=vt(void 0);try{return i?i.get(e,r,n&z.Optional):Ev(e,r,n&z.Optional)}finally{vt(s)}}return pw(r,e,n)}function mw(t,e,n,r=z.Default,i){if(t!==null){if(e[j]&2048&&!(r&z.Self)){let o=fA(t,e,n,r,Ht);if(o!==Ht)return o}let s=yw(t,e,n,r,Ht);if(s!==Ht)return s}return gw(e,n,r,i)}function yw(t,e,n,r,i){let s=dA(n);if(typeof s=="function"){if(!nw(e,t,r))return r&z.Host?pw(i,n,r):gw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&z.Optional))yh(n);else return o}finally{ow()}}else if(typeof s=="number"){let o=null,c=fw(t,e),u=Ti,d=r&z.Host?e[Pt][kt]:null;for((c===-1||r&z.SkipSelf)&&(u=c===-1?kh(t,e):e[c+8],u===Ti||!G_(r,!1)?c=-1:(o=e[W],c=pc(u),e=gc(u,e)));c!==-1;){let f=e[W];if(W_(s,c,f.data)){let p=uA(c,e,n,o,r,d);if(p!==Ht)return p}u=e[c+8],u!==Ti&&G_(r,e[W].data[c+8]===d)&&W_(s,c,e)?(o=f,c=pc(u),e=gc(u,e)):c=-1}}return i}function uA(t,e,n,r,i,s){let o=e[W],c=o.data[t+8],u=r==null?Oc(c)&&$d:r!=o&&(c.type&3)!==0,d=i&z.Host&&s===c,f=lA(c,o,n,u,d);return f!==null?Qs(e,o,f,c):Ht}function lA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,d=t.directiveEnd,f=s>>20,p=r?c:c+f,w=i?c+f:d;for(let S=p;S<w;S++){let A=o[S];if(S<u&&n===A||S>=u&&A.type===n)return S}if(i){let S=o[u];if(S&&to(S)&&S.type===n)return u}return null}function Qs(t,e,n,r){let i=t[n],s=e.data;if(tA(i)){let o=i;o.resolving&&jb(Ub(s[n]));let c=z_(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?vt(o.injectImpl):null,f=nw(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&XS(n,s[n],e)}finally{d!==null&&vt(d),z_(c),o.resolving=!1,ow()}}return i}function dA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Us)?t[Us]:void 0;return typeof e=="number"?e>=0?e&lw:hA:e}function W_(t,e,n){let r=1<<t;return!!(n[e+(t>>dw)]&r)}function G_(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var yr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return mw(this._tNode,this._lView,e,Nc(r),n)}};function hA(){return new yr(Wn(),Te())}function Oh(t){return Xs(()=>{let e=t.prototype.constructor,n=e[ac]||Hd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ac]||Hd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Hd(t){return mv(t)?()=>{let e=Hd(wt(t));return e&&e()}:Ci(t)}function fA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[j]&2048&&!(o[j]&512);){let c=yw(s,o,n,r|z.Self,Ht);if(c!==Ht)return c;let u=s.parent;if(!u){let d=o[jv];if(d){let f=d.get(n,Ht,r);if(f!==Ht)return f}u=_w(o),o=o[eo]}s=u}return i}function _w(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[kt]:null}function K_(t,e=null,n=null,r){let i=vw(t,e,n,r);return i.resolveInjectorInitializers(),i}function vw(t,e=null,n=null,r,i=new Set){let s=[n||$t,hS(t)];return r=r||(typeof t=="object"?void 0:lt(t)),new Hs(s,e||Th(),r||null,i)}var Ae=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Bs}static{this.NULL=new lc}static create(n,r){if(Array.isArray(n))return K_({name:""},r,n,"");{let i=n.name??"";return K_({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=L({token:t,providedIn:"any",factory:()=>V(bv)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var pA="ngOriginalError";function Dd(t){return t[pA]}var zt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Dd(e);for(;n&&Dd(n);)n=Dd(n);return n||null}},ww=new O("",{providedIn:"root",factory:()=>P(zt).handleError.bind(void 0)}),Lh=(()=>{class t{static{this.__NG_ELEMENT_ID__=gA}static{this.__NG_ENV_ID__=n=>n}}return t})(),qd=class extends Lh{constructor(e){super(),this._lView=e}onDestroy(e){return Yv(this._lView,e),()=>LS(this._lView,e)}};function gA(){return new qd(Te())}function mA(){return Fh(Wn(),Te())}function Fh(t,e){return new Vc(Gt(t,e))}var Vc=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=mA}}return t})();var zd=class extends Ke{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Uv()&&(this.destroyRef=P(Lh,{optional:!0})??void 0)}emit(e){let n=se(null);try{super.next(e)}finally{se(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=bd(s),i&&(i=bd(i)),o&&(o=bd(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof we&&e.add(c),c}};function bd(t){return e=>{setTimeout(t,void 0,e)}}var Qe=zd;function Iw(t){return(t.flags&128)===128}var Ew=new Map,yA=0;function _A(){return yA++}function vA(t){Ew.set(t[kc],t)}function wA(t){Ew.delete(t[kc])}var Q_="__ngContext__";function Ir(t,e){Ei(e)?(t[Q_]=e[kc],vA(e)):t[Q_]=e}function Tw(t){return Dw(t[zs])}function Cw(t){return Dw(t[Rt])}function Dw(t){for(;t!==null&&!mn(t);)t=t[Rt];return t}var Wd;function bw(t){Wd=t}function IA(){if(Wd!==void 0)return Wd;if(typeof document<"u")return document;throw new F(210,!1)}var Uc=new O("",{providedIn:"root",factory:()=>EA}),EA="ng",Vh=new O(""),Kt=new O("",{providedIn:"platform",factory:()=>"unknown"});var Uh=new O("",{providedIn:"root",factory:()=>IA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TA="h",CA="b";var DA=()=>null;function jh(t,e,n=!1){return DA(t,e,n)}var Sw=!1,bA=new O("",{providedIn:"root",factory:()=>Sw});var mc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fv})`}};function Bh(t){return t instanceof mc?t.changingThisBreaksApplicationSecurity:t}function Aw(t,e){let n=SA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fv})`)}return n===e}function SA(t){return t instanceof mc&&t.getTypeName()||null}var AA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rw(t){return t=String(t),t.match(AA)?t:"unsafe:"+t}var $h=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($h||{});function Nw(t){let e=RA();return e?e.sanitize($h.URL,t)||"":Aw(t,"URL")?Bh(t):Rw(mh(t))}function RA(){let t=Te();return t&&t[Nt].sanitizer}function Pw(t){return t instanceof Function?t():t}function NA(t){return(t??P(Ae)).get(Kt)==="browser"}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Er||{}),PA;function Hh(t,e){return PA(t,e)}function vi(t,e,n,r,i){if(r!=null){let s,o=!1;mn(r)?s=r:Ei(r)&&(o=!0,r=r[gn]);let c=fn(r);t===0&&n!==null?i==null?Ow(e,n,c):yc(e,n,c,i||null,!0):t===1&&n!==null?yc(e,n,c,i||null,!0):t===2?KA(e,c,o):t===3&&e.destroyNode(c),s!=null&&YA(e,t,s,n,i)}}function xA(t,e){return t.createText(e)}function MA(t,e,n){t.setValue(e,n)}function xw(t,e,n){return t.createElement(e,n)}function kA(t,e){Mw(t,e),e[gn]=null,e[kt]=null}function OA(t,e,n,r,i,s){r[gn]=i,r[kt]=e,Bc(t,r,n,1,i,s)}function Mw(t,e){e[Nt].changeDetectionScheduler?.notify(1),Bc(t,e,e[dt],2,null,null)}function LA(t){let e=t[zs];if(!e)return Sd(t[W],t);for(;e;){let n=null;if(Ei(e))n=e[zs];else{let r=e[Ye];r&&(n=r)}if(!n){for(;e&&!e[Rt]&&e!==t;)Ei(e)&&Sd(e[W],e),e=e[$e];e===null&&(e=t),Ei(e)&&Sd(e[W],e),n=e&&e[Rt]}e=n}}function FA(t,e,n,r){let i=Ye+r,s=n.length;r>0&&(n[i-1][Rt]=e),r<s-Ye?(e[Rt]=n[i],Dv(n,Ye+r,e)):(n.push(e),e[Rt]=null),e[$e]=n;let o=e[Mc];o!==null&&n!==o&&VA(o,e);let c=e[Si];c!==null&&c.insertView(t),jd(e),e[j]|=128}function VA(t,e){let n=t[hc],i=e[$e][$e][Pt];e[Pt]!==i&&(t[j]|=Ch.HasTransplantedViews),n===null?t[hc]=[e]:n.push(e)}function kw(t,e){let n=t[hc],r=n.indexOf(e);n.splice(r,1)}function Ys(t,e){if(t.length<=Ye)return;let n=Ye+e,r=t[n];if(r){let i=r[Mc];i!==null&&i!==t&&kw(i,r),e>0&&(t[n-1][Rt]=r[Rt]);let s=uc(t,Ye+e);kA(r[W],r);let o=s[Si];o!==null&&o.detachView(s[W]),r[$e]=null,r[Rt]=null,r[j]&=-129}return r}function jc(t,e){if(!(e[j]&256)){let n=e[dt];n.destroyNode&&Bc(t,e,n,3,null,null),LA(e)}}function Sd(t,e){if(e[j]&256)return;let n=se(null);try{e[j]&=-129,e[j]|=256,e[_r]&&t_(e[_r]),jA(t,e),UA(t,e),e[W].type===1&&e[dt].destroy();let r=e[Mc];if(r!==null&&mn(e[$e])){r!==e[$e]&&kw(r,e);let i=e[Si];i!==null&&i.detachView(t)}wA(e)}finally{se(n)}}function UA(t,e){let n=t.cleanup,r=e[B_];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[B_]=null);let i=e[Bn];if(i!==null){e[Bn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function jA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ks)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];jn(4,c,u);try{u.call(c)}finally{jn(5,c,u)}}else{jn(4,i,s);try{s.call(i)}finally{jn(5,i,s)}}}}}function BA(t,e,n){return $A(t,e.parent,n)}function $A(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[gn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===qt.None||s===qt.Emulated)return null}return Gt(r,n)}}function yc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ow(t,e,n){t.appendChild(e,n)}function Y_(t,e,n,r,i){r!==null?yc(t,e,n,r,i):Ow(t,e,n)}function HA(t,e,n,r){t.removeChild(e,n,r)}function qh(t,e){return t.parentNode(e)}function qA(t,e){return t.nextSibling(e)}function zA(t,e,n){return GA(t,e,n)}function WA(t,e,n){return t.type&40?Gt(t,n):null}var GA=WA,J_;function zh(t,e,n,r){let i=BA(t,r,e),s=e[dt],o=r.parent||e[kt],c=zA(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Y_(s,i,n[u],c,!1);else Y_(s,i,n,c,!1);J_!==void 0&&J_(s,r,e,n,i)}function sc(t,e){if(e!==null){let n=e.type;if(n&3)return Gt(e,t);if(n&4)return Gd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return sc(t,r);{let i=t[e.index];return mn(i)?Gd(-1,i):fn(i)}}else{if(n&32)return Hh(e,t)()||fn(t[e.index]);{let r=Lw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gs(t[Pt]);return sc(i,r)}else return sc(t,e.next)}}}return null}function Lw(t,e){if(e!==null){let r=t[Pt][kt],i=e.projection;return r.projection[i]}return null}function Gd(t,e){let n=Ye+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return sc(r,i)}return e[vr]}function KA(t,e,n){let r=qh(t,e);r&&HA(t,r,e,n)}function Wh(t,e,n,r,i,s,o){for(;n!=null;){let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Ir(fn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Wh(t,e,n.child,r,i,s,!1),vi(e,t,i,c,s);else if(u&32){let d=Hh(n,r),f;for(;f=d();)vi(e,t,i,f,s);vi(e,t,i,c,s)}else u&16?QA(t,e,r,n,i,s):vi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Bc(t,e,n,r,i,s){Wh(n,r,t.firstChild,e,i,s,!1)}function QA(t,e,n,r,i,s){let o=n[Pt],u=o[kt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];vi(e,t,i,f,s)}else{let d=u,f=o[$e];Iw(r)&&(d.flags|=128),Wh(t,e,d,f,i,s,!0)}}function YA(t,e,n,r,i){let s=n[vr],o=fn(n);s!==o&&vi(e,t,r,s,i);for(let c=Ye;c<n.length;c++){let u=n[c];Bc(u[W],u,t,e,r,s)}}function JA(t,e,n){t.setAttribute(e,"style",n)}function Fw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Vw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&kd(t,e,r),i!==null&&Fw(t,e,i),s!==null&&JA(t,e,s)}var io={};function $c(t=1){Uw(xi(),Te(),Fc()+t,!1)}function Uw(t,e,n,r){if(!r)if((e[j]&3)===3){let s=t.preOrderCheckHooks;s!==null&&rc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ic(e,s,0,n)}wr(n)}function Gh(t,e=z.Default){let n=Te();if(n===null)return V(t,e);let r=Wn();return mw(r,n,wt(t),e)}function jw(){let t="invalid";throw new Error(t)}function Bw(t,e,n,r,i,s){let o=se(null);try{let c=null;i&$n.SignalBased&&(c=e[r][Jy]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&$n.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):qv(e,c,r,s)}finally{se(o)}}function ZA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)wr(~i);else{let s=i,o=n[++r],c=n[++r];GS(o,s);let u=e[s];c(2,u)}}}finally{wr(-1)}}function Hc(t,e,n,r,i,s,o,c,u,d,f){let p=e.blueprint.slice();return p[gn]=i,p[j]=r|4|128|8|64,(d!==null||t&&t[j]&2048)&&(p[j]|=2048),Qv(p),p[$e]=p[eo]=t,p[It]=n,p[Nt]=o||t&&t[Nt],p[dt]=c||t&&t[dt],p[bi]=u||t&&t[bi]||null,p[kt]=s,p[kc]=_A(),p[qs]=f,p[jv]=d,p[Pt]=e.type==2?t[Pt]:p,p}function qc(t,e,n,r,i){let s=t.data[e];if(s===null)s=XA(t,e,n,r,i),WS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=HS();s.injectorIndex=o===null?-1:o.injectorIndex}return no(s,!0),s}function XA(t,e,n,r,i){let s=Zv(),o=Xv(),c=o?s:s&&s.parent,u=t.data[e]=iR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function $w(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Hw(t,e,n,r,i){let s=Fc(),o=r&2;try{wr(-1),o&&e.length>hn&&Uw(t,e,hn,!1),jn(o?2:0,i),n(r,i)}finally{wr(s),jn(o?3:1,i)}}function qw(t,e,n){if($v(e)){let r=se(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{se(r)}}}function zw(t,e,n){Jv()&&(dR(t,e,n,Gt(n,e)),(n.flags&64)===64&&Yw(t,e,n))}function Ww(t,e,n=Gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function Gw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Kh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Kh(t,e,n,r,i,s,o,c,u,d,f){let p=hn+r,w=p+i,S=eR(p,w),A=typeof d=="function"?d():d;return S[W]={type:t,blueprint:S,template:n,queries:null,viewQuery:c,declTNode:e,data:S.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function eR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:io);return n}function tR(t,e,n,r){let s=r.get(bA,Sw)||n===qt.ShadowDom,o=t.selectRootElement(e,s);return nR(o),o}function nR(t){rR(t)}var rR=()=>null;function iR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return jS()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Z_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=$n.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?X_(r,n,d,c,u):X_(r,n,d,c)}return r}function X_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function sR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let p=s[f],w=n?n.get(p):null,S=w?w.inputs:null,A=w?w.outputs:null;u=Z_(0,p.inputs,f,u,S),d=Z_(1,p.outputs,f,d,A);let x=u!==null&&o!==null&&!wh(e)?wR(u,f,o):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function oR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function aR(t,e,n,r,i,s,o,c){let u=Gt(e,n),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(Qh(t,n,f,r,i),Oc(e)&&cR(n,e.index)):e.type&3?(r=oR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function cR(t,e){let n=Pi(e,t);n[j]&16||(n[j]|=64)}function Kw(t,e,n,r){if(Jv()){let i=r===null?null:{"":-1},s=fR(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&Qw(t,e,n,o,i,c),i&&pR(n,r,i)}n.mergedAttrs=vh(n.mergedAttrs,n.attrs)}function Qw(t,e,n,r,i,s){for(let d=0;d<r.length;d++)cA(hw(n,e),t,r[d].type);mR(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=$w(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=vh(n.mergedAttrs,f.hostAttrs),yR(t,n,e,u,f),gR(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}sR(t,n,s)}function uR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;lR(o)!=c&&o.push(c),o.push(n,r,s)}}function lR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function dR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Oc(n)&&_R(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||hw(n,e),Ir(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],d=Qs(e,t,c,n);if(Ir(d,e),o!==null&&vR(e,c-i,d,u,n,o),to(u)){let f=Pi(n.index,e);f[It]=Qs(e,t,c,n)}}}function Yw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=KS();try{wr(s);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];Bd(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&hR(u,d)}}finally{wr(-1),Bd(o)}}function hR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function fR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(rS(e,o.selectors,!1))if(r||(r=[]),to(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Kd(t,e,u)}else r.unshift(o),Kd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Kd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new F(-301,!1);r.push(e[i],s)}}}function gR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;to(e)&&(n[""]=t)}}function mR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function yR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ci(i.type,!0)),o=new Ks(s,to(i),Gh);t.blueprint[r]=o,n[r]=o,uR(t,e,r,$w(t,n,i.hostVars,io),i)}function _R(t,e,n){let r=Gt(e,t),i=Gw(n),s=t[Nt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=zc(t,Hc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function vR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],d=o[c++],f=o[c++],p=o[c++];Bw(r,n,u,d,f,p)}}function wR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function Jw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Zw(t,e){let n=t.contentQueries;if(n!==null){let r=se(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];tw(s),c.contentQueries(2,e[o],o)}}}finally{se(r)}}}function zc(t,e){return t[zs]?t[$_][Rt]=e:t[zs]=e,t[$_]=e,e}function Qd(t,e,n){tw(0);let r=se(null);try{e(t,n)}finally{se(r)}}function IR(t,e){let n=t[bi],r=n?n.get(zt,null):null;r&&r.handleError(e)}function Qh(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],d=e[o],f=t.data[o];Bw(f,d,r,c,u,i)}}function ER(t,e,n){let r=MS(e,t);MA(t[dt],r,n)}function TR(t,e){let n=Pi(e,t),r=n[W];CR(r,n);let i=n[gn];i!==null&&n[qs]===null&&(n[qs]=jh(i,n[bi])),Yh(r,n,n[It])}function CR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Yh(t,e,n){Rh(e);try{let r=t.viewQuery;r!==null&&Qd(1,r,n);let i=t.template;i!==null&&Hw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Si]?.finishViewCreation(t),t.staticContentQueries&&Zw(t,e),t.staticViewQueries&&Qd(2,t.viewQuery,n);let s=t.components;s!==null&&DR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[j]&=-5,Nh()}}function DR(t,e){for(let n=0;n<e.length;n++)TR(t,e[n])}function Xw(t,e,n,r){let i=se(null);try{let s=e.tView,c=t[j]&4096?4096:16,u=Hc(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[Mc]=d;let f=t[Si];return f!==null&&(u[Si]=f.createEmbeddedView(s)),Yh(s,u,n),u}finally{se(i)}}function bR(t,e){let n=Ye+e;if(n<t.length)return t[n]}function _c(t,e){return!e||e.firstChild===null||Iw(t)}function Jh(t,e,n,r=!0){let i=e[W];if(FA(i,e,t,n),r){let o=Gd(n,t),c=e[dt],u=qh(c,t[vr]);u!==null&&OA(i,t[kt],c,e,u,o)}let s=e[qs];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function SR(t,e){let n=Ys(t,e);return n!==void 0&&jc(n[W],n),n}function vc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(fn(s)),mn(s)&&AR(s,r);let o=n.type;if(o&8)vc(t,e,n.child,r);else if(o&32){let c=Hh(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=Lw(e,n);if(Array.isArray(c))r.push(...c);else{let u=Gs(e[Pt]);vc(u[W],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function AR(t,e){for(let n=Ye;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&vc(r[W],r,i,e)}t[vr]!==t[gn]&&e.push(t[vr])}var eI=[];function RR(t){return t[_r]??NR(t)}function NR(t){let e=eI.pop()??Object.create(xR);return e.lView=t,e}function PR(t){t.lView[_r]!==t&&(t.lView=null,eI.push(t))}var xR=ve(M({},Zy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ws(t.lView)},consumerOnSignalRead(){this.lView[_r]=this}}),tI=100;function nI(t,e=!0,n=0){let r=t[Nt],i=r.rendererFactory,s=!1;s||i.begin?.();try{MR(t,n)}catch(o){throw e&&IR(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function MR(t,e){Yd(t,e);let n=0;for(;Sh(t);){if(n===tI)throw new F(103,!1);n++,Yd(t,1)}}function kR(t,e,n,r){let i=e[j];if((i&256)===256)return;let s=!1;!s&&e[Nt].inlineEffectRunner?.flush(),Rh(e);let o=null,c=null;!s&&OR(t)&&(c=RR(e),o=Xy(c));try{Qv(e),zS(t.bindingStartIndex),n!==null&&Hw(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&rc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&ic(e,p,0,null),Td(e,0)}if(LR(e),rI(e,0),t.contentQueries!==null&&Zw(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&rc(e,p)}else{let p=t.contentHooks;p!==null&&ic(e,p,1),Td(e,1)}ZA(t,e);let d=t.components;d!==null&&sI(e,d,0);let f=t.viewQuery;if(f!==null&&Qd(2,f,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&rc(e,p)}else{let p=t.viewHooks;p!==null&&ic(e,p,2),Td(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ed]){for(let p of e[Ed])p();e[Ed]=null}s||(e[j]&=-73)}catch(u){throw Ws(e),u}finally{c!==null&&(e_(c,o),PR(c)),Nh()}}function OR(t){return t.type!==2}function rI(t,e){for(let n=Tw(t);n!==null;n=Cw(n))for(let r=Ye;r<n.length;r++){let i=n[r];iI(i,e)}}function LR(t){for(let e=Tw(t);e!==null;e=Cw(e)){if(!(e[j]&Ch.HasTransplantedViews))continue;let n=e[hc];for(let r=0;r<n.length;r++){let i=n[r],s=i[$e];OS(i)}}}function FR(t,e,n){let r=Pi(e,t);iI(r,n)}function iI(t,e){bh(t)&&Yd(t,e)}function Yd(t,e){let r=t[W],i=t[j],s=t[_r],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Xl(s)),s&&(s.dirty=!1),t[j]&=-9217,o)kR(r,t,r.template,t[It]);else if(i&8192){rI(t,1);let c=r.components;c!==null&&sI(t,c,1)}}function sI(t,e,n){for(let r=0;r<e.length;r++)FR(t,e[r],n)}function oI(t){for(t[Nt].changeDetectionScheduler?.notify();t;){t[j]|=64;let e=Gs(t);if(bS(t)&&!e)return t;t=e}return null}var Ai=class{get rootNodes(){let e=this._lView,n=e[W];return vc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[$e];if(mn(e)){let n=e[dc],r=n?n.indexOf(this):-1;r>-1&&(Ys(e,r),uc(n,r))}this._attachedToViewContainer=!1}jc(this._lView[W],this._lView)}onDestroy(e){Yv(this._lView,e)}markForCheck(){oI(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){jd(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,nI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Mw(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e,jd(this._lView)}};var V$=new RegExp(`^(\\d+)*(${CA}|${TA})*(.*)`);var VR=()=>null;function wc(t,e){return VR(t,e)}var Ic=class{},Jd=class{},Ec=class{};function UR(t){let e=Error(`No component factory found for ${lt(t)}.`);return e[jR]=t,e}var jR="ngComponent";var Zd=class{resolveComponentFactory(e){throw UR(e)}},Wc=(()=>{class t{static{this.NULL=new Zd}}return t})(),Js=class{};var BR=(()=>{class t{static{this.\u0275prov=L({token:t,providedIn:"root",factory:()=>null})}}return t})(),Ad={};var ev=new Set;function Gc(t){ev.has(t)||(ev.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function tv(...t){}function $R(){let t=typeof ut.requestAnimationFrame=="function",e=ut[t?"requestAnimationFrame":"setTimeout"],n=ut[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var G=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=$R().nativeRequestAnimationFrame,zR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,HR,tv,tv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},HR={};function Zh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ut,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xd(t),t.isCheckStableRunning=!0,Zh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xd(t))}function zR(t){let e=()=>{qR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,c)=>{if(WR(c))return n.invokeTask(i,s,o,c);try{return nv(t),n.invokeTask(i,s,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),rv(t)}},onInvoke:(n,r,i,s,o,c,u)=>{try{return nv(t),n.invoke(i,s,o,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),rv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Xd(t),Zh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Xd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function nv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rv(t){t._nesting--,Zh(t)}var eh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function WR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function GR(t="zone.js",e){return t==="noop"?new eh:t==="zone.js"?new G(e):t}var wi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(wi||{}),KR={destroy(){}};function Kc(t,e){!e&&TS(Kc);let n=e?.injector??P(Ae);if(!NA(n))return KR;Gc("NgAfterNextRender");let r=n.get(Xh),i=r.handler??=new nh,s=e?.phase??wi.MixedReadWrite,o=()=>{i.unregister(u),c()},c=n.get(Lh).onDestroy(o),u=pn(n,()=>new th(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var th=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=P(G),this.errorHandler=P(zt,{optional:!0}),P(Ic,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},nh=class{constructor(){this.executingCallbacks=!1,this.buckets={[wi.EarlyRead]:new Set,[wi.Write]:new Set,[wi.MixedReadWrite]:new Set,[wi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Xh=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}}return t})();function rh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=P_(i,c);else if(s==2){let u=c,d=e[++o];r=P_(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Tc=class extends Wc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hn(e);return new Ri(n,this.ngModule)}};function iv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function QR(t){let e=t.toLowerCase();return e==="svg"?Kv:e==="math"?NS:null}var ih=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Nc(r);let i=this.injector.get(e,Ad,r);return i!==Ad||n===Ad?i:this.parentInjector.get(e,n,r)}},Ri=class extends Ec{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=iv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return iv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=aS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=se(null);try{i=i||this.ngModule;let o=i instanceof et?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new ih(e,o):e,u=c.get(Js,null);if(u===null)throw new F(407,!1);let d=c.get(BR,null),f=c.get(Xh,null),p=c.get(Ic,null),w={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},S=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=r?tR(S,r,this.componentDef.encapsulation,c):xw(S,A,QR(A)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let q=null;x!==null&&(q=jh(x,c,!0));let ye=Kh(0,null,null,1,0,null,null,null,null,null,null),ae=Hc(null,ye,null,k,null,null,w,S,c,null,q);Rh(ae);let Fe,mt;try{let ge=this.componentDef,I,m=null;ge.findHostDirectiveDefs?(I=[],m=new Map,ge.findHostDirectiveDefs(ge,I,m),I.push(ge)):I=[ge];let _=YR(ae,x),v=JR(_,x,ge,I,ae,w,S);mt=Dh(ye,hn),x&&e1(S,ge,x,r),n!==void 0&&t1(mt,this.ngContentSelectors,n),Fe=XR(v,ge,I,m,ae,[n1]),Yh(ye,ae,null)}finally{Nh()}return new sh(this.componentType,Fe,Fh(mt,ae),ae,mt)}finally{se(s)}}},sh=class extends Jd{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ai(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Qh(s[W],s,i,e,n),this.previousInputValues.set(e,n);let o=Pi(this._tNode.index,s);oI(o)}}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function YR(t,e){let n=t[W],r=hn;return t[r]=e,qc(n,r,2,"#host",null)}function JR(t,e,n,r,i,s,o){let c=i[W];ZR(r,t,e,o);let u=null;e!==null&&(u=jh(e,i[bi]));let d=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=Hc(i,Gw(n),null,f,i[t.index],t,s,d,null,null,u);return c.firstCreatePass&&Kd(c,t,r.length-1),zc(i,p),i[t.index]=p}function ZR(t,e,n,r){for(let i of t)e.mergedAttrs=vh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(rh(e,e.mergedAttrs,!0),n!==null&&Vw(r,n,e))}function XR(t,e,n,r,i,s){let o=Wn(),c=i[W],u=Gt(o,i);Qw(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,w=Qs(i,c,p,o);Ir(w,i)}Yw(c,i,o),u&&Ir(u,i);let d=Qs(i,c,o.directiveStart+o.componentOffset,o);if(t[It]=i[It]=d,s!==null)for(let f of s)f(d,e);return qw(c,o,i),d}function e1(t,e,n,r){if(r)kd(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=cS(e.selectors[0]);i&&kd(t,n,i),s&&s.length>0&&Fw(t,n,s.join(" "))}}function t1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function n1(){let t=Wn();Mh(Te()[W],t)}var Qc=(()=>{class t{static{this.__NG_ELEMENT_ID__=r1}}return t})();function r1(){let t=Wn();return s1(t,Te())}var i1=Qc,aI=class extends i1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Fh(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){let e=kh(this._hostTNode,this._hostLView);if(uw(e)){let n=gc(e,this._hostLView),r=pc(e),i=n[W].data[r+8];return new yr(i,n)}else return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=sv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ye}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=wc(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,_c(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!DS(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Ri(Hn(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let x=(o?d:this.parentInjector).get(et,null);x&&(s=x)}let f=Hn(u.componentType??{}),p=wc(this._lContainer,f?.id??null),w=p?.firstChild??null,S=u.create(d,i,w,s);return this.insertImpl(S.hostView,c,_c(this._hostTNode,p)),S}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(kS(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[$e],d=new aI(u,u[kt],u[$e]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Jh(o,i,s,r),e.attachToViewContainerRef(),Dv(Rd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=sv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ys(this._lContainer,n);r&&(uc(Rd(this._lContainer),n),jc(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ys(this._lContainer,n);return r&&uc(Rd(this._lContainer),n)!=null?new Ai(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function sv(t){return t[dc]}function Rd(t){return t[dc]||(t[dc]=[])}function s1(t,e){let n,r=e[t.index];return mn(r)?n=r:(n=Jw(r,e,null,t),e[t.index]=n,zc(e,n)),a1(n,e,t,r),new aI(n,t,e)}function o1(t,e){let n=t[dt],r=n.createComment(""),i=Gt(e,t),s=qh(n,i);return yc(n,s,r,qA(n,i),!1),r}var a1=l1,c1=()=>!1;function u1(t,e,n){return c1(t,e,n)}function l1(t,e,n,r){if(t[vr])return;let i;n.type&8?i=fn(r):i=o1(e,n),t[vr]=i}function d1(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(g1))}return s}return Cc.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(d=>{i.template=d}));let c=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=c,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let d=i.styles.length,f=i.styleUrls;i.styleUrls.forEach((p,w)=>{c.push(""),o.push(r(p).then(S=>{c[d+w]=S,f.splice(f.indexOf(p),1),f.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(d=>{c.push(d),i.styleUrl=void 0}));let u=Promise.all(o).then(()=>m1(s));e.push(u)}),f1(),Promise.all(e).then(()=>{})}var Cc=new Map,h1=new Set;function f1(){let t=Cc;return Cc=new Map,t}function p1(){return Cc.size===0}function g1(t){return typeof t=="string"?t:t.text()}function m1(t){h1.delete(t)}var qn=class{},Zs=class{};var Dc=class extends qn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tc(this);let i=Mv(e);this._bootstrapComponents=Pw(i.bootstrap),this._r3Injector=vw(e,n,[{provide:qn,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver},...r],lt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bc=class extends Zs{constructor(e){super(),this.moduleType=e}create(e){return new Dc(this.moduleType,e,[])}};function y1(t,e,n){return new Dc(t,e,n)}var oh=class extends qn{constructor(e){super(),this.componentFactoryResolver=new Tc(this),this.instance=null;let n=new Hs([...e.providers,{provide:qn,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],e.parent||Th(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yc(t,e,n=null){return new oh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Jc=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cI(t,e,n){return t[e]=n}function uI(t,e){return t[e]}function Ni(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ov(t,e,n,r){let i=Ni(t,e,n);return Ni(t,e+1,r)||i}function _1(t,e,n,r,i,s){let o=ov(t,e,n,r);return ov(t,e+2,i,s)||o}function v1(t){return(t.flags&32)===32}function w1(t,e,n,r,i,s,o,c,u){let d=e.consts,f=qc(e,t,4,o||null,fc(d,c));Kw(e,n,f,fc(d,u)),Mh(e,f);let p=f.tView=Kh(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function ah(t,e,n,r,i,s,o,c){let u=Te(),d=xi(),f=t+hn,p=d.firstCreatePass?w1(f,d,u,e,n,r,i,s,o):d.data[f];no(p,!1);let w=I1(d,u,p,t);Ph()&&zh(d,u,w,p),Ir(w,u);let S=Jw(w,u,w,p);return u[f]=S,zc(u,S),u1(S,p,u),Hv(p)&&zw(d,u,p),o!=null&&Ww(u,p,c),ah}var I1=E1;function E1(t,e,n,r){return xh(!0),e[dt].createComment("")}function T1(t,e,n,r){return Ni(t,Ah(),n)?e+mh(n)+r:io}function ef(t,e,n){let r=Te(),i=Ah();if(Ni(r,i,e)){let s=xi(),o=YS();aR(s,o,r,t,e,r[dt],n,!1)}return ef}function av(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Qh(t,n,s[o],o,r)}var ch=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Nd(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function C1(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=t.at(s),d=e[s],f=Nd(s,u,s,d,n);if(f!==0){f<0&&t.updateValue(s,d),s++;continue}let p=t.at(o),w=e[c],S=Nd(o,p,c,w,n);if(S!==0){S<0&&t.updateValue(o,w),o--,c--;continue}let A=n(s,u),x=n(o,p),k=n(s,d);if(Object.is(k,x)){let q=n(c,w);Object.is(q,A)?(t.swap(s,o),t.updateValue(o,w),c--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(r??=new Sc,i??=uv(t,s,o,n),uh(t,r,s,k))t.updateValue(s,d),s++,o++;else if(i.has(k))r.set(A,t.detach(s)),o--;else{let q=t.create(s,e[s]);t.attach(s,q),s++,o++}}for(;s<=c;)cv(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let d=t.at(s),f=u.value,p=Nd(s,d,s,f,n);if(p!==0)p<0&&t.updateValue(s,f),s++,u=c.next();else{r??=new Sc,i??=uv(t,s,o,n);let w=n(s,f);if(uh(t,r,s,w))t.updateValue(s,f),s++,o++,u=c.next();else if(!i.has(w))t.attach(s,t.create(s,f)),s++,o++,u=c.next();else{let S=n(s,d);r.set(S,t.detach(s)),o--}}}for(;!u.done;)cv(t,r,n,t.length,u.value),u=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function uh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function cv(t,e,n,r,i){if(uh(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function uv(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Sc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};var lh=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ye}};var dh=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function lI(t,e,n,r,i,s,o,c,u,d,f,p,w){Gc("NgControlFlow");let S=u!==void 0,A=Te(),x=c?o.bind(A[Pt][It]):o,k=new dh(S,x);A[hn+t]=k,ah(t+1,e,n,r,i,s),S&&ah(t+2,u,d,f,p,w)}var hh=class extends ch{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ye}at(e){return this.getLView(e)[It].$implicit}attach(e,n){let r=n[qs];this.needsIndexUpdate||=e!==this.length,Jh(this.lContainer,n,e,_c(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,D1(this.lContainer,e)}create(e,n){let r=wc(this.lContainer,this.templateTNode.tView.ssrId);return Xw(this.hostLView,this.templateTNode,new lh(this.lContainer,n,e),{dehydratedView:r})}destroy(e){jc(e[W],e)}updateValue(e,n){this.getLView(e)[It].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[It].$index=e}getLView(e){return b1(this.lContainer,e)}};function dI(t){let e=se(null),n=Fc();try{let r=Te(),i=r[W],s=r[n];if(s.liveCollection===void 0){let c=n+1,u=lv(r,c),d=dv(i,c);s.liveCollection=new hh(u,r,d)}else s.liveCollection.reset();let o=s.liveCollection;if(C1(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let c=Ah(),u=o.length===0;if(Ni(r,c,u)){let d=n+2,f=lv(r,d);if(u){let p=dv(i,d),w=wc(f,p.tView.ssrId),S=Xw(r,p,void 0,{dehydratedView:w});Jh(f,S,0,_c(p,w))}else SR(f,0)}}}finally{se(e)}}function lv(t,e){return t[e]}function D1(t,e){return Ys(t,e)}function b1(t,e){return bR(t,e)}function dv(t,e){return Dh(t,e)}function S1(t,e,n,r,i,s){let o=e.consts,c=fc(o,i),u=qc(e,t,2,r,c);return Kw(e,n,u,fc(o,s)),u.attrs!==null&&rh(u,u.attrs,!1),u.mergedAttrs!==null&&rh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function be(t,e,n,r){let i=Te(),s=xi(),o=hn+t,c=i[dt],u=s.firstCreatePass?S1(o,s,i,e,n,r):s.data[o],d=A1(s,i,u,c,e,t);i[o]=d;let f=Hv(u);return no(u,!0),Vw(c,d,u),!v1(u)&&Ph()&&zh(s,i,d,u),FS()===0&&Ir(d,i),VS(),f&&(zw(s,i,u),qw(s,u,i)),r!==null&&Ww(i,u),be}function Je(){let t=Wn();Xv()?qS():(t=t.parent,no(t,!1));let e=t;BS(e)&&$S(),US();let n=xi();return n.firstCreatePass&&(Mh(n,t),$v(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&nA(e)&&av(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rA(e)&&av(n,e,Te(),e.stylesWithoutHost,!1),Je}function tt(t,e,n,r){return be(t,e,n,r),Je(),tt}var A1=(t,e,n,r,i,s)=>(xh(!0),xw(r,i,ZS()));var Ac="en-US";var R1=Ac;function N1(t){typeof t=="string"&&(R1=t.toLowerCase().replace(/_/g,"-"))}function Zc(t,e=""){let n=Te(),r=xi(),i=t+hn,s=r.firstCreatePass?qc(r,i,1,e,null):r.data[i],o=P1(r,n,s,e,t);n[i]=o,Ph()&&zh(r,n,o,s),no(s,!1)}var P1=(t,e,n,r,i)=>(xh(!0),xA(e[dt],r));function tf(t){return Xc("",t,""),tf}function Xc(t,e,n){let r=Te(),i=T1(r,t,e,n);return i!==io&&ER(r,Fc(),i),Xc}var x1=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Lv(!1,n.type),i=r.length>0?Yc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=L({token:t,providedIn:"environment",factory:()=>new t(V(et))})}}return t})();function hI(t){Gc("NgStandalone"),t.getStandaloneInjector=e=>e.get(x1).getOrCreateStandaloneInjector(t)}function ki(t,e,n){let r=ew()+t,i=Te();return i[r]===io?cI(i,r,n?e.call(n):e()):uI(i,r)}function fI(t,e,n,r,i,s,o,c){let u=ew()+t,d=Te(),f=_1(d,u,n,r,i,s);return Ni(d,u+4,o)||f?cI(d,u+5,c?e.call(c,n,r,i,s,o):e(n,r,i,s,o)):uI(d,u+5)}var tc=null;function M1(t){tc!==null&&(t.defaultEncapsulation!==tc.defaultEncapsulation||t.preserveWhitespaces!==tc.preserveWhitespaces)||(tc=t)}var zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},pI=new zn("17.3.12"),eu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var nf=new O(""),so=new O(""),tu=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,rf||(k1(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{G.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(V(G),V(nu),V(so))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),nu=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return rf?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function k1(t){rf=t}var rf;function oo(t){return!!t&&typeof t.then=="function"}function gI(t){return!!t&&typeof t.subscribe=="function"}var ru=new O(""),mI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(ru,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(oo(s))n.push(s);else if(gI(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sf=new O("");function O1(){n_(()=>{throw new F(600,!1)})}function L1(t){return t.isBoundToModule}function F1(t,e,n){try{let r=n();return oo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function yI(t,e){return Array.isArray(e)?e.reduce(yI,t):M(M({},t),e)}var Oi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(ww),this.afterRenderEffectManager=P(Xh),this.externalTestViews=new Set,this.beforeRender=new Ke,this.afterTick=new Ke,this.componentTypes=[],this.components=[],this.isStable=P(Jc).hasPendingTasks.pipe(J(n=>!n)),this._injector=P(et)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ec;if(!this._injector.get(mI).done){let w=!i&&xv(n),S=!1;throw new F(405,S)}let o;i?o=n:o=this._injector.get(Wc).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=L1(o)?void 0:this._injector.get(qn),u=r||o.selector,d=o.create(Ae.NULL,[],u,c),f=d.location.nativeElement,p=d.injector.get(nf,null);return p?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),oc(this.components,d),p?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new F(101,!1);let r=se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,se(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===tI)throw new F(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:c}of this._views)V1(o,s,c)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>fh(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>fh(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;oc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(sf,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>oc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function V1(t,e,n){!e&&!fh(t)||U1(t,n,e)}function fh(t){return Sh(t)}function U1(t,e,n){let r;n?(r=0,t[j]|=1024):t[j]&64?r=0:r=1,nI(t,e,r)}var ph=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},iu=(()=>{class t{compileModuleSync(n){return new bc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Mv(n),s=Pw(i.declarations).reduce((o,c)=>{let u=Hn(c);return u&&o.push(new Ri(u)),o},[]);return new ph(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),j1=new O("");function B1(t,e,n){let r=new bc(n);return Promise.resolve(r)}function hv(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var $1=(()=>{class t{constructor(){this.zone=P(G),this.applicationRef=P(Oi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function H1(t){return[{provide:G,useFactory:t},{provide:Di,multi:!0,useFactory:()=>{let e=P($1,{optional:!0});return()=>e.initialize()}},{provide:Di,multi:!0,useFactory:()=>{let e=P(W1);return()=>{e.initialize()}}},{provide:ww,useFactory:q1}]}function q1(){let t=P(G),e=P(zt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function z1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var W1=(()=>{class t{constructor(){this.subscription=new we,this.initialized=!1,this.zone=P(G),this.pendingTasks=P(Jc)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{G.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{G.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function G1(){return typeof $localize<"u"&&$localize.locale||Ac}var of=new O("",{providedIn:"root",factory:()=>P(of,z.Optional|z.SkipSelf)||G1()});var _I=new O(""),vI=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let i=GR(r?.ngZone,z1({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{let s=y1(n.moduleType,this.injector,H1(()=>i)),o=s.injector.get(zt,null);return i.runOutsideAngular(()=>{let c=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{oc(this._modules,s),c.unsubscribe()})}),F1(o,i,()=>{let c=s.injector.get(mI);return c.runInitializers(),c.donePromise.then(()=>{let u=s.injector.get(of,Ac);return N1(u||Ac),this._moduleDoBootstrap(s),s})})})}bootstrapModule(n,r=[]){let i=yI({},r);return B1(this.injector,i,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){let r=n.injector.get(Oi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new F(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(_I,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)(V(Ae))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),js=null,wI=new O("");function K1(t){if(js&&!js.get(wI,!1))throw new F(400,!1);O1(),js=t;let e=t.get(vI);return J1(t),e}function af(t,e,n=[]){let r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let o=II();if(!o||o.injector.get(wI,!1)){let c=[...n,...s,{provide:i,useValue:!0}];t?t(c):K1(Q1(c,r))}return Y1(i)}}function Q1(t=[],e){return Ae.create({name:e,providers:[{provide:xc,useValue:"platform"},{provide:_I,useValue:new Set([()=>js=null])},...t]})}function Y1(t){let e=II();if(!e)throw new F(401,!1);return e}function II(){return js?.get(vI)??null}function J1(t){t.get(Vh,null)?.forEach(n=>n())}var ao=(()=>{class t{static{this.__NG_ELEMENT_ID__=Z1}}return t})();function Z1(t){return X1(Wn(),Te(),(t&16)===16)}function X1(t,e,n){if(Oc(t)&&!n){let r=Pi(t.index,e);return new Ai(r,r)}else if(t.type&47){let r=e[Pt];return new Ai(r,e)}return null}var EI=af(null,"core",[]),TI=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(V(Oi))}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({})}}return t})();function CI(t){let e=Hn(t);if(!e)return null;let n=new Ri(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var AI=null;function Cr(){return AI}function RI(t){AI??=t}var su=class{};var nt=new O(""),lf=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:()=>P(rN),providedIn:"platform"})}}return t})(),NI=new O(""),rN=(()=>{class t extends lf{constructor(){super(),this._doc=P(nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cr().getBaseHref(this._doc)}onPopState(n){let r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function df(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function DI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function yn(t){return t&&t[0]!=="?"?"?"+t:t}var Dr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:()=>P(hf),providedIn:"root"})}}return t})(),PI=new O(""),hf=(()=>{class t extends Dr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return df(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+yn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+yn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+yn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(V(lf),V(PI,8))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xI=(()=>{class t extends Dr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=df(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+yn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+yn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(V(lf),V(PI,8))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),Li=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=oN(DI(bI(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+yn(r))}normalize(n){return t.stripTrailingSlash(sN(this._basePath,bI(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=yn}static{this.joinWithSlash=df}static{this.stripTrailingSlash=DI}static{this.\u0275fac=function(r){return new(r||t)(V(Dr))}}static{this.\u0275prov=L({token:t,factory:()=>iN(),providedIn:"root"})}}return t})();function iN(){return new Li(V(Dr))}function sN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function bI(t){return t.replace(/\/index.html$/,"")}function oN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function MI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var kI=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({})}}return t})(),ff="browser",aN="server";function cN(t){return t===ff}function pf(t){return t===aN}var OI=(()=>{class t{static{this.\u0275prov=L({token:t,providedIn:"root",factory:()=>cN(P(Kt))?new cf(P(nt),window):new uf})}}return t})(),cf=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=uN(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function uN(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var uf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ou=class{};var yf=class extends su{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_f=class t extends yf{static makeCurrent(){RI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=lN();return n==null?null:dN(n)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return MI(document.cookie,e)}},co=null;function lN(){return co=co||document.querySelector("base"),co?co.getAttribute("href"):null}function dN(t){return new URL(t,document.baseURI).pathname}var vf=class{addToWindow(e){ut.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new F(5103,!1);return s},ut.getAllAngularTestabilities=()=>e.getAllTestabilities(),ut.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=ut.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(c=>{c.whenStable(o)})};ut.frameworkStabilizers||(ut.frameworkStabilizers=[]),ut.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Cr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},hN=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),wf=new O(""),UI=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(V(wf),V(G))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),au=class{constructor(e){this._doc=e}},gf="ng-app-id",jI=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pf(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${gf}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(gf),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(gf,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(V(nt),V(Uc),V(Uh,8),V(Kt))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),mf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ef=/%COMP%/g,BI="%COMP%",fN=`_nghost-${BI}`,pN=`_ngcontent-${BI}`,gN=!0,mN=new O("",{providedIn:"root",factory:()=>gN});function yN(t){return pN.replace(Ef,t)}function _N(t){return fN.replace(Ef,t)}function $I(t,e){return e.map(n=>n.replace(Ef,t))}var LI=(()=>{class t{constructor(n,r,i,s,o,c,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=pf(c),this.defaultRenderer=new uo(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qt.ShadowDom&&(r=ve(M({},r),{encapsulation:qt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof cu?i.applyToHost(n):i instanceof lo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case qt.Emulated:s=new cu(u,d,r,this.appId,f,o,c,p);break;case qt.ShadowDom:return new If(u,d,n,r,o,c,this.nonce,p);default:s=new lo(u,d,r,f,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(V(UI),V(jI),V(Uc),V(mN),V(nt),V(Kt),V(G),V(Uh))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),uo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(mf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(FI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(FI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=mf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=mf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Er.DashCase|Er.Important)?e.style.setProperty(n,r,i&Er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Cr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function FI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var If=class extends uo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=$I(i.id,i.styles);for(let f of d){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},lo=class extends uo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?$I(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cu=class extends lo{constructor(e,n,r,i,s,o,c,u){let d=i+"-"+r.id;super(e,n,r,s,o,c,u,d),this.contentAttr=yN(d),this.hostAttr=_N(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},vN=(()=>{class t extends au{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(V(nt))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),VI=["alt","control","meta","shift"],wN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},EN=(()=>{class t extends au{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),VI.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=wN[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),VI.forEach(o=>{if(o!==i){let c=IN[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(V(nt))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})();function TN(){_f.makeCurrent()}function CN(){return new zt}function DN(){return bw(document),document}var bN=[{provide:Kt,useValue:ff},{provide:Vh,useValue:TN,multi:!0},{provide:nt,useFactory:DN,deps:[]}],HI=af(EI,"browser",bN),SN=new O(""),AN=[{provide:so,useClass:vf,deps:[]},{provide:nf,useClass:tu,deps:[G,nu,so]},{provide:tu,useClass:tu,deps:[G,nu,so]}],RN=[{provide:xc,useValue:"root"},{provide:zt,useFactory:CN,deps:[]},{provide:wf,useClass:vN,multi:!0,deps:[nt,G,Kt]},{provide:wf,useClass:EN,multi:!0,deps:[nt]},LI,jI,UI,{provide:Js,useExisting:LI},{provide:ou,useClass:hN,deps:[]},[]],qI=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Uc,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(V(SN,12))}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({providers:[...RN,...AN],imports:[kI,TI]})}}return t})();var zI=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(V(nt))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var H="primary",bo=Symbol("RouteTitle"),Sf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bi(t){return new Sf(t)}function NN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function PN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qt(t[n],e[n]))return!1;return!0}function Qt(t,e){let n=t?Af(t):void 0,r=e?Af(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!tE(t[i],e[i]))return!1;return!0}function Af(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function tE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function nE(t){return t.length>0?t[t.length-1]:null}function Yn(t){return gd(t)?t:oo(t)?Ie(Promise.resolve(t)):U(t)}var xN={exact:iE,subset:sE},rE={exact:MN,subset:kN,ignored:()=>!0};function GI(t,e,n){return xN[n.paths](t.root,e.root,n.matrixParams)&&rE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function MN(t,e){return Qt(t,e)}function iE(t,e,n){if(!Sr(t.segments,e.segments)||!du(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!iE(t.children[r],e.children[r],n))return!1;return!0}function kN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tE(t[n],e[n]))}function sE(t,e,n){return oE(t,e,e.segments,n)}function oE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Sr(i,n)||e.hasChildren()||!du(i,n,r))}else if(t.segments.length===n.length){if(!Sr(t.segments,n)||!du(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!sE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Sr(t.segments,i)||!du(t.segments,i,r)||!t.children[H]?!1:oE(t.children[H],e,s,r)}}function du(t,e,n){return e.every((r,i)=>rE[n](t[i].parameters,r.parameters))}var Gn=class{constructor(e=new oe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bi(this.queryParams),this._queryParamMap}toString(){return FN.serialize(this)}},oe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hu(this)}},br=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Bi(this.parameters),this._parameterMap}toString(){return cE(this)}};function ON(t,e){return Sr(t,e)&&t.every((n,r)=>Qt(n.parameters,e[r].parameters))}function Sr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function LN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var So=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:()=>new _o,providedIn:"root"})}}return t})(),_o=class{parse(e){let n=new Nf(e);return new Gn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ho(e.root,!0)}`,r=jN(e.queryParams),i=typeof e.fragment=="string"?`#${VN(e.fragment)}`:"";return`${n}${r}${i}`}},FN=new _o;function hu(t){return t.segments.map(e=>cE(e)).join("/")}function ho(t,e){if(!t.hasChildren())return hu(t);if(e){let n=t.children[H]?ho(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${ho(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=LN(t,(r,i)=>i===H?[ho(t.children[H],!1)]:[`${i}:${ho(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${hu(t)}/${n[0]}`:`${hu(t)}/(${n.join("//")})`}}function aE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uu(t){return aE(t).replace(/%3B/gi,";")}function VN(t){return encodeURI(t)}function Rf(t){return aE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fu(t){return decodeURIComponent(t)}function KI(t){return fu(t.replace(/\+/g,"%20"))}function cE(t){return`${Rf(t.path)}${UN(t.parameters)}`}function UN(t){return Object.entries(t).map(([e,n])=>`;${Rf(e)}=${Rf(n)}`).join("")}function jN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${uu(n)}=${uu(i)}`).join("&"):`${uu(n)}=${uu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var BN=/^[^\/()?;#]+/;function Tf(t){let e=t.match(BN);return e?e[0]:""}var $N=/^[^\/()?;=#]+/;function HN(t){let e=t.match($N);return e?e[0]:""}var qN=/^[^=?&#]+/;function zN(t){let e=t.match(qN);return e?e[0]:""}var WN=/^[^&#]+/;function GN(t){let e=t.match(WN);return e?e[0]:""}var Nf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new oe(e,n)),r}parseSegment(){let e=Tf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new br(fu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=HN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Tf(this.remaining);i&&(r=i,this.capture(r))}e[fu(n)]=fu(r)}parseQueryParam(e){let n=zN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=GN(this.remaining);o&&(r=o,this.capture(r))}let i=KI(n),s=KI(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Tf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[H]:new oe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function uE(t){return t.segments.length>0?new oe([],{[H]:t}):t}function lE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=lE(i);if(r===H&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new oe(t.segments,e);return KN(n)}function KN(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new oe(t.segments.concat(e.segments),e.children)}return t}function $i(t){return t instanceof Gn}function QN(t,e,n=null,r=null){let i=dE(t);return hE(i,e,n,r)}function dE(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let c=new oe(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=uE(r);return e??i}function hE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Cf(i,i,i,n,r);let s=YN(e);if(s.toRoot())return Cf(i,i,new oe([],{}),n,r);let o=JN(s,i,t),c=o.processChildren?go(o.segmentGroup,o.index,s.commands):pE(o.segmentGroup,o.index,s.commands);return Cf(i,o.segmentGroup,c,n,r)}function pu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function vo(t){return typeof t=="object"&&t!=null&&t.outlets}function Cf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;t===e?o=n:o=fE(t,e,n);let c=uE(lE(o));return new Gn(c,s,i)}function fE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=fE(s,e,n)}),new oe(t.segments,r)}var gu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pu(r[0]))throw new F(4003,!1);let i=r.find(vo);if(i&&i!==nE(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new gu(n,e,r)}var Ui=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function JN(t,e,n){if(t.isAbsolute)return new Ui(e,!0,0);if(!n)return new Ui(e,!1,NaN);if(n.parent===null)return new Ui(n,!0,0);let r=pu(t.commands[0])?0:1,i=n.segments.length-1+r;return ZN(n,i,t.numberOfDoubleDots)}function ZN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Ui(r,!1,i-s)}function XN(t){return vo(t[0])?t[0].outlets:{[H]:t}}function pE(t,e,n){if(t??=new oe([],{}),t.segments.length===0&&t.hasChildren())return go(t,e,n);let r=eP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new oe(t.segments.slice(0,r.pathIndex),{});return s.children[H]=new oe(t.segments.slice(r.pathIndex),t.children),go(s,0,i)}else return r.match&&i.length===0?new oe(t.segments,{}):r.match&&!t.hasChildren()?Pf(t,e,n):r.match?go(t,0,i):Pf(t,e,n)}function go(t,e,n){if(n.length===0)return new oe(t.segments,{});{let r=XN(n),i={};if(Object.keys(r).some(s=>s!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let s=go(t.children[H],e,n);return new oe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=pE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new oe(t.segments,i)}}function eP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(vo(c))break;let u=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!YI(u,d,o))return s;r+=2}else{if(!YI(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Pf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(vo(s)){let u=tP(s.outlets);return new oe(r,u)}if(i===0&&pu(n[0])){let u=t.segments[e];r.push(new br(u.path,QI(n[0]))),i++;continue}let o=vo(s)?s.outlets[H]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&pu(c)?(r.push(new br(o,QI(c))),i+=2):(r.push(new br(o,{})),i++)}return new oe(r,{})}function tP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Pf(new oe([],{}),0,r))}),e}function QI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function YI(t,e,n){return t==n.path&&Qt(e,n.parameters)}var mo="imperative",Re=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Re||{}),Et=class{constructor(e,n){this.id=e,this.url=n}},Hi=class extends Et{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Re.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends Et{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Re.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ft||{}),mu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(mu||{}),Kn=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Re.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qn=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Re.NavigationSkipped}},wo=class extends Et{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Re.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yu=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xf=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mf=class extends Et{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Re.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kf=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Of=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lf=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ff=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vf=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uf=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jf=class{constructor(e){this.snapshot=e,this.type=Re.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bf=class{constructor(e){this.snapshot=e,this.type=Re.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_u=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Re.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Io=class{},Eo=class{constructor(e){this.url=e}};var $f=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ao,this.attachRef=null}},Ao=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $f,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=qf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qf(e,this._root).map(n=>n.value)}};function Hf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hf(t,n);if(r)return r}return null}function qf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=qf(t,n);if(r.length)return r.unshift(e),r}return[]}var ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var wu=class extends vu{constructor(e,n){super(e),this.snapshot=n,ep(this,e)}toString(){return this.snapshot.toString()}};function gE(t){let e=nP(t),n=new Me([new br("",{})]),r=new Me({}),i=new Me({}),s=new Me({}),o=new Me(""),c=new qi(n,r,s,o,i,H,t,e.root);return c.snapshot=e.root,new wu(new ht(c,[]),e)}function nP(t){let e={},n={},r={},i="",s=new To([],e,r,i,n,H,t,null,{});return new Iu("",new ht(s,[]))}var qi=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(d=>d[bo]))??U(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Bi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Bi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),t.params),data:M(M({},e.data),t.data),resolve:M(M(M(M({},t.data),e.data),i?.data),t._resolvedData)}:r={params:M({},t.params),data:M({},t.data),resolve:M(M({},t.data),t._resolvedData??{})},i&&yE(i)&&(r.resolve[bo]=i.title),r}var To=class{get title(){return this.data?.[bo]}constructor(e,n,r,i,s,o,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Iu=class extends vu{constructor(e,n){super(n),this.url=e,ep(this,n)}toString(){return mE(this._root)}};function ep(t,e){e.value._routerState=t,e.children.forEach(n=>ep(t,n))}function mE(t){let e=t.children.length>0?` { ${t.children.map(mE).join(", ")} } `:"";return`${t.value}${e}`}function Df(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qt(e.params,n.params)||t.paramsSubject.next(n.params),PN(e.url,n.url)||t.urlSubject.next(n.url),Qt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zf(t,e){let n=Qt(t.params,e.params)&&ON(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zf(t.parent,e.parent))}function yE(t){return typeof t.title=="string"||t.title===null}var tp=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=P(Ao),this.location=P(Qc),this.changeDetector=P(ao),this.environmentInjector=P(et),this.inputBinder=P(bu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Wf(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ih({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Lc]})}}return t})(),Wf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===qi?this.route:e===Ao?this.childContexts:this.parent.get(e,n)}},bu=new O(""),JI=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Fs([r.queryParams,r.params,r.data]).pipe(_t(([s,o,c],u)=>(c=M(M(M({},s),o),c),u===0?U(c):Promise.resolve(c)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=CI(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of o.inputs)n.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})();function rP(t,e,n){let r=Co(t,e._root,n?n._root:void 0);return new wu(r,e)}function Co(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=iP(t,e,n);return new ht(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Co(t,c)),o}}let r=sP(e.value),i=e.children.map(s=>Co(t,s));return new ht(r,i)}}function iP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Co(t,r,i);return Co(t,r)})}function sP(t){return new qi(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var _E="ngNavigationCancelingError";function vE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=$i(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wE(!1,ft.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function wE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[_E]=!0,n.cancellationCode=e,n}function oP(t){return IE(t)&&$i(t.url)}function IE(t){return!!t&&t[_E]}var aP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Pc({type:t,selectors:[["ng-component"]],standalone:!0,features:[hI],decls:1,vars:0,template:function(r,i){r&1&&tt(0,"router-outlet")},dependencies:[tp],encapsulation:2})}}return t})();function cP(t,e){return t.providers&&!t._injector&&(t._injector=Yc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function np(t){let e=t.children&&t.children.map(np),n=e?ve(M({},t),{children:e}):M({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=aP),n}function Yt(t){return t.outlet||H}function uP(t,e){let n=t.filter(r=>Yt(r)===e);return n.push(...t.filter(r=>Yt(r)!==e)),n}function Ro(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var lP=(t,e,n,r)=>J(i=>(new Gf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Gf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Df(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Vi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Vi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Bf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Uf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Df(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Df(c.route.value),this.activateChildRoutes(e,null,o.children)}else{let c=Ro(i.snapshot);o.attachRef=null,o.route=i,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Eu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ji=class{constructor(e,n){this.component=e,this.route=n}};function dP(t,e,n){let r=t._root,i=e?e._root:null;return fo(r,i,n,[r.value])}function hP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Wi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!yv(t)?t:e.get(t):r}function fo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Vi(e);return t.children.forEach(o=>{fP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>yo(c,n.getContext(o),i)),i}function fP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=pP(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Eu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fo(t,e,c?c.children:null,r,i):fo(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ji(c.outlet.component,o))}else o&&yo(e,c,i),i.canActivateChecks.push(new Eu(r)),s.component?fo(t,null,c?c.children:null,r,i):fo(t,null,n,r,i);return i}function pP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Sr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sr(t.url,e.url)||!Qt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zf(t,e)||!Qt(t.queryParams,e.queryParams);case"paramsChange":default:return!zf(t,e)}}function yo(t,e,n){let r=Vi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?yo(o,e.children.getContext(s),n):yo(o,null,n):yo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ji(e.outlet.component,i)):n.canDeactivateChecks.push(new ji(null,i)):n.canDeactivateChecks.push(new ji(null,i))}function No(t){return typeof t=="function"}function gP(t){return typeof t=="boolean"}function mP(t){return t&&No(t.canLoad)}function yP(t){return t&&No(t.canActivate)}function _P(t){return t&&No(t.canActivateChild)}function vP(t){return t&&No(t.canDeactivate)}function wP(t){return t&&No(t.canMatch)}function EE(t){return t instanceof ln||t?.name==="EmptyError"}var lu=Symbol("INITIAL_VALUE");function zi(){return _t(t=>Fs(t.map(e=>e.pipe(dn(1),vd(lu)))).pipe(J(e=>{for(let n of e)if(n!==!0){if(n===lu)return lu;if(n===!1||n instanceof Gn)return n}return!0}),yt(e=>e!==lu),dn(1)))}function IP(t,e){return Ee(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?U(ve(M({},n),{guardsResult:!0})):EP(o,r,i,t).pipe(Ee(c=>c&&gP(c)?TP(r,s,t,e):U(c)),J(c=>ve(M({},n),{guardsResult:c})))})}function EP(t,e,n,r){return Ie(t).pipe(Ee(i=>AP(i.component,i.route,n,e,r)),Bt(i=>i!==!0,!0))}function TP(t,e,n,r){return Ie(e).pipe(mr(i=>gi(DP(i.route.parent,r),CP(i.route,r),SP(t,i.path,n),bP(t,i.route,n))),Bt(i=>i!==!0,!0))}function CP(t,e){return t!==null&&e&&e(new jf(t)),U(!0)}function DP(t,e){return t!==null&&e&&e(new Vf(t)),U(!0)}function bP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return U(!0);let i=r.map(s=>Za(()=>{let o=Ro(e)??n,c=Wi(s,o),u=yP(c)?c.canActivate(e,t):pn(o,()=>c(e,t));return Yn(u).pipe(Bt())}));return U(i).pipe(zi())}function SP(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>hP(o)).filter(o=>o!==null).map(o=>Za(()=>{let c=o.guards.map(u=>{let d=Ro(o.node)??n,f=Wi(u,d),p=_P(f)?f.canActivateChild(r,t):pn(d,()=>f(r,t));return Yn(p).pipe(Bt())});return U(c).pipe(zi())}));return U(s).pipe(zi())}function AP(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return U(!0);let o=s.map(c=>{let u=Ro(e)??i,d=Wi(c,u),f=vP(d)?d.canDeactivate(t,e,n,r):pn(u,()=>d(t,e,n,r));return Yn(f).pipe(Bt())});return U(o).pipe(zi())}function RP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return U(!0);let s=i.map(o=>{let c=Wi(o,t),u=mP(c)?c.canLoad(e,n):pn(t,()=>c(e,n));return Yn(u)});return U(s).pipe(zi(),TE(r))}function TE(t){return ad(De(e=>{if($i(e))throw vE(t,e)}),J(e=>e===!0))}function NP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return U(!0);let s=i.map(o=>{let c=Wi(o,t),u=wP(c)?c.canMatch(e,n):pn(t,()=>c(e,n));return Yn(u)});return U(s).pipe(zi(),TE(r))}var Do=class{constructor(e){this.segmentGroup=e||null}},Tu=class extends Error{constructor(e){super(),this.urlTree=e}};function Fi(t){return fi(new Do(t))}function PP(t){return fi(new F(4e3,!1))}function xP(t){return fi(wE(!1,ft.GuardRejected))}var Kf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return U(r);if(i.numberOfChildren>1||!i.children[H])return PP(e.redirectTo);i=i.children[H]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Tu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Gn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new oe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Qf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MP(t,e,n,r,i){let s=rp(t,e,n);return s.matched?(r=cP(e,r),NP(r,e,n,i).pipe(J(o=>o===!0?s:M({},Qf)))):U(s)}function rp(t,e,n){if(e.path==="**")return kP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?M({},Qf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||NN)(n,t,e);if(!i)return M({},Qf);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?M(M({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kP(t){return{matched:!0,parameters:t.length>0?nE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZI(t,e,n,r){return n.length>0&&FP(t,n,r)?{segmentGroup:new oe(e,LP(r,new oe(n,t.children))),slicedSegments:[]}:n.length===0&&VP(t,n,r)?{segmentGroup:new oe(t.segments,OP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new oe(t.segments,t.children),slicedSegments:n}}function OP(t,e,n,r){let i={};for(let s of n)if(Su(t,e,s)&&!r[Yt(s)]){let o=new oe([],{});i[Yt(s)]=o}return M(M({},r),i)}function LP(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&Yt(r)!==H){let i=new oe([],{});n[Yt(r)]=i}return n}function FP(t,e,n){return n.some(r=>Su(t,e,r)&&Yt(r)!==H)}function VP(t,e,n){return n.some(r=>Su(t,e,r))}function Su(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function UP(t,e,n,r){return Yt(t)!==r&&(r===H||!Su(e,n,t))?!1:rp(e,t,n).matched}function jP(t,e,n){return e.length===0&&!t.children[n]}var Yf=class{};function BP(t,e,n,r,i,s,o="emptyOnly"){return new Jf(t,e,n,r,i,o,s).recognize()}var $P=31,Jf=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Kf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(n=>{let r=new To([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},H,this.rootComponentType,null,{}),i=new ht(r,n),s=new Iu("",i),o=QN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,H).pipe(Fn(r=>{if(r instanceof Tu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Do?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Xf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(J(s=>s instanceof ht?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Ie(i).pipe(mr(s=>{let o=r.children[s],c=uP(n,s);return this.processSegmentGroup(e,c,o,s)}),_d((s,o)=>(s.push(...o),s)),Vn(null),yd(),Ee(s=>{if(s===null)return Fi(r);let o=CE(s);return HP(o),U(o)}))}processSegment(e,n,r,i,s,o){return Ie(n).pipe(mr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o).pipe(Fn(u=>{if(u instanceof Do)return U(null);throw u}))),Bt(c=>!!c),Fn(c=>{if(EE(c))return jP(r,i,s)?U(new Yf):Fi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,c){return UP(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Fi(i):Fi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=rp(n,i,s);if(!c)return Fi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$P&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ee(w=>this.processSegment(e,r,n,w.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=MP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(_t(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(_t(({routes:u})=>{let d=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:w}=c,S=new To(f,w,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,zP(r),Yt(r),r.component??r._loadedComponent??null,r,WP(r)),{segmentGroup:A,slicedSegments:x}=ZI(n,f,p,u);if(x.length===0&&A.hasChildren())return this.processChildren(d,u,A).pipe(J(q=>q===null?null:new ht(S,q)));if(u.length===0&&x.length===0)return U(new ht(S,[]));let k=Yt(r)===s;return this.processSegment(d,u,A,x,k?H:s,!0).pipe(J(q=>new ht(S,q instanceof ht?[q]:[])))}))):Fi(n)))}getChildConfig(e,n,r){return n.children?U({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?U({routes:n._loadedRoutes,injector:n._loadedInjector}):RP(e,n,r,this.urlSerializer).pipe(Ee(i=>i?this.configLoader.loadChildren(e,n).pipe(De(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):xP(n))):U({routes:[],injector:e})}};function HP(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function qP(t){let e=t.value.routeConfig;return e&&e.path===""}function CE(t){let e=[],n=new Set;for(let r of t){if(!qP(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=CE(r.children);e.push(new ht(r.value,i))}return e.filter(r=>!n.has(r))}function zP(t){return t.data||{}}function WP(t){return t.resolve||{}}function GP(t,e,n,r,i,s){return Ee(o=>BP(t,e,n,r,o.extractedUrl,i,s).pipe(J(({state:c,tree:u})=>ve(M({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function KP(t,e){return Ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of DE(u))o.add(d);let c=0;return Ie(o).pipe(mr(u=>s.has(u)?QP(u,r,t,e):(u.data=Xf(u,u.parent,t).resolve,U(void 0))),De(()=>c++),mi(1),Ee(u=>c===o.size?U(n):ct))})}function DE(t){let e=t.children.map(n=>DE(n)).flat();return[t,...e]}function QP(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!yE(i)&&(s[bo]=i.title),YP(s,t,e,r).pipe(J(o=>(t._resolvedData=o,t.data=Xf(t,t.parent,n).resolve,null)))}function YP(t,e,n,r){let i=Af(t);if(i.length===0)return U({});let s={};return Ie(i).pipe(Ee(o=>JP(t[o],e,n,r).pipe(Bt(),De(c=>{s[o]=c}))),mi(1),md(s),Fn(o=>EE(o)?ct:fi(o)))}function JP(t,e,n,r){let i=Ro(e)??r,s=Wi(t,i),o=s.resolve?s.resolve(e,n):pn(i,()=>s(e,n));return Yn(o)}function bf(t){return _t(e=>{let n=t(e);return n?Ie(n).pipe(J(()=>e)):U(e)})}var bE=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===H);return r}getResolvedTitleForRoute(n){return n.data[bo]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:()=>P(ZP),providedIn:"root"})}}return t})(),ZP=(()=>{class t extends bE{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(V(zI))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Po=new O("",{providedIn:"root",factory:()=>({})}),Cu=new O(""),ip=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(iu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return U(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Yn(n.loadComponent()).pipe(J(SE),De(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Vs(()=>{this.componentLoaders.delete(n)})),i=new ui(r,()=>new Ke).pipe(ci());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=XP(r,this.compiler,n,this.onLoadEndListener).pipe(Vs(()=>{this.childrenLoaders.delete(r)})),o=new ui(s,()=>new Ke).pipe(ci());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XP(t,e,n,r){return Yn(t.loadChildren()).pipe(J(SE),Ee(i=>i instanceof Zs||Array.isArray(i)?U(i):Ie(e.compileModuleAsync(i))),J(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Cu,[],{optional:!0,self:!0}).flat()),{routes:o.map(np),injector:s}}))}function ex(t){return t&&typeof t=="object"&&"default"in t}function SE(t){return ex(t)?t.default:t}var sp=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:()=>P(tx),providedIn:"root"})}}return t})(),tx=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),AE=new O(""),RE=new O("");function nx(t,e,n){let r=t.get(RE),i=t.get(nt);return t.get(G).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),c=i.startViewTransition(()=>(s(),rx(t))),{onViewTransitionCreated:u}=r;return u&&pn(t,()=>u({transition:c,from:e,to:n})),o})}function rx(t){return new Promise(e=>{Kc(e,{injector:t})})}var op=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke,this.transitionAbortSubject=new Ke,this.configLoader=P(ip),this.environmentInjector=P(et),this.urlSerializer=P(So),this.rootContexts=P(Ao),this.location=P(Li),this.inputBindingEnabled=P(bu,{optional:!0})!==null,this.titleStrategy=P(bE),this.options=P(Po,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(sp),this.createViewTransition=P(AE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>U(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Lf(i)),r=i=>this.events.next(new Ff(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ve(M(M({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Me({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yt(s=>s.id!==0),J(s=>ve(M({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_t(s=>{let o=!1,c=!1;return U(s).pipe(_t(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ft.SupersededByNewNavigation),ct;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ve(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&f!=="reload"){let p="";return this.events.next(new Qn(u.id,this.urlSerializer.serialize(u.rawUrl),p,mu.IgnoredSameUrlNavigation)),u.resolve(null),ct}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return U(u).pipe(_t(p=>{let w=this.transitions?.getValue();return this.events.next(new Hi(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),w!==this.transitions?.getValue()?ct:Promise.resolve(p)}),GP(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),De(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ve(M({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let w=new yu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(w)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:w,source:S,restoredState:A,extras:x}=u,k=new Hi(p,this.urlSerializer.serialize(w),S,A);this.events.next(k);let q=gE(this.rootComponentType).snapshot;return this.currentTransition=s=ve(M({},u),{targetSnapshot:q,urlAfterRedirects:w,extras:ve(M({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,U(s)}else{let p="";return this.events.next(new Qn(u.id,this.urlSerializer.serialize(u.extractedUrl),p,mu.IgnoredByUrlHandlingStrategy)),u.resolve(null),ct}}),De(u=>{let d=new xf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),J(u=>(this.currentTransition=s=ve(M({},u),{guards:dP(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),IP(this.environmentInjector,u=>this.events.next(u)),De(u=>{if(s.guardsResult=u.guardsResult,$i(u.guardsResult))throw vE(this.urlSerializer,u.guardsResult);let d=new Mf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),yt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ft.GuardRejected),!1)),bf(u=>{if(u.guards.canActivateChecks.length)return U(u).pipe(De(d=>{let f=new kf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),_t(d=>{let f=!1;return U(d).pipe(KP(this.paramsInheritanceStrategy,this.environmentInjector),De({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",ft.NoDataFromResolver)}}))}),De(d=>{let f=new Of(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),bf(u=>{let d=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(De(w=>{f.component=w}),J(()=>{})));for(let w of f.children)p.push(...d(w));return p};return Fs(d(u.targetSnapshot.root)).pipe(Vn(null),dn(1))}),bf(()=>this.afterPreactivation()),_t(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Ie(f).pipe(J(()=>s)):U(s)}),J(u=>{let d=rP(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ve(M({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),De(()=>{this.events.next(new Io)}),lP(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),dn(1),De({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),wd(this.transitionAbortSubject.pipe(De(u=>{throw u}))),Vs(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",ft.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fn(u=>{if(c=!0,IE(u))this.events.next(new Kn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),oP(u)?this.events.next(new Eo(u.url)):s.resolve(!1);else{this.events.next(new wo(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return ct}))}))}cancelNavigationTransition(n,r,i){let s=new Kn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ix(t){return t!==mo}var sx=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:()=>P(ox),providedIn:"root"})}}return t})(),Zf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},ox=(()=>{class t extends Zf{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Oh(t)))(i||t)}})()}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),NE=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:()=>P(ax),providedIn:"root"})}}return t})(),ax=(()=>{class t extends NE{constructor(){super(...arguments),this.location=P(Li),this.urlSerializer=P(So),this.options=P(Po,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(sp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Hi)this.stateMemento=this.createStateMemento();else if(n instanceof Qn)this.rawUrlTree=r.initialUrl;else if(n instanceof yu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof Io?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Kn&&(n.code===ft.GuardRejected||n.code===ft.NoDataFromResolver)?this.restoreHistory(r):n instanceof wo?this.restoreHistory(r,!0):n instanceof _n&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=M(M({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Oh(t)))(i||t)}})()}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),po=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(po||{});function PE(t,e){t.events.pipe(yt(n=>n instanceof _n||n instanceof Kn||n instanceof wo||n instanceof Qn),J(n=>n instanceof _n||n instanceof Qn?po.COMPLETE:(n instanceof Kn?n.code===ft.Redirect||n.code===ft.SupersededByNewNavigation:!1)?po.REDIRECTING:po.FAILED),yt(n=>n!==po.REDIRECTING),dn(1)).subscribe(()=>{e()})}function cx(t){throw t}var ux={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ar=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=P(eu),this.stateManager=P(NE),this.options=P(Po,{optional:!0})||{},this.pendingTasks=P(Jc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(op),this.urlSerializer=P(So),this.location=P(Li),this.urlHandlingStrategy=P(sp),this._events=new Ke,this.errorHandler=this.options.errorHandler||cx,this.navigated=!1,this.routeReuseStrategy=P(sx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Cu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(bu,{optional:!0}),this.eventsSubscription=new we,this.isNgZoneEnabled=P(G)instanceof G&&G.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Kn&&r.code!==ft.Redirect&&r.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _n)this.navigated=!0;else if(r instanceof Eo){let o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||ix(i.source)};this.scheduleNavigation(o,mo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}hx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=M({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(np),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,f=null;switch(c){case"merge":f=M(M({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let w=i?i.snapshot:this.routerState.snapshot.root;p=dE(w)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return hE(p,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=$i(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,mo,null,r)}navigate(n,r={skipLocationChange:!1}){return dx(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=M({},ux):r===!1?i=M({},lx):i=r,$i(n))return GI(this.currentUrlTree,n,i);let s=this.parseUrl(n);return GI(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((p,w)=>{c=p,u=w});let f=this.pendingTasks.add();return PE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function dx(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new F(4008,!1)}function hx(t){return!(t instanceof Io)&&!(t instanceof Eo)}var Du=class{};var fx=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(yt(n=>n instanceof _n),mr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Yc(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ie(i).pipe(pi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=U(null);let s=i.pipe(Ee(o=>o===null?U(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ie([s,o]).pipe(pi())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(V(Ar),V(iu),V(et),V(Du),V(ip))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xE=new O(""),px=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=P(et),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Hi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _n?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Qn&&n.code===mu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _u&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Kc(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new _u(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){jw()}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})();function gx(t){return t.routerState.root}function xo(t,e){return{\u0275kind:t,\u0275providers:e}}function mx(){let t=P(Ae);return e=>{let n=t.get(Oi);if(e!==n.components[0])return;let r=t.get(Ar),i=t.get(ME);t.get(ap)===1&&r.initialNavigation(),t.get(kE,null,z.Optional)?.setUpPreloading(),t.get(xE,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ME=new O("",{factory:()=>new Ke}),ap=new O("",{providedIn:"root",factory:()=>1});function yx(){return xo(2,[{provide:ap,useValue:0},{provide:ru,multi:!0,deps:[Ae],useFactory:e=>{let n=e.get(NI,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Ar),s=e.get(ME);PE(i,()=>{r(!0)}),e.get(op).afterPreactivation=()=>(r(!0),s.closed?U(void 0):s),i.initialNavigation()}))}}])}function _x(){return xo(3,[{provide:ru,multi:!0,useFactory:()=>{let e=P(Ar);return()=>{e.setUpLocationChangeListener()}}},{provide:ap,useValue:2}])}var kE=new O("");function vx(t){return xo(0,[{provide:kE,useExisting:fx},{provide:Du,useExisting:t}])}function wx(){return xo(8,[JI,{provide:bu,useExisting:JI}])}function Ix(t){let e=[{provide:AE,useValue:nx},{provide:RE,useValue:M({skipNextTransition:!!t?.skipInitialTransition},t)}];return xo(9,e)}var XI=new O("ROUTER_FORROOT_GUARD"),Ex=[Li,{provide:So,useClass:_o},Ar,Ao,{provide:qi,useFactory:gx,deps:[Ar]},ip,[]],cp=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Ex,[],{provide:Cu,multi:!0,useValue:n},{provide:XI,useFactory:bx,deps:[[Ar,new Ce,new Cv]]},{provide:Po,useValue:r||{}},r?.useHash?Cx():Dx(),Tx(),r?.preloadingStrategy?vx(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Sx(r):[],r?.bindToComponentInputs?wx().\u0275providers:[],r?.enableViewTransitions?Ix().\u0275providers:[],Ax()]}}static forChild(n){return{ngModule:t,providers:[{provide:Cu,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(V(XI,8))}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({})}}return t})();function Tx(){return{provide:xE,useFactory:()=>{let t=P(OI),e=P(G),n=P(Po),r=P(op),i=P(So);return n.scrollOffset&&t.setOffset(n.scrollOffset),new px(i,r,t,e,n)}}}function Cx(){return{provide:Dr,useClass:xI}}function Dx(){return{provide:Dr,useClass:hf}}function bx(t){return"guarded"}function Sx(t){return[t.initialNavigation==="disabled"?_x().\u0275providers:[],t.initialNavigation==="enabledBlocking"?yx().\u0275providers:[]]}var eE=new O("");function Ax(){return[{provide:eE,useFactory:mx},{provide:sf,multi:!0,useExisting:eE}]}var Nx=[],OE=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({imports:[cp.forRoot(Nx),cp]})}}return t})();var Px=(t,e)=>e.title,xx=()=>({title:"Explore the Docs",link:"https://angular.dev"}),Mx=()=>({title:"Learn with Tutorials",link:"https://angular.dev/tutorials"}),kx=()=>({title:"CLI Docs",link:"https://angular.dev/tools/cli"}),Ox=()=>({title:"Angular Language Service",link:"https://angular.dev/tools/language-service"}),Lx=()=>({title:"Angular DevTools",link:"https://angular.dev/tools/devtools"}),Fx=(t,e,n,r,i)=>[t,e,n,r,i];function Vx(t,e){if(t&1&&(be(0,"a",21)(1,"span"),Zc(2),Je(),Mi(),be(3,"svg",32),tt(4,"path",33),Je()()),t&2){let n=e.$implicit;ef("href",n.link,Nw),$c(2),tf(n.title)}}var LE=(()=>{class t{constructor(){this.title="converto"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Pc({type:t,selectors:[["app-root"]],decls:39,vars:12,consts:[[1,"main"],[1,"content"],[1,"left-side"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 982 239","fill","none",1,"angular-logo"],["clip-path","url(#a)"],["fill","url(#b)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["fill","url(#c)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["id","c","cx","0","cy","0","r","1","gradientTransform","rotate(118.122 171.182 60.81) scale(205.794)","gradientUnits","userSpaceOnUse"],["stop-color","#FF41F8"],["offset",".707","stop-color","#FF41F8","stop-opacity",".5"],["offset","1","stop-color","#FF41F8","stop-opacity","0"],["id","b","x1","0","x2","982","y1","192","y2","192","gradientUnits","userSpaceOnUse"],["stop-color","#F0060B"],["offset","0","stop-color","#F0070C"],["offset",".526","stop-color","#CC26D5"],["offset","1","stop-color","#7702FF"],["id","a"],["fill","#fff","d","M0 0h982v239H0z"],["role","separator","aria-label","Divider",1,"divider"],[1,"right-side"],[1,"pill-group"],["target","_blank","rel","noopener",1,"pill",3,"href"],[1,"social-links"],["href","https://github.com/angular/angular","aria-label","Github","target","_blank","rel","noopener"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Github"],["d","M12.3047 0C5.50634 0 0 5.50942 0 12.3047C0 17.7423 3.52529 22.3535 8.41332 23.9787C9.02856 24.0946 9.25414 23.7142 9.25414 23.3871C9.25414 23.0949 9.24389 22.3207 9.23876 21.2953C5.81601 22.0377 5.09414 19.6444 5.09414 19.6444C4.53427 18.2243 3.72524 17.8449 3.72524 17.8449C2.61064 17.082 3.81137 17.0973 3.81137 17.0973C5.04697 17.1835 5.69604 18.3647 5.69604 18.3647C6.79321 20.2463 8.57636 19.7029 9.27978 19.3881C9.39052 18.5924 9.70736 18.0499 10.0591 17.7423C7.32641 17.4347 4.45429 16.3765 4.45429 11.6618C4.45429 10.3185 4.9311 9.22133 5.72065 8.36C5.58222 8.04931 5.16694 6.79833 5.82831 5.10337C5.82831 5.10337 6.85883 4.77319 9.2121 6.36459C10.1965 6.09082 11.2424 5.95546 12.2883 5.94931C13.3342 5.95546 14.3801 6.09082 15.3644 6.36459C17.7023 4.77319 18.7328 5.10337 18.7328 5.10337C19.3942 6.79833 18.9789 8.04931 18.8559 8.36C19.6403 9.22133 20.1171 10.3185 20.1171 11.6618C20.1171 16.3888 17.2409 17.4296 14.5031 17.7321C14.9338 18.1012 15.3337 18.8559 15.3337 20.0084C15.3337 21.6552 15.3183 22.978 15.3183 23.3779C15.3183 23.7009 15.5336 24.0854 16.1642 23.9623C21.0871 22.3484 24.6094 17.7341 24.6094 12.3047C24.6094 5.50942 19.0999 0 12.3047 0Z"],["href","https://twitter.com/angular","aria-label","Twitter","target","_blank","rel","noopener"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Twitter"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["href","https://www.youtube.com/channel/UCbn1OgGei-DV7aSRo_HaAiw","aria-label","Youtube","target","_blank","rel","noopener"],["width","29","height","20","viewBox","0 0 29 20","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Youtube"],["fill-rule","evenodd","clip-rule","evenodd","d","M27.4896 1.52422C27.9301 1.96749 28.2463 2.51866 28.4068 3.12258C29.0004 5.35161 29.0004 10 29.0004 10C29.0004 10 29.0004 14.6484 28.4068 16.8774C28.2463 17.4813 27.9301 18.0325 27.4896 18.4758C27.0492 18.9191 26.5 19.2389 25.8972 19.4032C23.6778 20 14.8068 20 14.8068 20C14.8068 20 5.93586 20 3.71651 19.4032C3.11363 19.2389 2.56449 18.9191 2.12405 18.4758C1.68361 18.0325 1.36732 17.4813 1.20683 16.8774C0.613281 14.6484 0.613281 10 0.613281 10C0.613281 10 0.613281 5.35161 1.20683 3.12258C1.36732 2.51866 1.68361 1.96749 2.12405 1.52422C2.56449 1.08095 3.11363 0.76113 3.71651 0.596774C5.93586 0 14.8068 0 14.8068 0C14.8068 0 23.6778 0 25.8972 0.596774C26.5 0.76113 27.0492 1.08095 27.4896 1.52422ZM19.3229 10L11.9036 5.77905V14.221L19.3229 10Z"],["xmlns","http://www.w3.org/2000/svg","height","14","viewBox","0 -960 960 960","width","14","fill","currentColor"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"]],template:function(r,i){r&1&&(be(0,"main",0)(1,"div",1)(2,"div",2),Mi(),be(3,"svg",3)(4,"g",4),tt(5,"path",5)(6,"path",6),Je(),be(7,"defs")(8,"radialGradient",7),tt(9,"stop",8)(10,"stop",9)(11,"stop",10),Je(),be(12,"linearGradient",11),tt(13,"stop",12)(14,"stop",13)(15,"stop",14)(16,"stop",15),Je(),be(17,"clipPath",16),tt(18,"path",17),Je()()(),ro(),be(19,"h1"),Zc(20),Je(),be(21,"p"),Zc(22,"Congratulations! Your app is running. \u{1F389}"),Je()(),tt(23,"div",18),be(24,"div",19)(25,"div",20),lI(26,Vx,5,2,"a",21,Px),Je(),be(28,"div",22)(29,"a",23),Mi(),be(30,"svg",24),tt(31,"path",25),Je()(),ro(),be(32,"a",26),Mi(),be(33,"svg",27),tt(34,"path",28),Je()(),ro(),be(35,"a",29),Mi(),be(36,"svg",30),tt(37,"path",31),Je()()()()()(),ro(),tt(38,"router-outlet")),r&2&&($c(20),Xc("Hello, ",i.title,""),$c(6),dI(fI(6,Fx,ki(1,xx),ki(2,Mx),ki(3,kx),ki(4,Ox),ki(5,Lx))))},dependencies:[tp],styles:[`[_nghost-%COMP%] {
    --bright-blue: oklch(51.01% 0.274 263.83);
    --electric-violet: oklch(53.18% 0.28 296.97);
    --french-violet: oklch(47.66% 0.246 305.88);
    --vivid-pink: oklch(69.02% 0.277 332.77);
    --hot-red: oklch(61.42% 0.238 15.34);
    --orange-red: oklch(63.32% 0.24 31.68);

    --gray-900: oklch(19.37% 0.006 300.98);
    --gray-700: oklch(36.98% 0.014 302.71);
    --gray-400: oklch(70.9% 0.015 304.04);

    --red-to-pink-to-purple-vertical-gradient: linear-gradient(
      180deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --red-to-pink-to-purple-horizontal-gradient: linear-gradient(
      90deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --pill-accent: var(--bright-blue);

    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1[_ngcontent-%COMP%] {
    font-size: 3.125rem;
    color: var(--gray-900);
    font-weight: 500;
    line-height: 100%;
    letter-spacing: -0.125rem;
    margin: 0;
    font-family: "Inter Tight", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
  }

  p[_ngcontent-%COMP%] {
    margin: 0;
    color: var(--gray-700);
  }

  main[_ngcontent-%COMP%] {
    width: 100%;
    min-height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    box-sizing: inherit;
    position: relative;
  }

  .angular-logo[_ngcontent-%COMP%] {
    max-width: 9.2rem;
  }

  .content[_ngcontent-%COMP%] {
    display: flex;
    justify-content: space-around;
    width: 100%;
    max-width: 700px;
    margin-bottom: 3rem;
  }

  .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {
    margin-top: 1.75rem;
  }

  .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {
    margin-top: 1.5rem;
  }

  .divider[_ngcontent-%COMP%] {
    width: 1px;
    background: var(--red-to-pink-to-purple-vertical-gradient);
    margin-inline: 0.5rem;
  }

  .pill-group[_ngcontent-%COMP%] {
    display: flex;
    flex-direction: column;
    align-items: start;
    flex-wrap: wrap;
    gap: 1.25rem;
  }

  .pill[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    --pill-accent: var(--bright-blue);
    background: color-mix(in srgb, var(--pill-accent) 5%, transparent);
    color: var(--pill-accent);
    padding-inline: 0.75rem;
    padding-block: 0.375rem;
    border-radius: 2.75rem;
    border: 0;
    transition: background 0.3s ease;
    font-family: var(--inter-font);
    font-size: 0.875rem;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4rem;
    letter-spacing: -0.00875rem;
    text-decoration: none;
  }

  .pill[_ngcontent-%COMP%]:hover {
    background: color-mix(in srgb, var(--pill-accent) 15%, transparent);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 1) {
    --pill-accent: var(--bright-blue);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 2) {
    --pill-accent: var(--french-violet);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 5) {
    --pill-accent: var(--hot-red);
  }

  .pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {
    margin-inline-start: 0.25rem;
  }

  .social-links[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    gap: 0.73rem;
    margin-top: 1.5rem;
  }

  .social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    transition: fill 0.3s ease;
    fill: var(--gray-400);
  }

  .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    fill: var(--gray-900);
  }

  @media screen and (max-width: 650px) {
    .content[_ngcontent-%COMP%] {
      flex-direction: column;
      width: max-content;
    }

    .divider[_ngcontent-%COMP%] {
      height: 1px;
      width: 100%;
      background: var(--red-to-pink-to-purple-horizontal-gradient);
      margin-block: 1.5rem;
    }
  }`]})}}return t})();var lp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var N=function(t,e){if(!t)throw Nr(e)},Nr=function(t){return new Error("Firebase Database ("+lp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var VE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ux=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ru={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,w=(c&15)<<2|d>>6,S=d&63;u||(S=64,o||(w=64)),r.push(n[f],n[p],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ux(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||p==null)throw new dp;let w=s<<2|c>>4;if(r.push(w),d!==64){let S=c<<4&240|d>>2;if(r.push(S),p!==64){let A=d<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},dp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fp=function(t){let e=VE(t);return Ru.encodeByteArray(e,!0)},Mo=function(t){return fp(t).replace(/\./g,"")},ko=function(t){try{return Ru.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UE(t){return jE(void 0,t)}function jE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!jx(n)||(t[n]=jE(t[n],e[n]));return t}function jx(t){return t!=="__proto__"}function Bx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $x=()=>Bx().__FIREBASE_DEFAULTS__,Hx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ko(t[1]);return e&&JSON.parse(e)},pp=()=>{try{return $x()||Hx()||qx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gp=t=>{var e,n;return(n=(e=pp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nu=t=>{let e=gp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mp=()=>{var t;return(t=pp())===null||t===void 0?void 0:t.config},yp=t=>{var e;return(e=pp())===null||e===void 0?void 0:e[`_${t}`]};var Rr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Pu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mo(JSON.stringify(n)),Mo(JSON.stringify(o)),""].join(".")}function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Oo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function BE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $E(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HE(){let t=ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jt(){return lp.NODE_CLIENT===!0||lp.NODE_ADMIN===!0}function _p(){try{return typeof indexedDB=="object"}catch{return!1}}function qE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var zx="FirebaseError",pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zx,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}},vn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Wx(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new pt(i,c,r)}};function Wx(t,e){return t.replace(Gx,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Gx=/\{\$([^}]+)}/g;function Gi(t){return JSON.parse(t)}function Ne(t){return JSON.stringify(t)}var zE=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Gi(ko(s[0])||""),n=Gi(ko(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var WE=function(t){let e=zE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},GE=function(t){let e=zE(t).claims;return typeof e=="object"&&e.admin===!0};function Zt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function xr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(FE(s)&&FE(o)){if(!xr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function FE(t){return t!==null&&typeof t=="object"}function Mr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Au=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let w=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(w<<1|w>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4],d,f;for(let p=0;p<80;p++){p<40?p<20?(d=c^s&(o^c),f=1518500249):(d=s^o^c,f=1859775393):p<60?(d=s&o|c&(s|o),f=2400959708):(d=s^o^c,f=3395469782);let w=(i<<5|i>>>27)+d+u+f+r[p]&4294967295;u=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=w}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function KE(t,e){let n=new hp(t,e);return n.subscribe.bind(n)}var hp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=up),i.error===void 0&&(i.error=up),i.complete===void 0&&(i.complete=up);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Kx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function up(){}function QE(t,e){return`${t} failed: ${e} argument `}var YE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vo=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var o9=4*60*60*1e3;function Ot(t){return t&&t._delegate?t._delegate:t}var rt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var kr="[DEFAULT]";var Mu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Rr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yx(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Qx(t){return t===kr?void 0:t}function Yx(t){return t.instantiationMode==="EAGER"}var Uo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Mu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Jx=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),Zx={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Xx=ne.INFO,eM={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},tM=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=eM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xt=class{constructor(e){this.name=e,this._logLevel=Xx,this._logHandler=tM,this._userLogHandler=null,Jx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var nM=(t,e)=>e.some(n=>t instanceof n),JE,ZE;function rM(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iM(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XE=new WeakMap,wp=new WeakMap,eT=new WeakMap,vp=new WeakMap,Ep=new WeakMap;function sM(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(en(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XE.set(n,t)}).catch(()=>{}),Ep.set(e,t),e}function oM(t){if(wp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wp.set(t,e)}var Ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return en(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tT(t){Ip=t(Ip)}function aM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ku(this),e,...n);return eT.set(r,e.sort?e.sort():[e]),en(r)}:iM().includes(t)?function(...e){return t.apply(ku(this),e),en(XE.get(this))}:function(...e){return en(t.apply(ku(this),e))}}function cM(t){return typeof t=="function"?aM(t):(t instanceof IDBTransaction&&oM(t),nM(t,rM())?new Proxy(t,Ip):t)}function en(t){if(t instanceof IDBRequest)return sM(t);if(vp.has(t))return vp.get(t);let e=cM(t);return e!==t&&(vp.set(t,e),Ep.set(e,t)),e}var ku=t=>Ep.get(t);function rT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=en(o);return r&&o.addEventListener("upgradeneeded",u=>{r(en(o.result),u.oldVersion,u.newVersion,en(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var uM=["get","getKey","getAll","getAllKeys","count"],lM=["put","add","delete","clear"],Tp=new Map;function nT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=lM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uM.includes(n)))return;let s=function(o,...c){return b(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return Tp.set(e,s),s}tT(t=>ve(M({},t),{get:(e,n,r)=>nT(e,n)||t.get(e,n,r),has:(e,n)=>!!nT(e,n)||t.has(e,n)}));var Dp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dM(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function dM(t){let e=t.getComponent();return e?.type==="VERSION"}var bp="@firebase/app",iT="0.10.13";var wn=new Xt("@firebase/app"),hM="@firebase/app-compat",fM="@firebase/analytics-compat",pM="@firebase/analytics",gM="@firebase/app-check-compat",mM="@firebase/app-check",yM="@firebase/auth",_M="@firebase/auth-compat",vM="@firebase/database",wM="@firebase/data-connect",IM="@firebase/database-compat",EM="@firebase/functions",TM="@firebase/functions-compat",CM="@firebase/installations",DM="@firebase/installations-compat",bM="@firebase/messaging",SM="@firebase/messaging-compat",AM="@firebase/performance",RM="@firebase/performance-compat",NM="@firebase/remote-config",PM="@firebase/remote-config-compat",xM="@firebase/storage",MM="@firebase/storage-compat",kM="@firebase/firestore",OM="@firebase/vertexai-preview",LM="@firebase/firestore-compat",FM="firebase",VM="10.14.1";var Sp="[DEFAULT]",UM={[bp]:"fire-core",[hM]:"fire-core-compat",[pM]:"fire-analytics",[fM]:"fire-analytics-compat",[mM]:"fire-app-check",[gM]:"fire-app-check-compat",[yM]:"fire-auth",[_M]:"fire-auth-compat",[vM]:"fire-rtdb",[wM]:"fire-data-connect",[IM]:"fire-rtdb-compat",[EM]:"fire-fn",[TM]:"fire-fn-compat",[CM]:"fire-iid",[DM]:"fire-iid-compat",[bM]:"fire-fcm",[SM]:"fire-fcm-compat",[AM]:"fire-perf",[RM]:"fire-perf-compat",[NM]:"fire-rc",[PM]:"fire-rc-compat",[xM]:"fire-gcs",[MM]:"fire-gcs-compat",[kM]:"fire-fst",[LM]:"fire-fst-compat",[OM]:"fire-vertex","fire-js":"fire-js",[FM]:"fire-js-all"};var jo=new Map,jM=new Map,Ap=new Map;function sT(t,e){try{t.container.addComponent(e)}catch(n){wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tn(t){let e=t.name;if(Ap.has(e))return wn.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,t);for(let n of jo.values())sT(n,t);for(let n of jM.values())sT(n,t);return!0}function Or(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t.settings!==void 0}var BM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new vn("app","Firebase",BM);var Rp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}};var nn=VM;function xp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Sp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=mp()),!n)throw Jn.create("no-options");let s=jo.get(i);if(s){if(xr(n,s.options)&&xr(r,s.config))return s;throw Jn.create("duplicate-app",{appName:i})}let o=new Uo(i);for(let u of Ap.values())o.addComponent(u);let c=new Rp(n,r,o);return jo.set(i,c),c}function Zn(t=Sp){let e=jo.get(t);if(!e&&t===Sp&&mp())return xp();if(!e)throw Jn.create("no-app",{appName:t});return e}function Ou(){return Array.from(jo.values())}function pe(t,e,n){var r;let i=(r=UM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wn.warn(c.join(" "));return}tn(new rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var $M="firebase-heartbeat-database",HM=1,Bo="firebase-heartbeat-store",Cp=null;function uT(){return Cp||(Cp=rT($M,HM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jn.create("idb-open",{originalErrorMessage:t.message})})),Cp}function qM(t){return b(this,null,function*(){try{let n=(yield uT()).transaction(Bo),r=yield n.objectStore(Bo).get(lT(t));return yield n.done,r}catch(e){if(e instanceof pt)wn.warn(e.message);else{let n=Jn.create("idb-get",{originalErrorMessage:e?.message});wn.warn(n.message)}}})}function oT(t,e){return b(this,null,function*(){try{let r=(yield uT()).transaction(Bo,"readwrite");yield r.objectStore(Bo).put(e,lT(t)),yield r.done}catch(n){if(n instanceof pt)wn.warn(n.message);else{let r=Jn.create("idb-set",{originalErrorMessage:n?.message});wn.warn(r.message)}}})}function lT(t){return`${t.name}!${t.options.appId}`}var zM=1024,WM=30*24*60*60*1e3,Np=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Pp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=WM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wn.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=aT(),{heartbeatsToSend:r,unsentEntries:i}=GM(this._heartbeatsCache.heartbeats),s=Mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wn.warn(n),""}})}};function aT(){return new Date().toISOString().substring(0,10)}function GM(t,e=zM){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Pp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return _p()?qE().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield qM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cT(t){return Mo(JSON.stringify({version:2,heartbeats:t})).length}function KM(t){tn(new rt("platform-logger",e=>new Dp(e),"PRIVATE")),tn(new rt("heartbeat",e=>new Np(e),"PRIVATE")),pe(bp,iT,t),pe(bp,iT,"esm2017"),pe("fire-js","")}KM("");var QM="firebase",YM="10.14.1";pe(QM,YM,"app");var En=new zn("ANGULARFIRE2_VERSION");function Qi(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Fr=(t,e)=>{let n=e?[e]:Ou(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Xn=class{constructor(){return Fr(JM)}},JM="app-check";function Ki(){}var Lu=class{zone;delegate;constructor(e,n=fd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Mp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ki,{},Ki,Ki)),n.pipe(De({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},er=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Lu(Zone.current)),this.insideAngular=n.run(()=>new Lu(Zone.current,hd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(V(G))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Fu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ZM(t){return Fu().ngZone.runOutsideAngular(()=>t())}function Lr(t){return Fu().ngZone.run(()=>t())}function XM(t){return ek(Fu())(t)}function ek(t){return function(n){return n=n.lift(new Mp(t.ngZone)),n.pipe(Ln(t.outsideAngular),On(t.insideAngular))}}var tk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Lr(()=>t.apply(void 0,r))},tr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Lr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ki,{},Ki,Ki))),r[s]=tk(r[s],n));let i=ZM(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=Fu();return i.pipe(Ln(s.outsideAngular),On(s.insideAngular))}else return Lr(()=>i);return i instanceof ie?i.pipe(XM):i instanceof Promise?Lr(()=>new Promise((s,o)=>i.then(c=>Lr(()=>s(c)),c=>Lr(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Lr(()=>i)};var Lt=class{constructor(e){return e}},Tn=class{constructor(){return Ou()}};function nk(t){return t&&t.length===1?t[0]:new Lt(Zn())}var kp=new O("angularfire2._apps"),rk={provide:Lt,useFactory:nk,deps:[[new Ce,kp]]},ik={provide:Tn,deps:[[new Ce,kp]]};function sk(t){return(e,n)=>{let r=n.get(Kt);pe("angularfire",En.full,"core"),pe("angularfire",En.full,"app"),pe("angular",pI.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Lt(i)}}function dT(t,...e){return Wt([rk,ik,{provide:kp,useFactory:sk(t),multi:!0,deps:[G,Ae,er,...e]}])}var hT=tr(xp,!0);function ST(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var AT=ST,RT=new vn("auth","Firebase",ST());var Hu=new Xt("@firebase/auth");function ok(t,...e){Hu.logLevel<=ne.WARN&&Hu.warn(`Auth (${nn}): ${t}`,...e)}function Uu(t,...e){Hu.logLevel<=ne.ERROR&&Hu.error(`Auth (${nn}): ${t}`,...e)}function rr(t,...e){throw eg(t,...e)}function Ur(t,...e){return eg(t,...e)}function NT(t,e,n){let r=Object.assign(Object.assign({},AT()),{[e]:n});return new vn("auth","Firebase",r).create(e,{appName:t.name})}function Vr(t){return NT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RT.create(t,...e)}function B(t,e,...n){if(!t)throw eg(e,...n)}function Cn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Uu(e),new Error(e)}function ir(t,e){t||Cn(e)}function Vp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ak(){return fT()==="http:"||fT()==="https:"}function fT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ak()||$E()||"connection"in navigator)?navigator.onLine:!0}function uk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var jr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=Oo()||xu()}get(){return ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function tg(t,e){ir(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var qu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dk=new jr(3e4,6e4);function ng(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ji(s,o,c,u){return b(this,arguments,function*(t,e,n,r,i={}){return PT(t,i,()=>b(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let p=Mr(Object.assign({key:t.config.apiKey},f)).slice(1),w=yield t._getAdditionalHeaders();w["Content-Type"]="application/json",t.languageCode&&(w["X-Firebase-Locale"]=t.languageCode);let S=Object.assign({method:e,headers:w},d);return BE()||(S.referrerPolicy="no-referrer"),qu.fetch()(xT(t,t.config.apiHost,n,p),S)}))})}function PT(t,e,n){return b(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},lk),e);try{let i=new Up(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Vu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Vu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Vu(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw NT(t,f,d);rr(t,f)}}catch(i){if(i instanceof pt)throw i;rr(t,"network-request-failed",{message:String(i)})}})}function hk(s,o,c,u){return b(this,arguments,function*(t,e,n,r,i={}){let d=yield Ji(t,e,n,r,i);return"mfaPendingCredential"in d&&rr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function xT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?tg(t.config,i):`${t.config.apiScheme}://${i}`}var Up=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),dk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Vu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ur(t,e,r);return i.customData._tokenResponse=n,i}function fk(t,e){return b(this,null,function*(){return Ji(t,"POST","/v1/accounts:delete",e)})}function MT(t,e){return b(this,null,function*(){return Ji(t,"POST","/v1/accounts:lookup",e)})}function $o(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rg(t,e=!1){return b(this,null,function*(){let n=Ot(t),r=yield n.getIdToken(e),i=ig(r);B(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:$o(Op(i.auth_time)),issuedAtTime:$o(Op(i.iat)),expirationTime:$o(Op(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Op(t){return Number(t)*1e3}function ig(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{let i=ko(n);return i?JSON.parse(i):(Uu("Failed to decode base64 JWT payload"),null)}catch(i){return Uu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pT(t){let e=ig(t);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qo(t,e,n=!1){return b(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof pt&&pk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function pk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var jp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),n)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zu(t){return b(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield qo(t,MT(n,{idToken:r}));B(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kT(s.providerUserInfo):[],c=gk(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!c?.length,f=u?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new zo(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function sg(t){return b(this,null,function*(){let e=Ot(t);yield zu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function gk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kT(t){return t.map(e=>{var{providerId:n}=e,r=pd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mk(t,e){return b(this,null,function*(){let n=yield PT(t,{},()=>b(this,null,function*(){let r=Mr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=xT(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",qu.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function yk(t,e){return b(this,null,function*(){return Ji(t,"POST","/v2/accounts:revokeToken",ng(t,e))})}var Ho=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){B(e.length!==0,"internal-error");let n=pT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return b(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(B(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield mk(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(B(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(B(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(B(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Cn("not implemented")}};function nr(t,e){B(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Yi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let n=yield qo(this,this.stsTokenManager.getToken(this.auth,e));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return rg(this,e)}reload(){return sg(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield zu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(In(this.auth.app))return Promise.reject(Vr(this.auth));let e=yield this.getIdToken();return yield qo(this,fk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,q=(d=n.createdAt)!==null&&d!==void 0?d:void 0,ye=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:ae,emailVerified:Fe,isAnonymous:mt,providerData:ge,stsTokenManager:I}=n;B(ae&&I,e,"internal-error");let m=Ho.fromJSON(this.name,I);B(typeof ae=="string",e,"internal-error"),nr(p,e.name),nr(w,e.name),B(typeof Fe=="boolean",e,"internal-error"),B(typeof mt=="boolean",e,"internal-error"),nr(S,e.name),nr(A,e.name),nr(x,e.name),nr(k,e.name),nr(q,e.name),nr(ye,e.name);let _=new t({uid:ae,auth:e,email:w,emailVerified:Fe,displayName:p,isAnonymous:mt,photoURL:A,phoneNumber:S,tenantId:x,stsTokenManager:m,createdAt:q,lastLoginAt:ye});return ge&&Array.isArray(ge)&&(_.providerData=ge.map(v=>Object.assign({},v))),k&&(_._redirectEventId=k),_}static _fromIdTokenResponse(e,n,r=!1){return b(this,null,function*(){let i=new Ho;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return b(this,null,function*(){let i=n.users[0];B(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?kT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ho;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var gT=new Map;function Dn(t){ir(t instanceof Function,"Expected a class definition");let e=gT.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gT.set(t,e),e)}var _k=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(n,r){return b(this,null,function*(){this.storage[n]=r})}_get(n){return b(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return b(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Bp=_k;function ju(t,e,n){return`firebase:${t}:${e}:${n}`}var Wu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ju(this.userKey,i.apiKey,s),this.fullPersistenceKey=ju("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return b(this,null,function*(){if(!n.length)return new t(Dn(Bp),e,r);let i=(yield Promise.all(n.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Dn(Bp),o=ju(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(o);if(f){let p=Yi._fromJSON(e,f);d!==s&&(c=p),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(d=>b(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function mT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jT(e))return"Blackberry";if(BT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||FT(e))&&!e.includes("edge/"))return"Chrome";if(UT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function OT(t=ke()){return/firefox\//i.test(t)}function LT(t=ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FT(t=ke()){return/crios\//i.test(t)}function VT(t=ke()){return/iemobile/i.test(t)}function UT(t=ke()){return/android/i.test(t)}function jT(t=ke()){return/blackberry/i.test(t)}function BT(t=ke()){return/webos/i.test(t)}function og(t=ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vk(t=ke()){var e;return og(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wk(){return HE()&&document.documentMode===10}function $T(t=ke()){return og(t)||UT(t)||BT(t)||jT(t)||/windows phone/i.test(t)||VT(t)}function HT(t,e=[]){let n;switch(t){case"Browser":n=mT(ke());break;case"Worker":n=`${mT(ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nn}/${r}`}var $p=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Ik(n){return b(this,arguments,function*(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",ng(t,e))})}var Ek=6,Hp=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ek,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var qp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gu(this),this.idTokenSubscription=new Gu(this),this.beforeStateQueue=new $p(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Wu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let n=yield MT(this,{idToken:e}),r=yield Yi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var n;if(In(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield zu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uk()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(In(this.app))return Promise.reject(Vr(this));let n=e?Ot(e):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return b(this,null,function*(){if(!this._deleted)return e&&B(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return In(this.app)?Promise.reject(Vr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return In(this.app)?Promise.reject(Vr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(Dn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield Ik(this),n=new Hp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield yk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Dn(e)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=yield Wu.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return b(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&ok(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ag(t){return Ot(t)}var Gu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=KE(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cg={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tk(t){cg=t}function Ck(t){return cg.loadJS(t)}function Dk(){return cg.gapiScript}function qT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ug(t,e){let n=Or(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(xr(s,e??{}))return i;rr(i,"already-initialized")}return n.initialize({options:e})}function bk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Dn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function lg(t,e,n){let r=ag(t);B(r._canInitEmulator,r,"emulator-config-failed"),B(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=zT(e),{host:o,port:c}=Sk(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Ak()}function zT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sk(t){let e=zT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:yT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:yT(o)}}}function yT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Ak(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ku=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cn("not implemented")}_getIdTokenResponse(e){return Cn("not implemented")}_linkToIdToken(e,n){return Cn("not implemented")}_getReauthenticationResolver(e){return Cn("not implemented")}};function Lp(t,e){return b(this,null,function*(){return hk(t,"POST","/v1/accounts:signInWithIdp",ng(t,e))})}var Qu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zp=class extends Qu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Wo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return b(this,null,function*(){let s=yield Yi._fromIdTokenResponse(e,r,i),o=_T(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=_T(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function _T(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Wp=class t extends pt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function WT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wp._fromErrorAndOperation(t,s,e,r):s})}function Rk(t,e,n=!1){return b(this,null,function*(){let r=yield qo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Wo._forOperation(t,"link",r)})}function Nk(t,e,n=!1){return b(this,null,function*(){let{auth:r}=t;if(In(r.app))return Promise.reject(Vr(r));let i="reauthenticate";try{let s=yield qo(t,WT(r,i,e,t),n);B(s.idToken,r,"internal-error");let o=ig(s.idToken);B(o,r,"internal-error");let{sub:c}=o;return B(t.uid===c,r,"user-mismatch"),Wo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&rr(r,"user-mismatch"),s}})}function Pk(t,e,n=!1){return b(this,null,function*(){if(In(t.app))return Promise.reject(Vr(t));let r="signIn",i=yield WT(t,r,e),s=yield Wo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function dg(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function hg(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}var Yu="__sak";var Ju=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yu,"1"),this.storage.removeItem(Yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var xk=1e3,Mk=10,kk=(()=>{class t extends Ju{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);wk()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Mk):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return b(this,null,function*(){yield Mn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return b(this,null,function*(){let r=yield Mn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return b(this,null,function*(){yield Mn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),GT=kk;var Ok=(()=>{class t extends Ju{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),fg=Ok;function Lk(t){return Promise.all(t.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Fk=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return b(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>b(this,null,function*(){return f(r.origin,o)})),d=yield Lk(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function KT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Gp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let d=KT("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let w=p;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(w.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function rn(){return window}function Vk(t){rn().location.href=t}function QT(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}function Uk(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function jk(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Bk(){return QT()?self:null}var YT="firebaseLocalStorageDb",$k=1,Zu="firebaseLocalStorage",JT="fbase_key",Br=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function el(t,e){return t.transaction([Zu],e?"readwrite":"readonly").objectStore(Zu)}function Hk(){let t=indexedDB.deleteDatabase(YT);return new Br(t).toPromise()}function Kp(){let t=indexedDB.open(YT,$k);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Zu,{keyPath:JT})}catch(i){n(i)}}),t.addEventListener("success",()=>b(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Zu)?e(r):(r.close(),yield Hk(),e(yield Kp()))}))})}function vT(t,e,n){return b(this,null,function*(){let r=el(t,!0).put({[JT]:e,value:n});return new Br(r).toPromise()})}function qk(t,e){return b(this,null,function*(){let n=el(t,!1).get(e),r=yield new Br(n).toPromise();return r===void 0?null:r.value})}function wT(t,e){let n=el(t,!0).delete(e);return new Br(n).toPromise()}var zk=800,Wk=3,Gk=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield Kp(),this.db)})}_withRetries(n){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Wk)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return QT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=Fk._getInstance(Bk()),this.receiver._subscribe("keyChanged",(n,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Uk(),!this.activeServiceWorker)return;this.sender=new Gp(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||jk()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Kp();return yield vT(n,Yu,"1"),yield wT(n,Yu),!0}catch{}return!1})}_withPendingWrite(n){return b(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>vT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return b(this,null,function*(){let r=yield this._withRetries(i=>qk(i,n));return this.localCache[n]=r,r})}_remove(n){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>wT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return b(this,null,function*(){let n=yield this._withRetries(s=>{let o=el(s,!1).getAll();return new Br(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ZT=Gk;var t6=qT("rcb"),n6=new jr(3e4,6e4);function Kk(t,e){return e?Dn(e):(B(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Go=class extends Ku{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lp(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Qk(t){return Pk(t.auth,new Go(t),t.bypassAuthState)}function Yk(t){let{auth:e,user:n}=t;return B(n,e,"internal-error"),Nk(n,new Go(t),t.bypassAuthState)}function Jk(t){return b(this,null,function*(){let{auth:e,user:n}=t;return B(n,e,"internal-error"),Rk(n,new Go(t),t.bypassAuthState)})}var Qp=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qk;case"linkViaPopup":case"linkViaRedirect":return Jk;case"reauthViaPopup":case"reauthViaRedirect":return Yk;default:rr(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var r6=new jr(2e3,1e4);var Zk="pendingRedirect",Bu=new Map,Yp=class t extends Qp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=Bu.get(this.auth._key());if(!e){try{let r=(yield Xk(this.resolver,this.auth))?yield Mn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Mn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Mn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function Xk(t,e){return b(this,null,function*(){let n=nO(e),r=tO(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function eO(t,e){Bu.set(t._key(),e)}function tO(t){return Dn(t._redirectPersistence)}function nO(t){return ju(Zk,t.config.apiKey,t.name)}function rO(t,e,n=!1){return b(this,null,function*(){if(In(t.app))return Promise.reject(Vr(t));let r=ag(t),i=Kk(r,e),o=yield new Yp(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var iO=10*60*1e3,Jp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iO&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}};function IT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(t);default:return!1}}function oO(n){return b(this,arguments,function*(t,e={}){return Ji(t,"GET","/v1/projects",e)})}var aO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cO=/^https?/;function uO(t){return b(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield oO(t);for(let n of e)try{if(lO(n))return}catch{}rr(t,"unauthorized-domain")})}function lO(t){let e=Vp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cO.test(n))return!1;if(aO.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var dO=new jr(3e4,6e4);function ET(){let t=rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hO(t){return new Promise((e,n)=>{var r,i,s;function o(){ET(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ET(),n(Ur(t,"network-request-failed"))},timeout:dO.get()})}if(!((i=(r=rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=rn().gapi)===null||s===void 0)&&s.load)o();else{let c=qT("iframefcb");return rn()[c]=()=>{gapi.load?o():n(Ur(t,"network-request-failed"))},Ck(`${Dk()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw $u=null,e})}var $u=null;function fO(t){return $u=$u||hO(t),$u}var pO=new jr(5e3,15e3),gO="__/auth/iframe",mO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vO(t){let e=t.config;B(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?tg(e,mO):`https://${t.config.authDomain}/${gO}`,r={apiKey:e.apiKey,appName:t.name,v:nn},i=_O.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mr(r).slice(1)}`}function wO(t){return b(this,null,function*(){let e=yield fO(t),n=rn().gapi;return B(n,t,"internal-error"),e.open({where:document.body,url:vO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},r=>new Promise((i,s)=>b(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ur(t,"network-request-failed"),c=rn().setTimeout(()=>{s(o)},pO.get());function u(){rn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var IO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EO=500,TO=600,CO="_blank",DO="http://localhost",Xu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function bO(t,e,n,r=EO,i=TO){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},IO),{width:r.toString(),height:i.toString(),top:s,left:o}),d=ke().toLowerCase();n&&(c=FT(d)?CO:n),OT(d)&&(e=e||DO,u.scrollbars="yes");let f=Object.entries(u).reduce((w,[S,A])=>`${w}${S}=${A},`,"");if(vk(d)&&c!=="_self")return SO(e||"",c),new Xu(null);let p=window.open(e||"",c,f);B(p,t,"popup-blocked");try{p.focus()}catch{}return new Xu(p)}function SO(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var AO="__/auth/handler",RO="emulator/auth/handler",NO=encodeURIComponent("fac");function TT(t,e,n,r,i,s){return b(this,null,function*(){B(t.config.authDomain,t,"auth-domain-config-required"),B(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nn,eventId:i};if(e instanceof Qu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Lo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof zp){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),d=u?`#${NO}=${encodeURIComponent(u)}`:"";return`${PO(t)}?${Mr(c).slice(1)}${d}`})}function PO({config:t}){return t.emulator?tg(t,RO):`https://${t.authDomain}/${AO}`}var Fp="webStorageSupport",Zp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fg,this._completeRedirectFn=rO,this._overrideRedirectResult=eO}_openPopup(e,n,r,i){return b(this,null,function*(){var s;ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield TT(e,n,r,Vp(),i);return bO(e,o,KT())})}_openRedirect(e,n,r,i){return b(this,null,function*(){yield this._originValidation(e);let s=yield TT(e,n,r,Vp(),i);return Vk(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ir(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return b(this,null,function*(){let n=yield wO(e),r=new Jp(e);return n.register("authEvent",i=>(B(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fp,{type:Fp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Fp];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $T()||LT()||og()}},eC=Zp;var CT="@firebase/auth",DT="1.7.9";var Xp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MO(t){tn(new rt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(t)},d=new qp(r,i,s,u);return bk(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tn(new rt("auth-internal",e=>{let n=ag(e.getProvider("auth").getImmediate());return(r=>new Xp(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pe(CT,DT,xO(t)),pe(CT,DT,"esm2017")}var kO=5*60,OO=yp("authIdTokenMaxAge")||kO,bT=null,LO=t=>e=>b(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OO)return;let i=n?.token;bT!==i&&(bT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function pg(t=Zn()){let e=Or(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ug(t,{popupRedirectResolver:eC,persistence:[ZT,GT,fg]}),r=yp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=LO(s.toString());hg(n,o,()=>o(n.currentUser)),dg(n,c=>o(c))}}let i=gp("auth");return i&&lg(n,`http://${i}`),n}function FO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Tk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ur("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",FO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MO("Browser");var tC="auth",Ko=class{constructor(e){return e}},$r=class{constructor(){return Fr(tC)}};var gg=new O("angularfire2.auth-instances");function PL(t,e){let n=Qi(tC,t,e);return n&&new Ko(n)}function xL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ko(r)}}var ML={provide:$r,deps:[[new Ce,gg]]},kL={provide:Ko,useFactory:PL,deps:[[new Ce,gg],Lt]};function nC(t,...e){return pe("angularfire",En.full,"auth"),Wt([kL,ML,{provide:gg,useFactory:xL(t),multi:!0,deps:[G,Ae,er,Tn,[new Ce,Xn],...e]}])}var rC=tr(pg,!0);var iC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sC={};var mg,oC;(function(){var t;function e(I,m){function _(){}_.prototype=m.prototype,I.D=m.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(v,E,C){for(var y=Array(arguments.length-2),an=2;an<arguments.length;an++)y[an-2]=arguments[an];return m.prototype[E].apply(v,y)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,m,_){_||(_=0);var v=Array(16);if(typeof m=="string")for(var E=0;16>E;++E)v[E]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(E=0;16>E;++E)v[E]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=I.g[0],_=I.g[1],E=I.g[2];var C=I.g[3],y=m+(C^_&(E^C))+v[0]+3614090360&4294967295;m=_+(y<<7&4294967295|y>>>25),y=C+(E^m&(_^E))+v[1]+3905402710&4294967295,C=m+(y<<12&4294967295|y>>>20),y=E+(_^C&(m^_))+v[2]+606105819&4294967295,E=C+(y<<17&4294967295|y>>>15),y=_+(m^E&(C^m))+v[3]+3250441966&4294967295,_=E+(y<<22&4294967295|y>>>10),y=m+(C^_&(E^C))+v[4]+4118548399&4294967295,m=_+(y<<7&4294967295|y>>>25),y=C+(E^m&(_^E))+v[5]+1200080426&4294967295,C=m+(y<<12&4294967295|y>>>20),y=E+(_^C&(m^_))+v[6]+2821735955&4294967295,E=C+(y<<17&4294967295|y>>>15),y=_+(m^E&(C^m))+v[7]+4249261313&4294967295,_=E+(y<<22&4294967295|y>>>10),y=m+(C^_&(E^C))+v[8]+1770035416&4294967295,m=_+(y<<7&4294967295|y>>>25),y=C+(E^m&(_^E))+v[9]+2336552879&4294967295,C=m+(y<<12&4294967295|y>>>20),y=E+(_^C&(m^_))+v[10]+4294925233&4294967295,E=C+(y<<17&4294967295|y>>>15),y=_+(m^E&(C^m))+v[11]+2304563134&4294967295,_=E+(y<<22&4294967295|y>>>10),y=m+(C^_&(E^C))+v[12]+1804603682&4294967295,m=_+(y<<7&4294967295|y>>>25),y=C+(E^m&(_^E))+v[13]+4254626195&4294967295,C=m+(y<<12&4294967295|y>>>20),y=E+(_^C&(m^_))+v[14]+2792965006&4294967295,E=C+(y<<17&4294967295|y>>>15),y=_+(m^E&(C^m))+v[15]+1236535329&4294967295,_=E+(y<<22&4294967295|y>>>10),y=m+(E^C&(_^E))+v[1]+4129170786&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^E&(m^_))+v[6]+3225465664&4294967295,C=m+(y<<9&4294967295|y>>>23),y=E+(m^_&(C^m))+v[11]+643717713&4294967295,E=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(E^C))+v[0]+3921069994&4294967295,_=E+(y<<20&4294967295|y>>>12),y=m+(E^C&(_^E))+v[5]+3593408605&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^E&(m^_))+v[10]+38016083&4294967295,C=m+(y<<9&4294967295|y>>>23),y=E+(m^_&(C^m))+v[15]+3634488961&4294967295,E=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(E^C))+v[4]+3889429448&4294967295,_=E+(y<<20&4294967295|y>>>12),y=m+(E^C&(_^E))+v[9]+568446438&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^E&(m^_))+v[14]+3275163606&4294967295,C=m+(y<<9&4294967295|y>>>23),y=E+(m^_&(C^m))+v[3]+4107603335&4294967295,E=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(E^C))+v[8]+1163531501&4294967295,_=E+(y<<20&4294967295|y>>>12),y=m+(E^C&(_^E))+v[13]+2850285829&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^E&(m^_))+v[2]+4243563512&4294967295,C=m+(y<<9&4294967295|y>>>23),y=E+(m^_&(C^m))+v[7]+1735328473&4294967295,E=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(E^C))+v[12]+2368359562&4294967295,_=E+(y<<20&4294967295|y>>>12),y=m+(_^E^C)+v[5]+4294588738&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^E)+v[8]+2272392833&4294967295,C=m+(y<<11&4294967295|y>>>21),y=E+(C^m^_)+v[11]+1839030562&4294967295,E=C+(y<<16&4294967295|y>>>16),y=_+(E^C^m)+v[14]+4259657740&4294967295,_=E+(y<<23&4294967295|y>>>9),y=m+(_^E^C)+v[1]+2763975236&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^E)+v[4]+1272893353&4294967295,C=m+(y<<11&4294967295|y>>>21),y=E+(C^m^_)+v[7]+4139469664&4294967295,E=C+(y<<16&4294967295|y>>>16),y=_+(E^C^m)+v[10]+3200236656&4294967295,_=E+(y<<23&4294967295|y>>>9),y=m+(_^E^C)+v[13]+681279174&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^E)+v[0]+3936430074&4294967295,C=m+(y<<11&4294967295|y>>>21),y=E+(C^m^_)+v[3]+3572445317&4294967295,E=C+(y<<16&4294967295|y>>>16),y=_+(E^C^m)+v[6]+76029189&4294967295,_=E+(y<<23&4294967295|y>>>9),y=m+(_^E^C)+v[9]+3654602809&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^E)+v[12]+3873151461&4294967295,C=m+(y<<11&4294967295|y>>>21),y=E+(C^m^_)+v[15]+530742520&4294967295,E=C+(y<<16&4294967295|y>>>16),y=_+(E^C^m)+v[2]+3299628645&4294967295,_=E+(y<<23&4294967295|y>>>9),y=m+(E^(_|~C))+v[0]+4096336452&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~E))+v[7]+1126891415&4294967295,C=m+(y<<10&4294967295|y>>>22),y=E+(m^(C|~_))+v[14]+2878612391&4294967295,E=C+(y<<15&4294967295|y>>>17),y=_+(C^(E|~m))+v[5]+4237533241&4294967295,_=E+(y<<21&4294967295|y>>>11),y=m+(E^(_|~C))+v[12]+1700485571&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~E))+v[3]+2399980690&4294967295,C=m+(y<<10&4294967295|y>>>22),y=E+(m^(C|~_))+v[10]+4293915773&4294967295,E=C+(y<<15&4294967295|y>>>17),y=_+(C^(E|~m))+v[1]+2240044497&4294967295,_=E+(y<<21&4294967295|y>>>11),y=m+(E^(_|~C))+v[8]+1873313359&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~E))+v[15]+4264355552&4294967295,C=m+(y<<10&4294967295|y>>>22),y=E+(m^(C|~_))+v[6]+2734768916&4294967295,E=C+(y<<15&4294967295|y>>>17),y=_+(C^(E|~m))+v[13]+1309151649&4294967295,_=E+(y<<21&4294967295|y>>>11),y=m+(E^(_|~C))+v[4]+4149444226&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~E))+v[11]+3174756917&4294967295,C=m+(y<<10&4294967295|y>>>22),y=E+(m^(C|~_))+v[2]+718787259&4294967295,E=C+(y<<15&4294967295|y>>>17),y=_+(C^(E|~m))+v[9]+3951481745&4294967295,I.g[0]=I.g[0]+m&4294967295,I.g[1]=I.g[1]+(E+(y<<21&4294967295|y>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,m){m===void 0&&(m=I.length);for(var _=m-this.blockSize,v=this.B,E=this.h,C=0;C<m;){if(E==0)for(;C<=_;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<m;)if(v[E++]=I.charCodeAt(C++),E==this.blockSize){i(this,v),E=0;break}}else for(;C<m;)if(v[E++]=I[C++],E==this.blockSize){i(this,v),E=0;break}}this.h=E,this.o+=m},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var m=1;m<I.length-8;++m)I[m]=0;var _=8*this.o;for(m=I.length-8;m<I.length;++m)I[m]=_&255,_/=256;for(this.u(I),I=Array(16),m=_=0;4>m;++m)for(var v=0;32>v;v+=8)I[_++]=this.g[m]>>>v&255;return I};function s(I,m){var _=c;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=m(I)}function o(I,m){this.h=m;for(var _=[],v=!0,E=I.length-1;0<=E;E--){var C=I[E]|0;v&&C==m||(_[E]=C,v=!1)}this.g=_}var c={};function u(I){return-128<=I&&128>I?s(I,function(m){return new o([m|0],0>m?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return k(d(-I));for(var m=[],_=1,v=0;I>=_;v++)m[v]=I/_|0,_*=4294967296;return new o(m,0)}function f(I,m){if(I.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(I.charAt(0)=="-")return k(f(I.substring(1),m));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=d(Math.pow(m,8)),v=p,E=0;E<I.length;E+=8){var C=Math.min(8,I.length-E),y=parseInt(I.substring(E,E+C),m);8>C?(C=d(Math.pow(m,C)),v=v.j(C).add(d(y))):(v=v.j(_),v=v.add(d(y)))}return v}var p=u(0),w=u(1),S=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-k(this).m();for(var I=0,m=1,_=0;_<this.g.length;_++){var v=this.i(_);I+=(0<=v?v:4294967296+v)*m,m*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(x(this))return"-"+k(this).toString(I);for(var m=d(Math.pow(I,6)),_=this,v="";;){var E=Fe(_,m).g;_=q(_,E.j(m));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=E,A(_))return C+v;for(;6>C.length;)C="0"+C;v=C+v}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var m=0;m<I.g.length;m++)if(I.g[m]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=q(this,I),x(I)?-1:A(I)?0:1};function k(I){for(var m=I.g.length,_=[],v=0;v<m;v++)_[v]=~I.g[v];return new o(_,~I.h).add(w)}t.abs=function(){return x(this)?k(this):this},t.add=function(I){for(var m=Math.max(this.g.length,I.g.length),_=[],v=0,E=0;E<=m;E++){var C=v+(this.i(E)&65535)+(I.i(E)&65535),y=(C>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);v=y>>>16,C&=65535,y&=65535,_[E]=y<<16|C}return new o(_,_[_.length-1]&-2147483648?-1:0)};function q(I,m){return I.add(k(m))}t.j=function(I){if(A(this)||A(I))return p;if(x(this))return x(I)?k(this).j(k(I)):k(k(this).j(I));if(x(I))return k(this.j(k(I)));if(0>this.l(S)&&0>I.l(S))return d(this.m()*I.m());for(var m=this.g.length+I.g.length,_=[],v=0;v<2*m;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var E=0;E<I.g.length;E++){var C=this.i(v)>>>16,y=this.i(v)&65535,an=I.i(E)>>>16,ms=I.i(E)&65535;_[2*v+2*E]+=y*ms,ye(_,2*v+2*E),_[2*v+2*E+1]+=C*ms,ye(_,2*v+2*E+1),_[2*v+2*E+1]+=y*an,ye(_,2*v+2*E+1),_[2*v+2*E+2]+=C*an,ye(_,2*v+2*E+2)}for(v=0;v<m;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=m;v<2*m;v++)_[v]=0;return new o(_,0)};function ye(I,m){for(;(I[m]&65535)!=I[m];)I[m+1]+=I[m]>>>16,I[m]&=65535,m++}function ae(I,m){this.g=I,this.h=m}function Fe(I,m){if(A(m))throw Error("division by zero");if(A(I))return new ae(p,p);if(x(I))return m=Fe(k(I),m),new ae(k(m.g),k(m.h));if(x(m))return m=Fe(I,k(m)),new ae(k(m.g),m.h);if(30<I.g.length){if(x(I)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var _=w,v=m;0>=v.l(I);)_=mt(_),v=mt(v);var E=ge(_,1),C=ge(v,1);for(v=ge(v,2),_=ge(_,2);!A(v);){var y=C.add(v);0>=y.l(I)&&(E=E.add(_),C=y),v=ge(v,1),_=ge(_,1)}return m=q(I,E.j(m)),new ae(E,m)}for(E=p;0<=I.l(m);){for(_=Math.max(1,Math.floor(I.m()/m.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),C=d(_),y=C.j(m);x(y)||0<y.l(I);)_-=v,C=d(_),y=C.j(m);A(C)&&(C=w),E=E.add(C),I=q(I,y)}return new ae(E,I)}t.A=function(I){return Fe(this,I).h},t.and=function(I){for(var m=Math.max(this.g.length,I.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)&I.i(v);return new o(_,this.h&I.h)},t.or=function(I){for(var m=Math.max(this.g.length,I.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)|I.i(v);return new o(_,this.h|I.h)},t.xor=function(I){for(var m=Math.max(this.g.length,I.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)^I.i(v);return new o(_,this.h^I.h)};function mt(I){for(var m=I.g.length+1,_=[],v=0;v<m;v++)_[v]=I.i(v)<<1|I.i(v-1)>>>31;return new o(_,I.h)}function ge(I,m){var _=m>>5;m%=32;for(var v=I.g.length-_,E=[],C=0;C<v;C++)E[C]=0<m?I.i(C+_)>>>m|I.i(C+_+1)<<32-m:I.i(C+_);return new o(E,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oC=sC.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,mg=sC.Integer=o}).apply(typeof iC<"u"?iC:typeof self<"u"?self:typeof window<"u"?window:{});var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bn={};var aC,OL,cC,uC,lC,dC,hC,fC,pC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof tl=="object"&&tl];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in h))break e;h=h[T]}a=a[a.length-1],g=h[a],l=l(g),l!=g&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function s(a,l){a instanceof String&&(a+="");var h=0,g=!1,T={next:function(){if(!g&&h<a.length){var D=h++;return{value:l(D,a[D]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return s(this,function(l,h){return h})}});var o=o||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function p(a,l,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(l,T)}}return function(){return a.apply(l,arguments)}}function w(a,l,h){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,w.apply(null,arguments)}function S(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,T,D){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return l.prototype[T].apply(g,R)}}function x(a){let l=a.length;if(0<l){let h=Array(l);for(let g=0;g<l;g++)h[g]=a[g];return h}return[]}function k(a,l){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let T=a.length||0,D=g.length||0;a.length=T+D;for(let R=0;R<D;R++)a[T+R]=g[R]}else a.push(g)}}class q{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function ye(a){return/^[\s\xa0]*$/.test(a)}function ae(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Fe(a){return Fe[" "](a),a}Fe[" "]=function(){};var mt=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function ge(a,l,h){for(let g in a)l.call(h,a[g],g,a)}function I(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(a,l){let h,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(h in g)a[h]=g[h];for(let D=0;D<_.length;D++)h=_[D],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function E(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function y(){var a=Sl;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class an{constructor(){this.h=this.g=null}add(l,h){let g=ms.get();g.set(l,h),this.h?this.h.next=g:this.g=g,this.h=g}}var ms=new q(()=>new vD,a=>a.reset());class vD{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ys,_s=!1,Sl=new an,Gm=()=>{let a=c.Promise.resolve(void 0);ys=()=>{a.then(wD)}};var wD=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(h){C(h)}var l=ms;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}_s=!1};function Rn(){this.s=this.s,this.C=this.C}Rn.prototype.s=!1,Rn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var ID=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function vs(a,l){if(Ve.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(mt){e:{try{Fe(l.nodeName);var T=!0;break e}catch{}T=!1}T||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ED[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&vs.aa.h.call(this)}}A(vs,Ve);var ED={2:"touch",3:"pen",4:"mouse"};vs.prototype.h=function(){vs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ws="closure_listenable_"+(1e6*Math.random()|0),TD=0;function CD(a,l,h,g,T){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!g,this.ha=T,this.key=++TD,this.da=this.fa=!1}function ma(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ya(a){this.src=a,this.g={},this.h=0}ya.prototype.add=function(a,l,h,g,T){var D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);var R=Rl(a,l,g,T);return-1<R?(l=a[R],h||(l.fa=!1)):(l=new CD(l,this.src,D,!!g,T),l.fa=h,a.push(l)),l};function Al(a,l){var h=l.type;if(h in a.g){var g=a.g[h],T=Array.prototype.indexOf.call(g,l,void 0),D;(D=0<=T)&&Array.prototype.splice.call(g,T,1),D&&(ma(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Rl(a,l,h,g){for(var T=0;T<a.length;++T){var D=a[T];if(!D.da&&D.listener==l&&D.capture==!!h&&D.ha==g)return T}return-1}var Nl="closure_lm_"+(1e6*Math.random()|0),Pl={};function Km(a,l,h,g,T){if(g&&g.once)return Ym(a,l,h,g,T);if(Array.isArray(l)){for(var D=0;D<l.length;D++)Km(a,l[D],h,g,T);return null}return h=Ol(h),a&&a[ws]?a.K(l,h,d(g)?!!g.capture:!!g,T):Qm(a,l,h,!1,g,T)}function Qm(a,l,h,g,T,D){if(!l)throw Error("Invalid event type");var R=d(T)?!!T.capture:!!T,ue=Ml(a);if(ue||(a[Nl]=ue=new ya(a)),h=ue.add(l,h,g,R,D),h.proxy)return h;if(g=DD(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)ID||(T=R),T===void 0&&(T=!1),a.addEventListener(l.toString(),g,T);else if(a.attachEvent)a.attachEvent(Zm(l.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function DD(){function a(h){return l.call(a.src,a.listener,h)}let l=bD;return a}function Ym(a,l,h,g,T){if(Array.isArray(l)){for(var D=0;D<l.length;D++)Ym(a,l[D],h,g,T);return null}return h=Ol(h),a&&a[ws]?a.L(l,h,d(g)?!!g.capture:!!g,T):Qm(a,l,h,!0,g,T)}function Jm(a,l,h,g,T){if(Array.isArray(l))for(var D=0;D<l.length;D++)Jm(a,l[D],h,g,T);else g=d(g)?!!g.capture:!!g,h=Ol(h),a&&a[ws]?(a=a.i,l=String(l).toString(),l in a.g&&(D=a.g[l],h=Rl(D,h,g,T),-1<h&&(ma(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete a.g[l],a.h--)))):a&&(a=Ml(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Rl(l,h,g,T)),(h=-1<a?l[a]:null)&&xl(h))}function xl(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[ws])Al(l.i,a);else{var h=a.type,g=a.proxy;l.removeEventListener?l.removeEventListener(h,g,a.capture):l.detachEvent?l.detachEvent(Zm(h),g):l.addListener&&l.removeListener&&l.removeListener(g),(h=Ml(l))?(Al(h,a),h.h==0&&(h.src=null,l[Nl]=null)):ma(a)}}}function Zm(a){return a in Pl?Pl[a]:Pl[a]="on"+a}function bD(a,l){if(a.da)a=!0;else{l=new vs(l,this);var h=a.listener,g=a.ha||a.src;a.fa&&xl(a),a=h.call(g,l)}return a}function Ml(a){return a=a[Nl],a instanceof ya?a:null}var kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ol(a){return typeof a=="function"?a:(a[kl]||(a[kl]=function(l){return a.handleEvent(l)}),a[kl])}function Ue(){Rn.call(this),this.i=new ya(this),this.M=this,this.F=null}A(Ue,Rn),Ue.prototype[ws]=!0,Ue.prototype.removeEventListener=function(a,l,h,g){Jm(this,a,l,h,g)};function We(a,l){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=l.type||l,typeof l=="string")l=new Ve(l,a);else if(l instanceof Ve)l.target=l.target||a;else{var T=l;l=new Ve(g,a),v(l,T)}if(T=!0,h)for(var D=h.length-1;0<=D;D--){var R=l.g=h[D];T=_a(R,g,!0,l)&&T}if(R=l.g=a,T=_a(R,g,!0,l)&&T,T=_a(R,g,!1,l)&&T,h)for(D=0;D<h.length;D++)R=l.g=h[D],T=_a(R,g,!1,l)&&T}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],g=0;g<h.length;g++)ma(h[g]);delete a.g[l],a.h--}}this.F=null},Ue.prototype.K=function(a,l,h,g){return this.i.add(String(a),l,!1,h,g)},Ue.prototype.L=function(a,l,h,g){return this.i.add(String(a),l,!0,h,g)};function _a(a,l,h,g){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var T=!0,D=0;D<l.length;++D){var R=l[D];if(R&&!R.da&&R.capture==h){var ue=R.listener,xe=R.ha||R.src;R.fa&&Al(a.i,R),T=ue.call(xe,g)!==!1&&T}}return T&&!g.defaultPrevented}function Xm(a,l,h){if(typeof a=="function")h&&(a=w(a,h));else if(a&&typeof a.handleEvent=="function")a=w(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function ey(a){a.g=Xm(()=>{a.g=null,a.i&&(a.i=!1,ey(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class SD extends Rn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:ey(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(a){Rn.call(this),this.h=a,this.g={}}A(Is,Rn);var ty=[];function ny(a){ge(a.g,function(l,h){this.g.hasOwnProperty(h)&&xl(l)},a),a.g={}}Is.prototype.N=function(){Is.aa.N.call(this),ny(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ll=c.JSON.stringify,AD=c.JSON.parse,RD=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Fl(){}Fl.prototype.h=null;function ry(a){return a.h||(a.h=a.i())}function iy(){}var Es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vl(){Ve.call(this,"d")}A(Vl,Ve);function Ul(){Ve.call(this,"c")}A(Ul,Ve);var cr={},sy=null;function va(){return sy=sy||new Ue}cr.La="serverreachability";function oy(a){Ve.call(this,cr.La,a)}A(oy,Ve);function Ts(a){let l=va();We(l,new oy(l))}cr.STAT_EVENT="statevent";function ay(a,l){Ve.call(this,cr.STAT_EVENT,a),this.stat=l}A(ay,Ve);function Ge(a){let l=va();We(l,new ay(l,a))}cr.Ma="timingevent";function cy(a,l){Ve.call(this,cr.Ma,a),this.size=l}A(cy,Ve);function Cs(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Ds(){this.g=!0}Ds.prototype.xa=function(){this.g=!1};function ND(a,l,h,g,T,D){a.info(function(){if(a.g)if(D)for(var R="",ue=D.split("&"),xe=0;xe<ue.length;xe++){var re=ue[xe].split("=");if(1<re.length){var je=re[0];re=re[1];var Be=je.split("_");R=2<=Be.length&&Be[1]=="type"?R+(je+"="+re+"&"):R+(je+"=redacted&")}}else R=null;else R=D;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+l+`
`+h+`
`+R})}function PD(a,l,h,g,T,D,R){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+l+`
`+h+`
`+D+" "+R})}function Xr(a,l,h,g){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+MD(a,h)+(g?" "+g:"")})}function xD(a,l){a.info(function(){return"TIMEOUT: "+l})}Ds.prototype.info=function(){};function MD(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var D=T[0];if(D!="noop"&&D!="stop"&&D!="close")for(var R=1;R<T.length;R++)T[R]=""}}}}return Ll(h)}catch{return l}}var wa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jl;function Ia(){}A(Ia,Fl),Ia.prototype.g=function(){return new XMLHttpRequest},Ia.prototype.i=function(){return{}},jl=new Ia;function Nn(a,l,h,g){this.j=a,this.i=l,this.l=h,this.R=g||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ly}function ly(){this.i=null,this.g="",this.h=!1}var dy={},Bl={};function $l(a,l,h){a.L=1,a.v=Da(cn(l)),a.m=h,a.P=!0,hy(a,null)}function hy(a,l){a.F=Date.now(),Ea(a),a.A=cn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),by(h.i,"t",g),a.C=0,h=a.j.J,a.h=new ly,a.g=qy(a.j,h?l:null,!a.m),0<a.O&&(a.M=new SD(w(a.Y,a,a.g),a.O)),l=a.U,h=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(ty[0]=T.toString()),T=ty);for(var D=0;D<T.length;D++){var R=Km(h,T[D],g||l.handleEvent,!1,l.h||l);if(!R)break;l.g[R.key]=R}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Ts(),ND(a.i,a.u,a.A,a.l,a.R,a.m)}Nn.prototype.ca=function(a){a=a.target;let l=this.M;l&&un(a)==3?l.j():this.Y(a)},Nn.prototype.Y=function(a){try{if(a==this.g)e:{let Be=un(this.g);var l=this.g.Ba();let ni=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||My(this.g)))){this.J||Be!=4||l==7||(l==8||0>=ni?Ts(3):Ts(2)),Hl(this);var h=this.g.Z();this.X=h;t:if(fy(this)){var g=My(this.g);a="";var T=g.length,D=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ur(this),bs(this);var R="";break t}this.h.i=new c.TextDecoder}for(l=0;l<T;l++)this.h.h=!0,a+=this.h.i.decode(g[l],{stream:!(D&&l==T-1)});g.length=0,this.h.g+=a,this.C=0,R=this.h.g}else R=this.g.oa();if(this.o=h==200,PD(this.i,this.u,this.A,this.l,this.R,Be,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ue,xe=this.g;if((ue=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(ue)){var re=ue;break t}}re=null}if(h=re)Xr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ql(this,h);else{this.o=!1,this.s=3,Ge(12),ur(this),bs(this);break e}}if(this.P){h=!0;let bt;for(;!this.J&&this.C<R.length;)if(bt=kD(this,R),bt==Bl){Be==4&&(this.s=4,Ge(14),h=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==dy){this.s=4,Ge(15),Xr(this.i,this.l,R,"[Invalid Chunk]"),h=!1;break}else Xr(this.i,this.l,bt,null),ql(this,bt);if(fy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||R.length!=0||this.h.h||(this.s=1,Ge(16),h=!1),this.o=this.o&&h,!h)Xr(this.i,this.l,R,"[Invalid Chunked Response]"),ur(this),bs(this);else if(0<R.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Yl(je),je.M=!0,Ge(11))}}else Xr(this.i,this.l,R,null),ql(this,R);Be==4&&ur(this),this.o&&!this.J&&(Be==4?jy(this.j,this):(this.o=!1,Ea(this)))}else JD(this.g),h==400&&0<R.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),ur(this),bs(this)}}}catch{}finally{}};function fy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function kD(a,l){var h=a.C,g=l.indexOf(`
`,h);return g==-1?Bl:(h=Number(l.substring(h,g)),isNaN(h)?dy:(g+=1,g+h>l.length?Bl:(l=l.slice(g,g+h),a.C=g+h,l)))}Nn.prototype.cancel=function(){this.J=!0,ur(this)};function Ea(a){a.S=Date.now()+a.I,py(a,a.I)}function py(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Cs(w(a.ba,a),l)}function Hl(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Nn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(xD(this.i,this.A),this.L!=2&&(Ts(),Ge(17)),ur(this),this.s=2,bs(this)):py(this,this.S-a)};function bs(a){a.j.G==0||a.J||jy(a.j,a)}function ur(a){Hl(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,ny(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function ql(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||zl(h.h,a))){if(!a.K&&zl(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(l)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Na(h),Aa(h);else break e;Ql(h),Ge(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Cs(w(h.Za,h),6e3));if(1>=yy(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else dr(h,11)}else if((a.K||h.g==a)&&Na(h),!ye(l))for(T=h.Da.g.parse(l),l=0;l<T.length;l++){let re=T[l];if(h.T=re[0],re=re[1],h.G==2)if(re[0]=="c"){h.K=re[1],h.ia=re[2];let je=re[3];je!=null&&(h.la=je,h.j.info("VER="+h.la));let Be=re[4];Be!=null&&(h.Aa=Be,h.j.info("SVER="+h.Aa));let ni=re[5];ni!=null&&typeof ni=="number"&&0<ni&&(g=1.5*ni,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let bt=a.g;if(bt){let xa=bt.g?bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var D=g.h;D.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Wl(D,D.h),D.h=null))}if(g.D){let Jl=bt.g?bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jl&&(g.ya=Jl,he(g.I,g.D,Jl))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var R=a;if(g.qa=Hy(g,g.J?g.ia:null,g.W),R.K){_y(g.h,R);var ue=R,xe=g.L;xe&&(ue.I=xe),ue.B&&(Hl(ue),Ea(ue)),g.g=R}else Vy(g);0<h.i.length&&Ra(h)}else re[0]!="stop"&&re[0]!="close"||dr(h,7);else h.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?dr(h,7):Kl(h):re[0]!="noop"&&h.l&&h.l.ta(re),h.v=0)}}Ts(4)}catch{}}var OD=class{constructor(a,l){this.g=a,this.map=l}};function gy(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function my(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function yy(a){return a.h?1:a.g?a.g.size:0}function zl(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Wl(a,l){a.g?a.g.add(l):a.h=l}function _y(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}gy.prototype.cancel=function(){if(this.i=vy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function vy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return x(a.i)}function LD(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,g=0;g<h;g++)l.push(a[g]);return l}l=[],h=0;for(g in a)l[h++]=a[g];return l}function FD(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let g in a)l[h++]=g;return l}}}function wy(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=FD(a),g=LD(a),T=g.length,D=0;D<T;D++)l.call(void 0,g[D],h&&h[D],a)}var Iy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VD(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),T=null;if(0<=g){var D=a[h].substring(0,g);T=a[h].substring(g+1)}else D=a[h];l(D,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function lr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof lr){this.h=a.h,Ta(this,a.j),this.o=a.o,this.g=a.g,Ca(this,a.s),this.l=a.l;var l=a.i,h=new Rs;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),Ey(this,h),this.m=a.m}else a&&(l=String(a).match(Iy))?(this.h=!1,Ta(this,l[1]||"",!0),this.o=Ss(l[2]||""),this.g=Ss(l[3]||"",!0),Ca(this,l[4]),this.l=Ss(l[5]||"",!0),Ey(this,l[6]||"",!0),this.m=Ss(l[7]||"")):(this.h=!1,this.i=new Rs(null,this.h))}lr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(As(l,Ty,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(As(l,Ty,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(As(h,h.charAt(0)=="/"?BD:jD,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",As(h,HD)),a.join("")};function cn(a){return new lr(a)}function Ta(a,l,h){a.j=h?Ss(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Ca(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function Ey(a,l,h){l instanceof Rs?(a.i=l,qD(a.i,a.h)):(h||(l=As(l,$D)),a.i=new Rs(l,a.h))}function he(a,l,h){a.i.set(l,h)}function Da(a){return he(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ss(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function As(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,UD),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function UD(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ty=/[#\/\?@]/g,jD=/[#\?:]/g,BD=/[#\?]/g,$D=/[#\?@]/g,HD=/#/g;function Rs(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Pn(a){a.g||(a.g=new Map,a.h=0,a.i&&VD(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=Rs.prototype,t.add=function(a,l){Pn(this),this.i=null,a=ei(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function Cy(a,l){Pn(a),l=ei(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function Dy(a,l){return Pn(a),l=ei(a,l),a.g.has(l)}t.forEach=function(a,l){Pn(this),this.g.forEach(function(h,g){h.forEach(function(T){a.call(l,T,g,this)},this)},this)},t.na=function(){Pn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let g=0;g<l.length;g++){let T=a[g];for(let D=0;D<T.length;D++)h.push(l[g])}return h},t.V=function(a){Pn(this);let l=[];if(typeof a=="string")Dy(this,a)&&(l=l.concat(this.g.get(ei(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return Pn(this),this.i=null,a=ei(this,a),Dy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function by(a,l,h){Cy(a,l),0<h.length&&(a.i=null,a.g.set(ei(a,l),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var g=l[h];let D=encodeURIComponent(String(g)),R=this.V(g);for(g=0;g<R.length;g++){var T=D;R[g]!==""&&(T+="="+encodeURIComponent(String(R[g]))),a.push(T)}}return this.i=a.join("&")};function ei(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function qD(a,l){l&&!a.j&&(Pn(a),a.i=null,a.g.forEach(function(h,g){var T=g.toLowerCase();g!=T&&(Cy(this,g),by(this,T,h))},a)),a.j=l}function zD(a,l){let h=new Ds;if(c.Image){let g=new Image;g.onload=S(xn,h,"TestLoadImage: loaded",!0,l,g),g.onerror=S(xn,h,"TestLoadImage: error",!1,l,g),g.onabort=S(xn,h,"TestLoadImage: abort",!1,l,g),g.ontimeout=S(xn,h,"TestLoadImage: timeout",!1,l,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else l(!1)}function WD(a,l){let h=new Ds,g=new AbortController,T=setTimeout(()=>{g.abort(),xn(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:g.signal}).then(D=>{clearTimeout(T),D.ok?xn(h,"TestPingServer: ok",!0,l):xn(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(T),xn(h,"TestPingServer: error",!1,l)})}function xn(a,l,h,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(h)}catch{}}function GD(){this.g=new RD}function KD(a,l,h){let g=h||"";try{wy(a,function(T,D){let R=T;d(T)&&(R=Ll(T)),l.push(g+D+"="+encodeURIComponent(R))})}catch(T){throw l.push(g+"type="+encodeURIComponent("_badmap")),T}}function Ns(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ns,Fl),Ns.prototype.g=function(){return new ba(this.l,this.j)},Ns.prototype.i=function(a){return function(){return a}}({});function ba(a,l){Ue.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ba,Ue),t=ba.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,xs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Ps(this):xs(this),this.readyState==3&&Sy(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ps(this))},t.Qa=function(a){this.g&&(this.response=a,Ps(this))},t.ga=function(){this.g&&Ps(this)};function Ps(a){a.readyState=4,a.l=null,a.j=null,a.v=null,xs(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function xs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ay(a){let l="";return ge(a,function(h,g){l+=g,l+=":",l+=h,l+=`\r
`}),l}function Gl(a,l,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Ay(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):he(a,l,h))}function _e(a){Ue.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(_e,Ue);var QD=/^https?$/i,YD=["POST","PUT"];t=_e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jl.g(),this.v=this.o?ry(this.o):ry(jl),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(D){Ry(this,D);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)h.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let D of g.keys())h.set(D,g.get(D));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(YD,l,void 0))||g||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,R]of h)this.g.setRequestHeader(D,R);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xy(this),this.u=!0,this.g.send(a),this.u=!1}catch(D){Ry(this,D)}};function Ry(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,Ny(a),Sa(a)}function Ny(a){a.A||(a.A=!0,We(a,"complete"),We(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,We(this,"complete"),We(this,"abort"),Sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sa(this,!0)),_e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Py(this):this.bb())},t.bb=function(){Py(this)};function Py(a){if(a.h&&typeof o<"u"&&(!a.v[1]||un(a)!=4||a.Z()!=2)){if(a.u&&un(a)==4)Xm(a.Ea,0,a);else if(We(a,"readystatechange"),un(a)==4){a.h=!1;try{let R=a.Z();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var g;if(g=R===0){var T=String(a.D).match(Iy)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!QD.test(T?T.toLowerCase():"")}h=g}if(h)We(a,"complete"),We(a,"success");else{a.m=6;try{var D=2<un(a)?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.Z()+"]",Ny(a)}}finally{Sa(a)}}}}function Sa(a,l){if(a.g){xy(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||We(a,"ready");try{h.onreadystatechange=g}catch{}}}function xy(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function un(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),AD(l)}};function My(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function JD(a){let l={};a=(a.g&&2<=un(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(ye(a[g]))continue;var h=E(a[g]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let D=l[T]||[];l[T]=D,D.push(h)}I(l,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function ky(a){this.Aa=0,this.i=[],this.j=new Ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,a),this.cb=Ms("retryDelaySeedMs",1e4,a),this.Wa=Ms("forwardChannelMaxRetries",2,a),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new gy(a&&a.concurrentRequestLimit),this.Da=new GD,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ky.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,g){Ge(0),this.W=a,this.H=l||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Hy(this,null,this.W),Ra(this)};function Kl(a){if(Oy(a),a.G==3){var l=a.U++,h=cn(a.I);if(he(h,"SID",a.K),he(h,"RID",l),he(h,"TYPE","terminate"),ks(a,h),l=new Nn(a,a.j,l),l.L=2,l.v=Da(cn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=qy(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Ea(l)}$y(a)}function Aa(a){a.g&&(Yl(a),a.g.cancel(),a.g=null)}function Oy(a){Aa(a),a.u&&(c.clearTimeout(a.u),a.u=null),Na(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ra(a){if(!my(a.h)&&!a.s){a.s=!0;var l=a.Ga;ys||Gm(),_s||(ys(),_s=!0),Sl.add(l,a),a.B=0}}function ZD(a,l){return yy(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Cs(w(a.Ga,a,l),By(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Nn(this,this.j,a),D=this.o;if(this.S&&(D?(D=m(D),v(D,this.S)):D=this.S),this.m!==null||this.O||(T.H=D,D=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(l+=g,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=Fy(this,T,l),h=cn(this.I),he(h,"RID",a),he(h,"CVER",22),this.D&&he(h,"X-HTTP-Session-Id",this.D),ks(this,h),D&&(this.O?l="headers="+encodeURIComponent(String(Ay(D)))+"&"+l:this.m&&Gl(h,this.m,D)),Wl(this.h,T),this.Ua&&he(h,"TYPE","init"),this.P?(he(h,"$req",l),he(h,"SID","null"),T.T=!0,$l(T,h,null)):$l(T,h,l),this.G=2}}else this.G==3&&(a?Ly(this,a):this.i.length==0||my(this.h)||Ly(this))};function Ly(a,l){var h;l?h=l.l:h=a.U++;let g=cn(a.I);he(g,"SID",a.K),he(g,"RID",h),he(g,"AID",a.T),ks(a,g),a.m&&a.o&&Gl(g,a.m,a.o),h=new Nn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=Fy(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Wl(a.h,h),$l(h,g,l)}function ks(a,l){a.H&&ge(a.H,function(h,g){he(l,g,h)}),a.l&&wy({},function(h,g){he(l,g,h)})}function Fy(a,l,h){h=Math.min(a.i.length,h);var g=a.l?w(a.l.Na,a.l,a):null;e:{var T=a.i;let D=-1;for(;;){let R=["count="+h];D==-1?0<h?(D=T[0].g,R.push("ofs="+D)):D=0:R.push("ofs="+D);let ue=!0;for(let xe=0;xe<h;xe++){let re=T[xe].g,je=T[xe].map;if(re-=D,0>re)D=Math.max(0,T[xe].g-100),ue=!1;else try{KD(je,R,"req"+re+"_")}catch{g&&g(je)}}if(ue){g=R.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,g}function Vy(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;ys||Gm(),_s||(ys(),_s=!0),Sl.add(l,a),a.v=0}}function Ql(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Cs(w(a.Fa,a),By(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Uy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Cs(w(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),Aa(this),Uy(this))};function Yl(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Uy(a){a.g=new Nn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=cn(a.qa);he(l,"RID","rpc"),he(l,"SID",a.K),he(l,"AID",a.T),he(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&he(l,"TO",a.ja),he(l,"TYPE","xmlhttp"),ks(a,l),a.m&&a.o&&Gl(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Da(cn(l)),h.m=null,h.P=!0,hy(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Aa(this),Ql(this),Ge(19))};function Na(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function jy(a,l){var h=null;if(a.g==l){Na(a),Yl(a),a.g=null;var g=2}else if(zl(a.h,l))h=l.D,_y(a.h,l),g=1;else return;if(a.G!=0){if(l.o)if(g==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var T=a.B;g=va(),We(g,new cy(g,h)),Ra(a)}else Vy(a);else if(T=l.s,T==3||T==0&&0<l.X||!(g==1&&ZD(a,l)||g==2&&Ql(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),T){case 1:dr(a,5);break;case 4:dr(a,10);break;case 3:dr(a,6);break;default:dr(a,2)}}}function By(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function dr(a,l){if(a.j.info("Error code "+l),l==2){var h=w(a.fb,a),g=a.Xa;let T=!g;g=new lr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ta(g,"https"),Da(g),T?zD(g.toString(),h):WD(g.toString(),h)}else Ge(2);a.G=0,a.l&&a.l.sa(l),$y(a),Oy(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function $y(a){if(a.G=0,a.ka=[],a.l){let l=vy(a.h);(l.length!=0||a.i.length!=0)&&(k(a.ka,l),k(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Hy(a,l,h){var g=h instanceof lr?cn(h):new lr(h);if(g.g!="")l&&(g.g=l+"."+g.g),Ca(g,g.s);else{var T=c.location;g=T.protocol,l=l?l+"."+T.hostname:T.hostname,T=+T.port;var D=new lr(null);g&&Ta(D,g),l&&(D.g=l),T&&Ca(D,T),h&&(D.l=h),g=D}return h=a.D,l=a.ya,h&&l&&he(g,h,l),he(g,"VER",a.la),ks(a,g),g}function qy(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new _e(new Ns({eb:h})):new _e(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zy(){}t=zy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pa(){}Pa.prototype.g=function(a,l){return new ot(a,l)};function ot(a,l){Ue.call(this),this.g=new ky(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!ye(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!ye(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new ti(this)}A(ot,Ue),ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ot.prototype.close=function(){Kl(this.g)},ot.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Ll(a),a=h);l.i.push(new OD(l.Ya++,a)),l.G==3&&Ra(l)},ot.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,ot.aa.N.call(this)};function Wy(a){Vl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(Wy,Vl);function Gy(){Ul.call(this),this.status=1}A(Gy,Ul);function ti(a){this.g=a}A(ti,zy),ti.prototype.ua=function(){We(this.g,"a")},ti.prototype.ta=function(a){We(this.g,new Wy(a))},ti.prototype.sa=function(a){We(this.g,new Gy)},ti.prototype.ra=function(){We(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,ot.prototype.send=ot.prototype.o,ot.prototype.open=ot.prototype.m,ot.prototype.close=ot.prototype.close,pC=bn.createWebChannelTransport=function(){return new Pa},fC=bn.getStatEventTarget=function(){return va()},hC=bn.Event=cr,dC=bn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,lC=bn.ErrorCode=wa,uy.COMPLETE="complete",uC=bn.EventType=uy,iy.EventType=Es,Es.OPEN="a",Es.CLOSE="b",Es.ERROR="c",Es.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,cC=bn.WebChannel=iy,OL=bn.FetchXmlHttpFactory=Ns,_e.prototype.listenOnce=_e.prototype.L,_e.prototype.getLastError=_e.prototype.Ka,_e.prototype.getLastErrorCode=_e.prototype.Ba,_e.prototype.getStatus=_e.prototype.Z,_e.prototype.getResponseJson=_e.prototype.Oa,_e.prototype.getResponseText=_e.prototype.oa,_e.prototype.send=_e.prototype.ea,_e.prototype.setWithCredentials=_e.prototype.Ha,aC=bn.XhrIo=_e}).apply(typeof tl<"u"?tl:typeof self<"u"?self:typeof window<"u"?window:{});var gC="@firebase/firestore";var Oe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Oe.UNAUTHENTICATED=new Oe(null),Oe.GOOGLE_CREDENTIALS=new Oe("google-credentials-uid"),Oe.FIRST_PARTY=new Oe("first-party-uid"),Oe.MOCK_USER=new Oe("mock-user");var Yo="10.14.0";var Xi=new Xt("@firebase/firestore");function Ft(t,...e){if(Xi.logLevel<=ne.DEBUG){let n=e.map(xg);Xi.debug(`Firestore (${Yo}): ${t}`,...n)}}function wC(t,...e){if(Xi.logLevel<=ne.ERROR){let n=e.map(xg);Xi.error(`Firestore (${Yo}): ${t}`,...n)}}function LL(t,...e){if(Xi.logLevel<=ne.WARN){let n=e.map(xg);Xi.warn(`Firestore (${Yo}): ${t}`,...n)}}function xg(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function it(t="Unexpected state"){let e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+t;throw wC(e),new Error(e)}function Hr(t,e){t||it()}var Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Le=class extends pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var nl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_g=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Oe.UNAUTHENTICATED))}shutdown(){}},vg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},wg=class{constructor(e){this.t=e,this.currentUser=Oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Hr(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hr(typeof r.accessToken=="string"),new nl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Hr(e===null||typeof e=="string"),new Oe(e)}},Ig=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Oe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Eg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ig(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Tg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Cg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Hr(this.o===void 0);let r=s=>{s.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Ft("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Hr(typeof n.token=="string"),this.R=n.token,new Tg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function IC(t,e){return t<e?-1:t>e?1:0}var Dg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&it(),r===void 0?r=e.length-n:r>e.length-n&&it(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},sr=class t extends Dg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Le(Ze.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var zr=class t{constructor(e){this.path=e}static fromPath(e){return new t(sr.fromString(e))}static fromName(e){return new t(sr.fromString(e).popFirst(5))}static empty(){return new t(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return sr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new sr(e.slice()))}};var bg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};bg.UNKNOWN_ID=-1;function FL(t){return t.name==="IndexedDbTransactionError"}function VL(t){return t===0&&1/t==-1/0}var UL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r8=[...UL,"documentOverlays"],jL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BL=jL,$L=[...BL,"indexConfiguration","indexState","indexEntries"];var i8=[...$L,"globals"];var es=class t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zi(this.root,e,this.comparator,!0)}},Zi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},on=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();let e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}};on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,n,r,i,s){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rl=class t{constructor(e){this.comparator=e,this.data=new es(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new il(this.data.getIterator())}getIteratorFrom(e){return new il(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},il=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Sg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ts=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Sg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return IC(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ts.EMPTY_BYTE_STRING=new ts("");var HL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qL(t){if(Hr(!!t),typeof t=="string"){let e=0,n=HL.exec(t);if(Hr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qo(t.seconds),nanos:Qo(t.nanos)}}function Qo(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zL(t){return typeof t=="string"?ts.fromBase64String(t):ts.fromUint8Array(t)}var Ag=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function WL(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function GL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var o8=new es(zr.comparator);var a8=new es(zr.comparator);var c8=new es(zr.comparator),u8=new rl(zr.comparator);var l8=new rl(IC);var mC,Z;(Z=mC||(mC={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";var d8=new mg([4294967295,4294967295],0);var sl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Qo(e.integerValue));else if("doubleValue"in e){let r=Qo(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),VL(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=qL(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(zL(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?GL(e)?this.dt(n,Number.MAX_SAFE_INTEGER):WL(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):it()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Qo(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),zr.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};sl.vt=new sl;var h8=new Uint8Array(0);var sn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);function yg(){return typeof document<"u"?document:null}var Rg=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ng=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(Ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var yC,_C;(_C=yC||(yC={})).ea="default",_C.Cache="cache";function KL(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var vC=new Map;function QL(t,e,n,r){if(e===!0&&r===!0)throw new Le(Ze.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YL(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it()}function JL(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=YL(t);throw new Le(Ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ol=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Le(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Le(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Le(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Le(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},al=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ol({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ol(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _g;switch(r.type){case"firstParty":return new Eg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=vC.get(n);r&&(Ft("ComponentProvider","Removing Datastore"),vC.delete(n),r.terminate())}(this),Promise.resolve()}};function EC(t,e,n,r={}){var i;let s=(t=JL(t,al))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&LL("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Oe.MOCK_USER;else{c=Pu(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Le(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Oe(d)}t._authCredentials=new vg(new nl(c,u))}}var cl=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Rg(this,"async_queue_retry"),this.Vu=()=>{let r=yg();r&&Ft("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new qr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return b(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!FL(e))throw e;Ft("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw wC("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Ng.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&it()}verifyOperationInProgress(){}wu(){return b(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Pg=class extends al{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new cl(e),this._firestoreClient=void 0,yield e}})}};function TC(t,e){let n=typeof t=="object"?t:Zn(),r=typeof t=="string"?t:e||"(default)",i=Or(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Nu("firestore");s&&EC(i,...s)}return i}var f8=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){Yo=i})(nn),tn(new rt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Pg(new wg(r.getProvider("auth-internal")),new Cg(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Le(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ag(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),pe(gC,"4.7.3",e),pe(gC,"4.7.3","esm2017")})();var Jo=class{constructor(e){return e}},CC="firestore",Mg=class{constructor(){return Fr(CC)}};var kg=new O("angularfire2.firestore-instances");function ZL(t,e){let n=Qi(CC,t,e);return n&&new Jo(n)}function XL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Jo(r)}}var eF={provide:Mg,deps:[[new Ce,kg]]},tF={provide:Jo,useFactory:ZL,deps:[[new Ce,kg],Lt]};function DC(t,...e){return pe("angularfire",En.full,"fst"),Wt([tF,eF,{provide:kg,useFactory:XL(t),multi:!0,deps:[G,Ae,er,Tn,[new Ce,$r],[new Ce,Xn],...e]}])}var bC=tr(TC,!0);var SC="@firebase/database",AC="1.0.8";var xm="";function nF(t){xm=t}var $g=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ne(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Gi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Hg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var o0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $g(e)}}catch{}return new Hg},Gr=o0("localStorage"),qg=o0("sessionStorage");var ss=new Xt("@firebase/database"),rF=function(){let t=1;return function(){return t++}}(),a0=function(t){let e=YE(t),n=new Au;n.update(e);let r=n.digest();return Ru.encodeByteArray(r)},la=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=la.apply(null,r):typeof r=="object"?e+=Ne(r):e+=r,e+=" "}return e},Kr=null,RC=!0,iF=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ss.logLevel=ne.VERBOSE,Kr=ss.log.bind(ss),e&&qg.set("logging_enabled",!0)):typeof t=="function"?Kr=t:(Kr=null,qg.remove("logging_enabled"))},He=function(...t){if(RC===!0&&(RC=!1,Kr===null&&qg.get("logging_enabled")===!0&&iF(!0)),Kr){let e=la.apply(null,t);Kr(e)}},da=function(t){return function(...e){He(t,...e)}},zg=function(...t){let e="FIREBASE INTERNAL ERROR: "+la(...t);ss.error(e)},An=function(...t){let e=`FIREBASE FATAL ERROR: ${la(...t)}`;throw ss.error(e),new Error(e)},gt=function(...t){let e="FIREBASE WARNING: "+la(...t);ss.warn(e)},sF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},c0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},oF=function(t){if(Jt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},as="[MIN_NAME]",Qr="[MAX_NAME]",ps=function(t,e){if(t===e)return 0;if(t===as||e===Qr)return-1;if(e===as||t===Qr)return 1;{let n=NC(t),r=NC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},aF=function(t,e){return t===e?0:t<e?-1:1},Zo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ne(e))},Mm=function(t){if(typeof t!="object"||t===null)return Ne(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ne(e[r]),n+=":",n+=Mm(t[e[r]]);return n+="}",n},u0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Dt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var l0=function(t){N(!c0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,c,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let d=[];for(u=n;u;u-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)d.push(s%2?1:0),s=Math.floor(s/2);d.push(i?1:0),d.reverse();let f=d.join(""),p="";for(u=0;u<64;u+=8){let w=parseInt(f.substr(u,8),2).toString(16);w.length===1&&(w="0"+w),p=p+w}return p.toLowerCase()},cF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var lF=new RegExp("^-?(0*)\\d{1,10}$"),dF=-2147483648,hF=2147483647,NC=function(t){if(lF.test(t)){let e=Number(t);if(e>=dF&&e<=hF)return e}return null},ha=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw gt("Exception was thrown by user callback.",n),e},Math.floor(0))}},fF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ra=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Wg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Gg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(He("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(e)}},ia=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),ll="5",d0="v",h0="s",f0="r",p0="f",g0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,m0="ls",y0="p",Kg="ac",_0="websocket",v0="long_polling";var dl=class{constructor(e,n,r,i,s=!1,o="",c=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Gr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function pF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function w0(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===_0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===v0)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);pF(t)&&(n.ns=t.namespace);let i=[];return Dt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Qg=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Zt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return UE(this.counters_)}};var Og={},Lg={};function km(t){let e=t.toString();return Og[e]||(Og[e]=new Qg),Og[e]}function gF(t,e){let n=t.toString();return Lg[n]||(Lg[n]=e()),Lg[n]}var Yg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ha(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var PC="start",mF="close",yF="pLPCommand",_F="pRTLPCB",I0="id",E0="pw",T0="ser",vF="cb",wF="seg",IF="ts",EF="d",TF="dframe",C0=1870,D0=30,CF=C0-D0,DF=25e3,bF=3e4,Jg=class t{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=da(e),this.stats_=km(n),this.urlFn=u=>(this.appCheckToken&&(u[Kg]=this.appCheckToken),w0(n,v0,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Yg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bF)),oF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zg((...s)=>{let[o,c,u,d,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===PC)this.id=c,this.password=u;else if(o===mF)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);let r={};r[PC]="t",r[T0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[vF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[d0]=ll,this.transportSessionId&&(r[h0]=this.transportSessionId),this.lastSessionId&&(r[m0]=this.lastSessionId),this.applicationId&&(r[y0]=this.applicationId),this.appCheckToken&&(r[Kg]=this.appCheckToken),typeof location<"u"&&location.hostname&&g0.test(location.hostname)&&(r[f0]=p0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Jt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!cF()&&!uF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=fp(n),i=u0(r,CF);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Jt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[TF]="t",r[I0]=e,r[E0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ne(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Zg=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Jt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=rF(),window[yF+this.uniqueCallbackIdentifier]=e,window[_F+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){He("frame writing exception"),c.stack&&He(c.stack),He(c)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||He("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[I0]=this.myID,e[E0]=this.myPW,e[T0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+D0+r.length<=C0;){let o=this.pendingSegs.shift();r=r+"&"+wF+i+"="+o.seg+"&"+IF+i+"="+o.ts+"&"+EF+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(DF)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Jt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{He("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var SF=16384,AF=45e3,hl=null;typeof MozWebSocket<"u"?hl=MozWebSocket:typeof WebSocket<"u"&&(hl=WebSocket);var Xo=(()=>{class t{constructor(n,r,i,s,o,c,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=da(this.connId),this.stats_=km(r),this.connURL=t.connectionURL_(r,c,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let c={};return c[d0]=ll,!Jt()&&typeof location<"u"&&location.hostname&&g0.test(location.hostname)&&(c[f0]=p0),r&&(c[h0]=r),i&&(c[m0]=i),s&&(c[Kg]=s),o&&(c[y0]=o),w0(n,_0,c)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gr.set("previous_websocket_failure",!0);try{let i;if(Jt()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${ll}/${xm}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,c=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(i.proxy={origin:c})}this.mySock=new hl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&hl!==null&&!t.forceDisallow_}static previouslyFailed(){return Gr.isInMemoryStorage||Gr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Gi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(N(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ne(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=u0(r,SF);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AF))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),RF=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Jg,Xo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Xo&&Xo.isAvailable(),i=r&&!Xo.previouslyFailed();if(n.webSocketOnly&&(r||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Xo];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),NF=6e4,PF=5e3,xF=10*1024,MF=100*1024,Fg="t",xC="d",kF="s",MC="r",OF="e",kC="o",OC="a",LC="n",FC="p",LF="h",Xg=class{constructor(e,n,r,i,s,o,c,u,d,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=da("c:"+this.id+":"),this.transportManager_=new RF(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ra(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>MF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Fg in e){let n=e[Fg];n===OC?this.upgradeIfSecondaryHealthy_():n===MC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Zo("t",e),r=Zo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Zo("t",e),r=Zo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Zo(Fg,e);if(xC in e){let r=e[xC];if(n===LF){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===LC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===kF?this.onConnectionShutdown_(r):n===MC?this.onReset_(r):n===OF?zg("Server Error: "+r):n===kC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ll!==r&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ra(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ra(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FC,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var fl=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var pl=class{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var gl=class t extends pl{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Oo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var VC=32,UC=768,de=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ce(){return new de("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ar(t){return t.pieces_.length-t.pieceNum_}function fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function b0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function FF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function S0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function A0(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function Pe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof de)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new de(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function Tt(t,e){let n=X(t),r=X(e);if(n===null)return e;if(n===r)return Tt(fe(t),fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function R0(t,e){if(ar(t)!==ar(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ut(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ar(t)>ar(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var em=class{constructor(e,n){this.errorPrefix_=n,this.parts_=S0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vo(this.parts_[r]);N0(this)}};function VF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vo(e),N0(t)}function UF(t){let e=t.parts_.pop();t.byteLength_-=Vo(e),t.parts_.length>0&&(t.byteLength_-=1)}function N0(t){if(t.byteLength_>UC)throw new Error(t.errorPrefix_+"has a key path longer than "+UC+" bytes ("+t.byteLength_+").");if(t.parts_.length>VC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VC+") or object contains a cycle "+Wr(t))}function Wr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var tm=class t extends pl{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}};var ea=1e3,jF=60*5*1e3,jC=30*1e3,BF=1.3,$F=3e4,HF="server_kill",BC=3,Om=(()=>{class t extends fl{constructor(n,r,i,s,o,c,u,d){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=d,this.id=t.nextPersistentConnectionId_++,this.log_=da("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ea,this.maxReconnectDelay_=jF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!Jt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&gl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ne(o)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Rr,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:c=>{let u=c.d;c.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),N(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");let u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},c="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(c,o,u=>{let d=u.d,f=u.s;t.warnOnListenWarnings_(d,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(f,d))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Zt(n,"w")){let i=Pr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||GE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=WE(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,c=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),N(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},c="n";s&&(o.q=i,o.t=s),this.sendRequest(c,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let c={p:r,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;let u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ne(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):zg("Unrecognized action received from server: "+Ne(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ea,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ea,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$F&&(this.reconnectDelay_=ea),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*BF)}this.onConnectStatus_(!1)}establishConnection_(){return b(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,c=!1,u=null,d=function(){u?u.close():(c=!0,i())},f=function(w){N(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(w)};this.realtime_={close:d,sendRequest:f};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[w,S]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?He("getToken() completed but was canceled"):(He("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=S&&S.token,u=new Xg(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,A=>{gt(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(HF)},o))}catch(w){this.log_("Failed to get token: "+w),c||(this.repoInfo_.nodeAdmin&&gt(w),d())}}})}interrupt(n){He("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){He("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Lo(this.interruptReasons_)&&(this.reconnectDelay_=ea,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>Mm(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new de(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){He("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=BC&&(this.reconnectDelay_=jC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){He("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=BC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Jt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+xm.replace(/\./g,"-")]=1,Oo()?n["framework.cordova"]=1:xu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=gl.getInstance().currentlyOnline();return Lo(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ee=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var cs=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new ee(as,e),i=new ee(as,n);return this.compare(r,i)!==0}minPost(){return ee.MIN}};var ul,ml=class extends cs{static get __EMPTY_NODE(){return ul}static set __EMPTY_NODE(e){ul=e}compare(e,n){return ps(e.name,n.name)}isDefinedOn(e){throw Nr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Qr,ul)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,ul)}toString(){return".key"}},os=new ml;var rs=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Vt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Ct.EMPTY_NODE,this.right=o??Ct.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),nm=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ct=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new rs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new rs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new rs(this.root_,null,this.comparator_,!0,e)}};Ct.EMPTY_NODE=new nm;function qF(t,e){return ps(t.name,e.name)}function Lm(t,e){return ps(t,e)}var rm;function zF(t){rm=t}var P0=function(t){return typeof t=="number"?"number:"+l0(t):"string:"+t},x0=function(t){if(t.isLeafNode()){let e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zt(e,".sv"),"Priority must be a string or number.")}else N(t===rm||t.isEmpty(),"priority of unexpected type.");N(t===rm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var $C,us=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),x0(this.priorityNode_)}static set __childrenNodeConstructor(n){$C=n}static get __childrenNodeConstructor(){return $C}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:X(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=X(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(N(i!==".priority"||ar(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+P0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=l0(this.value_):n+=this.value_,this.lazyHash_=a0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(N(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return N(s>=0,"Unknown leaf type: "+r),N(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),M0,k0;function WF(t){M0=t}function GF(t){k0=t}var im=class extends cs{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ps(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Qr,new us("[PRIORITY-POST]",k0))}makePost(e,n){let r=M0(e);return new ee(n,new us("[PRIORITY-POST]",r))}toString(){return".priority"}},ze=new im;var KF=Math.log(2),sm=class{constructor(e){let n=s=>parseInt(Math.log(s)/KF,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},yl=function(t,e,n,r){t.sort(e);let i=function(u,d){let f=d-u,p,w;if(f===0)return null;if(f===1)return p=t[u],w=n?n(p):p,new Vt(w,p.node,Vt.BLACK,null,null);{let S=parseInt(f/2,10)+u,A=i(u,S),x=i(S+1,d);return p=t[S],w=n?n(p):p,new Vt(w,p.node,Vt.BLACK,A,x)}},s=function(u){let d=null,f=null,p=t.length,w=function(A,x){let k=p-A,q=p;p-=A;let ye=i(k+1,q),ae=t[k],Fe=n?n(ae):ae;S(new Vt(Fe,ae.node,x,null,ye))},S=function(A){d?(d.left=A,d=A):(f=A,d=A)};for(let A=0;A<u.count;++A){let x=u.nextBitIsOne(),k=Math.pow(2,u.count-(A+1));x?w(k,Vt.BLACK):(w(k,Vt.BLACK),w(k,Vt.RED))}return f},o=new sm(t.length),c=s(o);return new Ct(r||e,c)};var Vg,ns={},ls=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(ns&&ze,"ChildrenNode.ts has not been loaded"),Vg=Vg||new t({".priority":ns},{".priority":ze}),Vg}get(e){let n=Pr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ct?n:null}hasIndex(e){return Zt(this.indexSet_,e.toString())}addIndex(e,n){N(e!==os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(ee.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=yl(r,e.getCompare()):c=ns;let u=e.toString(),d=Object.assign({},this.indexSet_);d[u]=e;let f=Object.assign({},this.indexes_);return f[u]=c,new t(f,d)}addToIndexes(e,n){let r=Fo(this.indexes_,(i,s)=>{let o=Pr(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===ns)if(o.isDefinedOn(e.node)){let c=[],u=n.getIterator(ee.Wrap),d=u.getNext();for(;d;)d.name!==e.name&&c.push(d),d=u.getNext();return c.push(e),yl(c,o.getCompare())}else return ns;else{let c=n.get(e.name),u=i;return c&&(u=u.remove(new ee(e.name,c))),u.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Fo(this.indexes_,i=>{if(i===ns)return i;{let s=n.get(e.name);return s?i.remove(new ee(e.name,s)):i}});return new t(r,this.indexSet_)}};var ta,me=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&x0(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ta||(ta=new t(new Ct(Lm),null,ls.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ta}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ta:r}}getChild(n){let r=X(n);return r===null?this:this.getImmediateChild(r).getChild(fe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(N(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new ee(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let c=s.isEmpty()?ta:this.priorityNode_;return new t(s,c,o)}}updateChild(n,r){let i=X(n);if(i===null)return r;{N(X(n)!==".priority"||ar(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(fe(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(ze,(c,u)=>{r[c]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!n&&o&&s<2*i){let c=[];for(let u in r)c[u]=r[u];return c}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+P0(this.getPriority().val())+":"),this.forEachChild(ze,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":a0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new ee(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new ee(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new ee(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,ee.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,ee.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===fa?-1:0}withIndex(n){if(n===os||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===os||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ze),s=r.getIterator(ze),o=i.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=s.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(n){return n===os?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),om=class extends me{constructor(){super(new Ct(Lm),me.EMPTY_NODE,ls.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}},fa=new om;Object.defineProperties(ee,{MIN:{value:new ee(as,me.EMPTY_NODE)},MAX:{value:new ee(Qr,fa)}});ml.__EMPTY_NODE=me.EMPTY_NODE;us.__childrenNodeConstructor=me;zF(fa);GF(fa);var QF=!0;function qe(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new us(n,qe(e))}if(!(t instanceof Array)&&QF){let n=[],r=!1;if(Dt(t,(o,c)=>{if(o.substring(0,1)!=="."){let u=qe(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ee(o,u)))}}),n.length===0)return me.EMPTY_NODE;let s=yl(n,qF,o=>o.name,Lm);if(r){let o=yl(n,ze.getCompare());return new me(s,qe(e),new ls({".priority":o},{".priority":ze}))}else return new me(s,qe(e),ls.Default)}else{let n=me.EMPTY_NODE;return Dt(t,(r,i)=>{if(Zt(t,r)&&r.substring(0,1)!=="."){let s=qe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(qe(e))}}WF(qe);var am=class extends cs{constructor(e){super(),this.indexPath_=e,N(!K(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ps(e.name,n.name):s}makePost(e,n){let r=qe(e),i=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){let e=me.EMPTY_NODE.updateChild(this.indexPath_,fa);return new ee(Qr,e)}toString(){return S0(this.indexPath_,0).join("/")}};var cm=class extends cs{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ps(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){let r=qe(e);return new ee(n,r)}toString(){return".value"}},YF=new cm;function JF(t){return{type:"value",snapshotNode:t}}function ZF(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function XF(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function HC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function e2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var um=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:as}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function qC(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ze?n="$priority":t.index_===YF?n="$value":t.index_===os?n="$key":(N(t.index_ instanceof am,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ne(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ne(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ne(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ne(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ne(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function zC(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ze&&(e.i=t.index_.toString()),e}var lm=class t extends fl{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=da("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),c={};this.listens_[o]=c;let u=qC(e._queryParams);this.restRequest_(s+".json",u,(d,f)=>{let p=f;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(s,p,!1,r),Pr(this.listens_,o)===c){let w;d?d===401?w="permission_denied":w="rest_error:"+d:w="ok",i(w,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=qC(e._queryParams),r=e._path.toString(),i=new Rr;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Mr(n);this.log_("Sending REST request for "+o);let c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=Gi(c.responseText)}catch{gt("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&gt("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}};var dm=class{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function _l(){return{value:null,children:new Map}}function O0(t,e,n){if(K(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=X(e);t.children.has(r)||t.children.set(r,_l());let i=t.children.get(r);e=fe(e),O0(i,e,n)}}function hm(t,e,n){t.value!==null?n(e,t.value):t2(t,(r,i)=>{let s=new de(e.toString()+"/"+r);hm(i,s,n)})}function t2(t,e){t.children.forEach((n,r)=>{e(r,n)})}var fm=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Dt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var WC=10*1e3,n2=30*1e3,r2=5*60*1e3,pm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fm(e);let r=WC+(n2-WC)*Math.random();ra(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Dt(e,(i,s)=>{s>0&&Zt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ra(this.reportStats_.bind(this),Math.floor(Math.random()*2*r2))}};var Sn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Sn||{});function L0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function F0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function V0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var gm=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Sn.ACK_USER_WRITE,this.source=L0()}operationForChild(e){if(K(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new de(e));return new t(ce(),n,this.revert)}}else return N(X(this.path)===e,"operationForChild called for unrelated child."),new t(fe(this.path),this.affectedTree,this.revert)}};var ds=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Sn.OVERWRITE}operationForChild(e){return K(this.path)?new t(this.source,ce(),this.snap.getImmediateChild(e)):new t(this.source,fe(this.path),this.snap)}};var vl=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Sn.MERGE}operationForChild(e){if(K(this.path)){let n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new ds(this.source,ce(),n.value):new t(this.source,ce(),n)}else return N(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var aa=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;let n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function i2(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(e2(o.childName,o.snapshotNode))}),na(t,i,"child_removed",e,r,n),na(t,i,"child_added",e,r,n),na(t,i,"child_moved",s,r,n),na(t,i,"child_changed",e,r,n),na(t,i,"value",e,r,n),i}function na(t,e,n,r,i,s){let o=r.filter(c=>c.type===n);o.sort((c,u)=>o2(t,c,u)),o.forEach(c=>{let u=s2(t,c,s);i.forEach(d=>{d.respondsTo(c.type)&&e.push(d.createEvent(u,t.query_))})})}function s2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function o2(t,e,n){if(e.childName==null||n.childName==null)throw Nr("Should only compare child_ events.");let r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function U0(t,e){return{eventCache:t,serverCache:e}}function sa(t,e,n,r){return U0(new aa(e,n,r),t.serverCache)}function j0(t,e,n,r){return U0(t.eventCache,new aa(e,n,r))}function mm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ug,a2=()=>(Ug||(Ug=new Ct(aF)),Ug),st=class t{constructor(e,n=a2()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Dt(e,(r,i)=>{n=n.set(new de(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ce(),value:this.value};if(K(e))return null;{let r=X(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(fe(e),n);return s!=null?{path:Pe(new de(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{let n=X(e),r=this.children.get(n);return r!==null?r.subtree(fe(e)):new t(null)}}set(e,n){if(K(e))return new t(n,this.children);{let r=X(e),s=(this.children.get(r)||new t(null)).set(fe(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(K(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=X(e),r=this.children.get(n);if(r){let i=r.remove(fe(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(K(e))return this.value;{let n=X(e),r=this.children.get(n);return r?r.get(fe(e)):null}}setTree(e,n){if(K(e))return n;{let r=X(e),s=(this.children.get(r)||new t(null)).setTree(fe(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(ce(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Pe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ce(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(K(e))return null;{let s=X(e),o=this.children.get(s);return o?o.findOnPath_(fe(e),Pe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ce(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);let i=X(e),s=this.children.get(i);return s?s.foreachOnPath_(fe(e),Pe(n,i),r):new t(null)}}foreach(e){this.foreach_(ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Pe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var jt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new st(null))}};function oa(t,e,n){if(K(e))return new jt(new st(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Tt(i,e);return s=s.updateChild(o,n),new jt(t.writeTree_.set(i,s))}else{let i=new st(n),s=t.writeTree_.setTree(e,i);return new jt(s)}}}function GC(t,e,n){let r=t;return Dt(n,(i,s)=>{r=oa(r,Pe(e,i),s)}),r}function KC(t,e){if(K(e))return jt.empty();{let n=t.writeTree_.setTree(e,new st(null));return new jt(n)}}function ym(t,e){return Jr(t,e)!=null}function Jr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Tt(n.path,e)):null}function QC(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ze,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ee(r,i.value))}),e}function or(t,e){if(K(e))return t;{let n=Jr(t,e);return n!=null?new jt(new st(n)):new jt(t.writeTree_.subtree(e))}}function _m(t){return t.writeTree_.isEmpty()}function hs(t,e){return B0(ce(),t.writeTree_,e)}function B0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=B0(Pe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Pe(t,".priority"),r)),n}}function $0(t,e){return G0(e,t)}function c2(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=oa(t.visibleWrites,e,n)),t.lastWriteId=r}function u2(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function l2(t,e){let n=t.allWrites.findIndex(c=>c.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let c=t.allWrites[o];c.visible&&(o>=n&&d2(c,r.path)?i=!1:Ut(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return h2(t),!0;if(r.snap)t.visibleWrites=KC(t.visibleWrites,r.path);else{let c=r.children;Dt(c,u=>{t.visibleWrites=KC(t.visibleWrites,Pe(r.path,u))})}return!0}else return!1}function d2(t,e){if(t.snap)return Ut(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Ut(Pe(t.path,n),e))return!0;return!1}function h2(t){t.visibleWrites=H0(t.allWrites,f2,ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function f2(t){return t.visible}function H0(t,e,n){let r=jt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,c;if(s.snap)Ut(n,o)?(c=Tt(n,o),r=oa(r,c,s.snap)):Ut(o,n)&&(c=Tt(o,n),r=oa(r,ce(),s.snap.getChild(c)));else if(s.children){if(Ut(n,o))c=Tt(n,o),r=GC(r,c,s.children);else if(Ut(o,n))if(c=Tt(o,n),K(c))r=GC(r,ce(),s.children);else{let u=Pr(s.children,X(c));if(u){let d=u.getChild(fe(c));r=oa(r,ce(),d)}}}else throw Nr("WriteRecord should have .snap or .children")}}return r}function q0(t,e,n,r,i){if(!r&&!i){let s=Jr(t.visibleWrites,e);if(s!=null)return s;{let o=or(t.visibleWrites,e);if(_m(o))return n;if(n==null&&!ym(o,ce()))return null;{let c=n||me.EMPTY_NODE;return hs(o,c)}}}else{let s=or(t.visibleWrites,e);if(!i&&_m(s))return n;if(!i&&n==null&&!ym(s,ce()))return null;{let o=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(Ut(d.path,e)||Ut(e,d.path))},c=H0(t.allWrites,o,e),u=n||me.EMPTY_NODE;return hs(c,u)}}}function p2(t,e,n){let r=me.EMPTY_NODE,i=Jr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ze,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=or(t.visibleWrites,e);return n.forEachChild(ze,(o,c)=>{let u=hs(or(s,new de(o)),c);r=r.updateImmediateChild(o,u)}),QC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=or(t.visibleWrites,e);return QC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function g2(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Pe(e,n);if(ym(t.visibleWrites,s))return null;{let o=or(t.visibleWrites,s);return _m(o)?i.getChild(n):hs(o,i.getChild(n))}}function m2(t,e,n,r){let i=Pe(e,n),s=Jr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=or(t.visibleWrites,i);return hs(o,r.getNode().getImmediateChild(n))}else return null}function y2(t,e){return Jr(t.visibleWrites,e)}function _2(t,e,n,r,i,s,o){let c,u=or(t.visibleWrites,e),d=Jr(u,ce());if(d!=null)c=d;else if(n!=null)c=hs(u,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){let f=[],p=o.getCompare(),w=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o),S=w.getNext();for(;S&&f.length<i;)p(S,r)!==0&&f.push(S),S=w.getNext();return f}else return[]}function v2(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function vm(t,e,n,r){return q0(t.writeTree,t.treePath,e,n,r)}function z0(t,e){return p2(t.writeTree,t.treePath,e)}function YC(t,e,n,r){return g2(t.writeTree,t.treePath,e,n,r)}function wl(t,e){return y2(t.writeTree,Pe(t.treePath,e))}function w2(t,e,n,r,i,s){return _2(t.writeTree,t.treePath,e,n,r,i,s)}function Fm(t,e,n){return m2(t.writeTree,t.treePath,e,n)}function W0(t,e){return G0(Pe(t.treePath,e),t.writeTree)}function G0(t,e){return{treePath:t,writeTree:e}}var wm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,HC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,XF(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ZF(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,HC(r,e.snapshotNode,i.oldSnap));else throw Nr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Im=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},K0=new Im,ca=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new aa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fm(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yr(this.viewCache_),s=w2(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function I2(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function E2(t,e,n,r,i){let s=new wm,o,c;if(n.type===Sn.OVERWRITE){let d=n;d.source.fromUser?o=Em(t,e,d.path,d.snap,r,i,s):(N(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered()&&!K(d.path),o=Il(t,e,d.path,d.snap,r,i,c,s))}else if(n.type===Sn.MERGE){let d=n;d.source.fromUser?o=C2(t,e,d.path,d.children,r,i,s):(N(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered(),o=Tm(t,e,d.path,d.children,r,i,c,s))}else if(n.type===Sn.ACK_USER_WRITE){let d=n;d.revert?o=S2(t,e,d.path,r,i,s):o=D2(t,e,d.path,d.affectedTree,r,i,s)}else if(n.type===Sn.LISTEN_COMPLETE)o=b2(t,e,n.path,r,s);else throw Nr("Unknown operation type: "+n.type);let u=s.getChanges();return T2(e,o,u),{viewCache:o,changes:u}}function T2(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=mm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(JF(mm(e)))}}function Q0(t,e,n,r,i,s){let o=e.eventCache;if(wl(r,n)!=null)return e;{let c,u;if(K(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let d=Yr(e),f=d instanceof me?d:me.EMPTY_NODE,p=z0(r,f);c=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{let d=vm(r,Yr(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let d=X(n);if(d===".priority"){N(ar(n)===1,"Can't have a priority with additional path components");let f=o.getNode();u=e.serverCache.getNode();let p=YC(r,n,f,u);p!=null?c=t.filter.updatePriority(f,p):c=o.getNode()}else{let f=fe(n),p;if(o.isCompleteForChild(d)){u=e.serverCache.getNode();let w=YC(r,n,o.getNode(),u);w!=null?p=o.getNode().getImmediateChild(d).updateChild(f,w):p=o.getNode().getImmediateChild(d)}else p=Fm(r,d,e.serverCache);p!=null?c=t.filter.updateChild(o.getNode(),d,p,f,i,s):c=o.getNode()}}return sa(e,c,o.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function Il(t,e,n,r,i,s,o,c){let u=e.serverCache,d,f=o?t.filter:t.filter.getIndexedFilter();if(K(n))d=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){let S=u.getNode().updateChild(n,r);d=f.updateFullNode(u.getNode(),S,null)}else{let S=X(n);if(!u.isCompleteForPath(n)&&ar(n)>1)return e;let A=fe(n),k=u.getNode().getImmediateChild(S).updateChild(A,r);S===".priority"?d=f.updatePriority(u.getNode(),k):d=f.updateChild(u.getNode(),S,k,A,K0,null)}let p=j0(e,d,u.isFullyInitialized()||K(n),f.filtersNodes()),w=new ca(i,p,s);return Q0(t,p,n,i,w,c)}function Em(t,e,n,r,i,s,o){let c=e.eventCache,u,d,f=new ca(i,e,s);if(K(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=sa(e,d,!0,t.filter.filtersNodes());else{let p=X(n);if(p===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),u=sa(e,d,c.isFullyInitialized(),c.isFiltered());else{let w=fe(n),S=c.getNode().getImmediateChild(p),A;if(K(w))A=r;else{let x=f.getCompleteChild(p);x!=null?b0(w)===".priority"&&x.getChild(A0(w)).isEmpty()?A=x:A=x.updateChild(w,r):A=me.EMPTY_NODE}if(S.equals(A))u=e;else{let x=t.filter.updateChild(c.getNode(),p,A,w,f,o);u=sa(e,x,c.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function JC(t,e){return t.eventCache.isCompleteForChild(e)}function C2(t,e,n,r,i,s,o){let c=e;return r.foreach((u,d)=>{let f=Pe(n,u);JC(e,X(f))&&(c=Em(t,c,f,d,i,s,o))}),r.foreach((u,d)=>{let f=Pe(n,u);JC(e,X(f))||(c=Em(t,c,f,d,i,s,o))}),c}function ZC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Tm(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,d;K(n)?d=r:d=new st(null).setTree(n,r);let f=e.serverCache.getNode();return d.children.inorderTraversal((p,w)=>{if(f.hasChild(p)){let S=e.serverCache.getNode().getImmediateChild(p),A=ZC(t,S,w);u=Il(t,u,new de(p),A,i,s,o,c)}}),d.children.inorderTraversal((p,w)=>{let S=!e.serverCache.isCompleteForChild(p)&&w.value===null;if(!f.hasChild(p)&&!S){let A=e.serverCache.getNode().getImmediateChild(p),x=ZC(t,A,w);u=Il(t,u,new de(p),x,i,s,o,c)}}),u}function D2(t,e,n,r,i,s,o){if(wl(i,n)!=null)return e;let c=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(K(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Il(t,e,n,u.getNode().getChild(n),i,s,c,o);if(K(n)){let d=new st(null);return u.getNode().forEachChild(os,(f,p)=>{d=d.set(new de(f),p)}),Tm(t,e,n,d,i,s,c,o)}else return e}else{let d=new st(null);return r.foreach((f,p)=>{let w=Pe(n,f);u.isCompleteForPath(w)&&(d=d.set(f,u.getNode().getChild(w)))}),Tm(t,e,n,d,i,s,c,o)}}function b2(t,e,n,r,i){let s=e.serverCache,o=j0(e,s.getNode(),s.isFullyInitialized()||K(n),s.isFiltered());return Q0(t,o,n,r,K0,i)}function S2(t,e,n,r,i,s){let o;if(wl(r,n)!=null)return e;{let c=new ca(r,e,i),u=e.eventCache.getNode(),d;if(K(n)||X(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=vm(r,Yr(e));else{let p=e.serverCache.getNode();N(p instanceof me,"serverChildren would be complete if leaf node"),f=z0(r,p)}f=f,d=t.filter.updateFullNode(u,f,s)}else{let f=X(n),p=Fm(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),p!=null?d=t.filter.updateChild(u,f,p,fe(n),c,s):e.eventCache.getNode().hasChild(f)?d=t.filter.updateChild(u,f,me.EMPTY_NODE,fe(n),c,s):d=u,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=vm(r,Yr(e)),o.isLeafNode()&&(d=t.filter.updateFullNode(d,o,s)))}return o=e.serverCache.isFullyInitialized()||wl(r,ce())!=null,sa(e,d,o,t.filter.filtersNodes())}}function A2(t,e){let n=Yr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function XC(t,e,n,r){e.type===Sn.MERGE&&e.source.queryId!==null&&(N(Yr(t.viewCache_),"We should always have a full cache before handling merges"),N(mm(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=E2(t.processor_,i,e,n,r);return I2(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,R2(t,s.changes,s.viewCache.eventCache.getNode(),null)}function R2(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return i2(t.eventGenerator_,e,n,i)}var e0;function N2(t){N(!e0,"__referenceConstructor has already been defined"),e0=t}function Vm(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),XC(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(XC(o,e,n,r));return s}}function Um(t,e){let n=null;for(let r of t.views.values())n=n||A2(r,e);return n}var t0;function P2(t){N(!t0,"__referenceConstructor has already been defined"),t0=t}var El=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new st(null),this.pendingWriteTree_=v2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function x2(t,e,n,r,i){return c2(t.pendingWriteTree_,e,n,r,i),i?Cl(t,new ds(L0(),e,n)):[]}function is(t,e,n=!1){let r=u2(t.pendingWriteTree_,e);if(l2(t.pendingWriteTree_,e)){let s=new st(null);return r.snap!=null?s=s.set(ce(),!0):Dt(r.children,o=>{s=s.set(new de(o),!0)}),Cl(t,new gm(r.path,s,n))}else return[]}function Tl(t,e,n){return Cl(t,new ds(F0(),e,n))}function M2(t,e,n){let r=st.fromObject(n);return Cl(t,new vl(F0(),e,r))}function k2(t,e,n,r){let i=X0(t,r);if(i!=null){let s=eD(i),o=s.path,c=s.queryId,u=Tt(o,e),d=new ds(V0(c),u,n);return tD(t,o,d)}else return[]}function O2(t,e,n,r){let i=X0(t,r);if(i){let s=eD(i),o=s.path,c=s.queryId,u=Tt(o,e),d=st.fromObject(n),f=new vl(V0(c),u,d);return tD(t,o,f)}else return[]}function Y0(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{let u=Tt(o,e),d=Um(c,u);if(d)return d});return q0(i,e,s,n,!0)}function Cl(t,e){return J0(e,t.syncPointTree_,null,$0(t.pendingWriteTree_,ce()))}function J0(t,e,n,r){if(K(t.path))return Z0(t,e,n,r);{let i=e.get(ce());n==null&&i!=null&&(n=Um(i,ce()));let s=[],o=X(t.path),c=t.operationForChild(o),u=e.children.get(o);if(u&&c){let d=n?n.getImmediateChild(o):null,f=W0(r,o);s=s.concat(J0(c,u,d,f))}return i&&(s=s.concat(Vm(i,t,r,n))),s}}function Z0(t,e,n,r){let i=e.get(ce());n==null&&i!=null&&(n=Um(i,ce()));let s=[];return e.children.inorderTraversal((o,c)=>{let u=n?n.getImmediateChild(o):null,d=W0(r,o),f=t.operationForChild(o);f&&(s=s.concat(Z0(f,c,u,d)))}),i&&(s=s.concat(Vm(i,t,r,n))),s}function X0(t,e){return t.tagToQueryMap.get(e)}function eD(t){let e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function tD(t,e,n){let r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");let i=$0(t.pendingWriteTree_,e);return Vm(r,n,i,null)}var Cm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Dm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Pe(this.path_,e);return new t(this.syncTree_,n)}node(){return Y0(this.syncTree_,this.path_)}},L2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},n0=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return F2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return V2(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},F2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},V2=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);let i=e.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},U2=function(t,e,n,r){return jm(e,new Dm(n,t),r)},j2=function(t,e,n){return jm(t,new Cm(e),n)};function jm(t,e,n){let r=t.getPriority().val(),i=n0(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,c=n0(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new us(c,qe(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new us(i))),o.forEachChild(ze,(c,u)=>{let d=jm(u,e.getImmediateChild(c),n);d!==u&&(s=s.updateImmediateChild(c,d))}),s}}var ua=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Bm(t,e){let n=e instanceof de?e:new de(e),r=t,i=X(n);for(;i!==null;){let s=Pr(r.node.children,i)||{children:{},childCount:0};r=new ua(i,r,s),n=fe(n),i=X(n)}return r}function gs(t){return t.node.value}function nD(t,e){t.node.value=e,bm(t)}function rD(t){return t.node.childCount>0}function B2(t){return gs(t)===void 0&&!rD(t)}function Dl(t,e){Dt(t.node.children,(n,r)=>{e(new ua(n,t,r))})}function iD(t,e,n,r){n&&!r&&e(t),Dl(t,i=>{iD(i,e,!0,r)}),n&&r&&e(t)}function $2(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function pa(t){return new de(t.parent===null?t.name:pa(t.parent)+"/"+t.name)}function bm(t){t.parent!==null&&H2(t.parent,t.name,t)}function H2(t,e,n){let r=B2(n),i=Zt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,bm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,bm(t))}var q2=/[\[\].#$\/\u0000-\u001F\u007F]/,z2=/[\[\].#$\u0000-\u001F\u007F]/,jg=10*1024*1024,sD=function(t){return typeof t=="string"&&t.length!==0&&!q2.test(t)},W2=function(t){return typeof t=="string"&&t.length!==0&&!z2.test(t)},G2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),W2(t)};var oD=function(t,e,n){let r=n instanceof de?new em(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Wr(r)+" with contents = "+e.toString());if(c0(e))throw new Error(t+"contains "+e.toString()+" "+Wr(r));if(typeof e=="string"&&e.length>jg/3&&Vo(e)>jg)throw new Error(t+"contains a string greater than "+jg+" utf8 bytes "+Wr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Dt(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!sD(o)))throw new Error(t+" contains an invalid key ("+o+") "+Wr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);VF(r,o),oD(t,c,r),UF(r)}),i&&s)throw new Error(t+' contains ".value" child '+Wr(r)+" in addition to actual children.")}};var K2=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!sD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!G2(n))throw new Error(QE(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Sm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Q2(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!R0(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Zr(t,e,n){Q2(t,n),Y2(t,r=>Ut(r,e)||Ut(e,r))}function Y2(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(J2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function J2(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Kr&&He("event: "+n.toString()),ha(r)}}}var Z2="repo_interrupt",X2=25,Am=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_l(),this.transactionQueueTree_=new ua,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function eV(t,e,n){if(t.stats_=km(t.repoInfo_),t.forceRestClient_||fF())t.server_=new lm(t.repoInfo_,(r,i,s,o)=>{r0(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>i0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ne(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Om(t.repoInfo_,e,(r,i,s,o)=>{r0(t,r,i,s,o)},r=>{i0(t,r)},r=>{nV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=gF(t.repoInfo_,()=>new pm(t.stats_,t.server_)),t.infoData_=new dm,t.infoSyncTree_=new El({startListening:(r,i,s,o)=>{let c=[],u=t.infoData_.getNode(r._path);return u.isEmpty()||(c=Tl(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),$m(t,"connected",!1),t.serverSyncTree_=new El({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,u)=>{let d=o(c,u);Zr(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function tV(t){let n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function aD(t){return L2({timestamp:tV(t)})}function r0(t,e,n,r,i){t.dataUpdateCount++;let s=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let u=Fo(n,d=>qe(d));o=O2(t.serverSyncTree_,s,u,i)}else{let u=qe(n);o=k2(t.serverSyncTree_,s,u,i)}else if(r){let u=Fo(n,d=>qe(d));o=M2(t.serverSyncTree_,s,u)}else{let u=qe(n);o=Tl(t.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=qm(t,s)),Zr(t.eventQueue_,c,o)}function i0(t,e){$m(t,"connected",e),e===!1&&iV(t)}function nV(t,e){Dt(e,(n,r)=>{$m(t,n,r)})}function $m(t,e,n){let r=new de("/.info/"+e),i=qe(n);t.infoData_.updateSnapshot(r,i);let s=Tl(t.infoSyncTree_,r,i);Zr(t.eventQueue_,r,s)}function rV(t){return t.nextWriteId_++}function iV(t){cD(t,"onDisconnectEvents");let e=aD(t),n=_l();hm(t.onDisconnect_,ce(),(i,s)=>{let o=U2(i,s,t.serverSyncTree_,e);O0(n,i,o)});let r=[];hm(n,ce(),(i,s)=>{r=r.concat(Tl(t.serverSyncTree_,i,s));let o=cV(t,i);qm(t,o)}),t.onDisconnect_=_l(),Zr(t.eventQueue_,ce(),r)}function sV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Z2)}function cD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),He(n,...e)}function uD(t,e,n){return Y0(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function Hm(t,e=t.transactionQueueTree_){if(e||bl(t,e),gs(e)){let n=dD(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&oV(t,pa(e),n)}else rD(e)&&Dl(e,n=>{Hm(t,n)})}function oV(t,e,n){let r=n.map(d=>d.currentWriteId),i=uD(t,e,r),s=i,o=i.hash();for(let d=0;d<n.length;d++){let f=n[d];N(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;let p=Tt(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}let c=s.val(!0),u=e;t.server_.put(u.toString(),c,d=>{cD(t,"transaction put response",{path:u.toString(),status:d});let f=[];if(d==="ok"){let p=[];for(let w=0;w<n.length;w++)n[w].status=2,f=f.concat(is(t.serverSyncTree_,n[w].currentWriteId)),n[w].onComplete&&p.push(()=>n[w].onComplete(null,!0,n[w].currentOutputSnapshotResolved)),n[w].unwatcher();bl(t,Bm(t.transactionQueueTree_,e)),Hm(t,t.transactionQueueTree_),Zr(t.eventQueue_,e,f);for(let w=0;w<p.length;w++)ha(p[w])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{gt("transaction at "+u.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}qm(t,e)}},o)}function qm(t,e){let n=lD(t,e),r=pa(n),i=dD(t,n);return aV(t,i,r),r}function aV(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){let u=e[c],d=Tt(n,u.path),f=!1,p;if(N(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,p=u.abortReason,i=i.concat(is(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=X2)f=!0,p="maxretry",i=i.concat(is(t.serverSyncTree_,u.currentWriteId,!0));else{let w=uD(t,u.path,o);u.currentInputSnapshot=w;let S=e[c].update(w.val());if(S!==void 0){oD("transaction failed: Data returned ",S,u.path);let A=qe(S);typeof S=="object"&&S!=null&&Zt(S,".priority")||(A=A.updatePriority(w.getPriority()));let k=u.currentWriteId,q=aD(t),ye=j2(A,w,q);u.currentOutputSnapshotRaw=A,u.currentOutputSnapshotResolved=ye,u.currentWriteId=rV(t),o.splice(o.indexOf(k),1),i=i.concat(x2(t.serverSyncTree_,u.path,ye,u.currentWriteId,u.applyLocally)),i=i.concat(is(t.serverSyncTree_,k,!0))}else f=!0,p="nodata",i=i.concat(is(t.serverSyncTree_,u.currentWriteId,!0))}Zr(t.eventQueue_,n,i),i=[],f&&(e[c].status=2,function(w){setTimeout(w,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(p),!1,null))))}bl(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)ha(r[c]);Hm(t,t.transactionQueueTree_)}function lD(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&gs(r)===void 0;)r=Bm(r,n),e=fe(e),n=X(e);return r}function dD(t,e){let n=[];return hD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function hD(t,e,n){let r=gs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Dl(e,i=>{hD(t,i,n)})}function bl(t,e){let n=gs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,nD(e,n.length>0?n:void 0)}Dl(e,r=>{bl(t,r)})}function cV(t,e){let n=pa(lD(t,e)),r=Bm(t.transactionQueueTree_,e);return $2(r,i=>{Bg(t,i)}),Bg(t,r),iD(r,i=>{Bg(t,i)}),n}function Bg(t,e){let n=gs(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(is(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?nD(e,void 0):n.length=s+1,Zr(t.eventQueue_,pa(e),i);for(let o=0;o<r.length;o++)ha(r[o])}}function uV(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function lV(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gt(`Invalid query segment '${n}' in query '${t}'`)}return e}var s0=function(t,e){let n=dV(t),r=n.namespace;n.domain==="firebase.com"&&An(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&An("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sF();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new dl(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new de(n.pathString)}},dV=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",u=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(c=t.substring(0,d-1),t=t.substring(d+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=uV(t.substring(f,p)));let w=lV(t.substring(Math.min(t.length,p)));d=e.indexOf(":"),d>=0?(o=c==="https"||c==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;let S=e.slice(0,d);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{let A=e.indexOf(".");r=e.substring(0,A).toLowerCase(),n=e.substring(A+1),s=r}"ns"in w&&(s=w.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};var Rm=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:b0(this._path)}get ref(){return new fs(this._repo,this._path)}get _queryIdentifier(){let e=zC(this._queryParams),n=Mm(e);return n==="{}"?"default":n}get _queryObject(){return zC(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=R0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+FF(this._path)}};var fs=class t extends Rm{constructor(e,n){super(e,n,new um,!1)}get parent(){let e=A0(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};N2(fs);P2(fs);var hV="FIREBASE_DATABASE_EMULATOR_HOST",Nm={},fV=!1;function pV(t,e,n,r){t.repoInfo_=new dl(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function gV(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||An("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),He("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=s0(s,i),c=o.repoInfo,u,d;typeof process<"u"&&process.env&&(d=process.env[hV]),d?(u=!0,s=`http://${d}?ns=${c.namespace}`,o=s0(s,i),c=o.repoInfo):u=!o.repoInfo.secure;let f=i&&u?new ia(ia.OWNER):new Gg(t.name,t.options,e);K2("Invalid Firebase Database URL",o),K(o.path)||An("Database URL must point to the root of a Firebase Database (not including a child path).");let p=yV(c,t,f,new Wg(t.name,n));return new Pm(p,t)}function mV(t,e){let n=Nm[e];(!n||n[t.key]!==t)&&An(`Database ${e}(${t.repoInfo_}) has already been deleted.`),sV(t),delete n[t.key]}function yV(t,e,n,r){let i=Nm[e.name];i||(i={},Nm[e.name]=i);let s=i[t.toURLString()];return s&&An("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Am(t,fV,n,r),i[t.toURLString()]=s,s}var Pm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(eV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fs(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&An("Cannot call "+e+" on a deleted database.")}};function fD(t=Zn(),e){let n=Or(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Nu("database");r&&pD(n,...r)}return n}function pD(t,e,n,r={}){t=Ot(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&An("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&An('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ia(ia.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Pu(r.mockUserToken,t.app.options.projectId);s=new ia(o)}pV(i,e,n,s)}function _V(t){nF(nn),tn(new rt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return gV(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),pe(SC,AC,t),pe(SC,AC,"esm2017")}Om.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Om.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_V();var ga=class{constructor(e){return e}},gD="database",zm=class{constructor(){return Fr(gD)}};var Wm=new O("angularfire2.database-instances");function vV(t,e){let n=Qi(gD,t,e);return n&&new ga(n)}function wV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ga(r)}}var IV={provide:zm,deps:[[new Ce,Wm]]},EV={provide:ga,useFactory:vV,deps:[[new Ce,Wm],Lt]};function mD(t,...e){return pe("angularfire",En.full,"rtdb"),Wt([EV,IV,{provide:Wm,useFactory:wV(t),multi:!0,deps:[G,Ae,er,Tn,[new Ce,$r],[new Ce,Xn],...e]}])}var yD=tr(fD,!0);var _D=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Mt({type:t,bootstrap:[LE]})}static{this.\u0275inj=xt({providers:[dT(()=>hT({projectId:"converto-currency",appId:"1:986042278669:web:993db68623e31a50918644",storageBucket:"converto-currency.firebasestorage.app",apiKey:"AIzaSyAltteM_BCknMu8b-Kei1TleNB8u0xN9rU",authDomain:"converto-currency.firebaseapp.com",messagingSenderId:"986042278669"})),nC(()=>rC()),DC(()=>bC()),mD(()=>yD())],imports:[qI,OE]})}}return t})();HI().bootstrapModule(_D).catch(t=>console.error(t));
